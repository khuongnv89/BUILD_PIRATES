window.__require=function t(e,r,o){function n(s,a){if(!r[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var p=r[s]={exports:{}};e[s][0].call(p.exports,function(t){return n(e[s][1][t]||t)},p,p.exports,t,e,r,o)}return r[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<o.length;s++)n(o[s]);return n}({AnimMoveBoat:[function(t,e,r){"use strict";cc._RF.push(e,"81c4e+D5oFEq49swddWhkfr","AnimMoveBoat");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("./../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),c=s(t("./BoatCell")),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnSpin=null,e.prefab=null,e.time=.3,e.startPos=-150,e.offset=50,e.itemSize=300,e}return n(e,t),e.prototype.onLoad=function(){this.startPos=this.node.position.x;var t=this.getComponent(cc.Layout);null!=t&&(this.offset=t.spacingX)},e.prototype.onEnable=function(){var t=this;this.node.destroyAllChildren();for(var e=a.dataLoader.getShipConfig(),r=15+Math.floor(10*Math.random()),o=0,n=0;n<r;n++){var i=cc.instantiate(this.prefab.data);i.setParent(this.node),i.getComponent(c.default).setData(e.gachaShipList[o].shipList[0].dataId,null),++o==e.gachaShipList.length&&(o=0)}this.node.setPosition(this.startPos,0);var s=this.itemSize*r+this.offset*(r-1)+this.startPos;cc.tween(this.node).to(r*this.time,{position:cc.v3(-s,0,0)},{easing:"quadOut"}).call(function(){t.btnSpin.interactable=!0}).start()},i([l(cc.Button)],e.prototype,"btnSpin",void 0),i([l(cc.Prefab)],e.prototype,"prefab",void 0),i([p],e)}(cc.Component);r.default=f,cc._RF.pop()},{"./../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","./BoatCell":"BoatCell"}],AnimPopup:[function(t,e,r){"use strict";cc._RF.push(e,"6629cFN4j1FI5jk+JAX2yjc","AnimPopup");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.showPopup=function(){this.node.active=!0,this.node.opacity=0,this.node.scale=.2,cc.tween(this.node).to(.5,{scale:1,opacity:255},{easing:"quartInOut"}).start()},e.prototype.hidePopup=function(){var t=this;cc.tween(this.node).to(.5,{scale:.2,opacity:0},{easing:"quartInOut"}).call(function(){t.node.active=!1}).start()},e.prototype.showFadePopup=function(){this.node.active=!0,this.node.opacity=0,cc.tween(this.node).to(1,{opacity:255},{easing:"quartInOut"}).start()},e.prototype.hideFadePopup=function(){var t=this;cc.tween(this.node).to(1,{opacity:0},{easing:"quartInOut"}).call(function(){t.node.active=!1}).start()},e.prototype.hideBottom=function(){cc.tween(this.node).to(.5,{position:cc.v3(0,-650)},{easing:"quartInOut"}).start()},e.prototype.showBottom=function(){cc.tween(this.node).delay(.5).to(.5,{position:cc.v3(0,-488)},{easing:"quartInOut"}).start()},i([a],e)}(cc.Component));r.default=c,cc._RF.pop()},{}],ArrayUtils:[function(t,e,r){"use strict";cc._RF.push(e,"4be40DVq3ZOr4PSyzQqkw6r","ArrayUtils"),Object.defineProperty(r,"__esModule",{value:!0}),r.shuffle=r.randomInPool=void 0;var o=t("random");r.randomInPool=function(t,e){e||(e="weight");var n=[];return t.forEach(function(t){for(var r=t[e],o=0;o<r;o++)n.push(t)}),r.shuffle(n),n[o.int(0,n.length-1)]},r.shuffle=function(t){for(var e,r,o=t.length;0!=o;)r=Math.floor(Math.random()*o),o--,e=[t[r],t[o]],t[o]=e[0],t[r]=e[1];return t},cc._RF.pop()},{random:50}],AtlasManager:[function(t,e,r){"use strict";cc._RF.push(e,"caf9d59N6ZGuorPa7j/dmZL","AtlasManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("./GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.home=null,e.itemId=null,e.visual=null,e.island=null,e}return n(e,t),e.prototype.onLoad=function(){a.default.instance.atlas=this,cc.game.addPersistRootNode(this.node)},i([p(cc.SpriteAtlas)],e.prototype,"home",void 0),i([p(cc.SpriteAtlas)],e.prototype,"itemId",void 0),i([p(cc.SpriteAtlas)],e.prototype,"visual",void 0),i([p(cc.SpriteAtlas)],e.prototype,"island",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"./GameManager":"GameManager"}],AutoDestroy:[function(t,e,r){"use strict";cc._RF.push(e,"e2c38U80KZCyr8KRPXHftm1","AutoDestroy");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=.5,e.timeElapsed=0,e}return n(e,t),e.prototype.start=function(){this.timeElapsed=0},e.prototype.update=function(t){this.timeElapsed+=t,this.timeElapsed>this.duration&&this.node.destroy()},i([c("number")],e.prototype,"duration",void 0),i([a],e)}(cc.Component);r.default=u,cc._RF.pop()},{}],AvatarData:[function(t,e,r){"use strict";cc._RF.push(e,"25267K2Wc1Fl6k9/HS8efDH","AvatarData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.AvatarData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.AvatarData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],"Base.command":[function(t,e,r){"use strict";cc._RF.push(e,"65838R1VrFKBaVHCvl4Kkbq","Base.command"),Object.defineProperty(r,"__esModule",{value:!0}),r.BaseCommand=void 0;r.BaseCommand=function(t){this.room=t},cc._RF.pop()},{}],BaseData:[function(t,e,r){"use strict";cc._RF.push(e,"b67250krqZE+rmjTC0phH83","BaseData"),Object.defineProperty(r,"__esModule",{value:!0}),r.BaseData=void 0;r.BaseData=function(){},cc._RF.pop()},{}],BaseEntity:[function(t,e,r){"use strict";cc._RF.push(e,"1447bPU3hBAs4oIwo74uBPy","BaseEntity"),Object.defineProperty(r,"__esModule",{value:!0}),r.BaseEntity=void 0;r.BaseEntity=function(){},cc._RF.pop()},{}],BaseError:[function(t,e,r){"use strict";cc._RF.push(e,"2750bARp0xI75/h9jB5AUhR","BaseError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=function(t){function e(e){var r=t.call(this,e+"")||this;return r.code=e,r}return n(e,t),e}(Error);r.default=i,cc._RF.pop()},{}],"BaseHttp.command":[function(t,e,r){"use strict";cc._RF.push(e,"d7674UPDeZJN6b28THzkdId","BaseHttp.command"),Object.defineProperty(r,"__esModule",{value:!0}),r.BaseHttpCommand=void 0;r.BaseHttpCommand=function(t){this.room=t},cc._RF.pop()},{}],BoatCell:[function(t,e,r){"use strict";cc._RF.push(e,"8bfd39Qj7RCjqTBfNni0UJT","BoatCell");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("../../Common/Constants"),c=s(t("../../Manager/GameManager")),u=s(t("../../Manager/PoolManager")),p=cc._decorator,l=p.ccclass,f=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.dataId=-1,e}return n(e,t),e.prototype.setData=function(t,e){if(this.dataId!=t&&(this.node.destroyAllChildren(),this.skeleton=null),this.dataId=t,null==this.skeleton){var r=u.default.instance.get(t);this.node.addChild(r),r.setPosition(cc.Vec3.ZERO),this.skeleton=r.getComponent(sp.Skeleton)}if(console.log("name",t),this.skeleton.setAttachment("head","head1"),this.skeleton.setAttachment("sail","sail1"),null!=e){var o=e.equipments.find(function(t){return c.default.instance.getEquipType(t.dataId)==Number(a.EquipType.Sail)});if(null!=o){var n=c.default.instance.mapIds.get(o.dataId);console.log("Sail",o.dataId,n),this.skeleton.setAttachment("sail",n)}var i=e.equipments.find(function(t){return c.default.instance.getEquipType(t.dataId)==Number(a.EquipType.Nose)});null!=i&&(n=c.default.instance.mapIds.get(i.dataId),console.log("head",i.dataId,n),this.skeleton.setAttachment("head",n))}},i([l],e)}(cc.Component));r.default=f,cc._RF.pop()},{"../../Common/Constants":"Constants","../../Manager/GameManager":"GameManager","../../Manager/PoolManager":"PoolManager"}],BoatUI:[function(t,e,r){"use strict";cc._RF.push(e,"99bca2SZ4tGerHjfWWMhWOa","BoatUI");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(t,e,r,o){void 0===o&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var p=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),l=u(t("../../Manager/GameManager")),f=u(t("./BoatCell")),d=u(t("./EquipmentUI")),h=u(t("./EquipInfo")),_=c(t("../../Common/Constants")),y=t("../../Common/CustomEventListener"),v=t("../../Common/Toast"),g=cc._decorator,m=g.ccclass,E=g.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.equipUI=null,e.equipInfo=null,e.repairBtn=null,e.notify=null,e.atk=null,e.def=null,e.hp=null,e.shot=null,e.quantity=null,e.limit=null,e.boatName=null,e.pageView=null,e.prefab=null,e.slots=[],e.listShip=[],e.curShip=null,e.curPage=0,e}return n(e,t),e.prototype.onLoad=function(){this.equipUI.node.active=!1,this.equipInfo.node.active=!1},e.prototype.onEnable=function(){y.CustomEventListener.on(_.default.EventName.UPDATE_EQUIP,this.loadInfoShip,this),y.CustomEventListener.on(_.default.EventName.UPDATE_DURABILITY_SHIP,this.loadInfoShip,this),this.loadUI()},e.prototype.onDisable=function(){y.CustomEventListener.off(_.default.EventName.UPDATE_EQUIP,this.loadInfoShip,this),y.CustomEventListener.off(_.default.EventName.UPDATE_DURABILITY_SHIP,this.loadInfoShip,this)},e.prototype.loadUI=function(){var t=l.default.instance.user;this.pageView.removeAllPages(),this.listShip=[],this.notify.active=0==t.ships.length;for(var e=0;e<t.ships.length;e++){var r=t.ships[e],o=cc.instantiate(this.prefab.data),n=o.getComponent(f.default);n.setData(r.dataId,r),this.listShip.push(n),this.pageView.addPage(o)}this.pageView.getPages().length>0&&(0==this.curPage?this.onPageEvent(this.pageView,cc.PageView.EventType.PAGE_TURNING):this.pageView.setCurrentPageIndex(this.curPage))},e.prototype.onEquip=function(t,e){var r=this,o=parseInt(e),n=this.curShip.equipments.find(function(t){return l.default.instance.getEquipType(t.dataId)==o});null==n?this.equipUI.setData(o,function(t){l.default.instance.client.changeEquip(r.curShip.uid,t.uid)}):(this.equipInfo.setData(n),this.equipInfo.onSwap=function(){r.equipUI.setData(o,function(t){l.default.instance.client.changeEquip(r.curShip.uid,t.uid)})},this.equipInfo.onRemove=function(t){l.default.instance.client.removeEquip(r.curShip.uid,t.uid)})},e.prototype.onNext=function(){var t=this.pageView.getCurrentPageIndex();t++,this.pageView.scrollToPage(t,1)},e.prototype.onPrevious=function(){var t=this.pageView.getCurrentPageIndex();t--,this.pageView.scrollToPage(t,1)},e.prototype.onPageEvent=function(t,e){if(e===cc.PageView.EventType.PAGE_TURNING){var r=l.default.instance.user;this.curPage=t.getCurrentPageIndex(),this.curShip=r.ships[this.curPage],this.loadInfoShip()}},e.prototype.loadInfoShip=function(){var t=p.dataLoader.getShipData(this.curShip.dataId);this.atk.string="Attack: "+this.curShip.stats.damage,this.def.string="Defense: "+this.curShip.stats.defence,this.hp.string="HP: "+this.curShip.stats.hp,this.quantity.string="Quantity: "+t.shipType.name,this.shot.string="Shot: "+this.curShip.bullet.quantity+"/"+this.curShip.bullet.maxQuantity,this.limit.string="Durability: "+this.curShip.durability+"/"+t.shipType.maxDurability,this.boatName.string=t.name,this.repairBtn.interactable=0==this.curShip.durability;var e=function(t){var e=Object.keys(_.EquipType).indexOf(t);if(e<r.slots.length){var o=r.curShip.equipments.find(function(e){return l.default.instance.getEquipType(e.dataId)==Number(t)});r.slots[e].node.active=null!=o,null!=o&&(r.slots[e].spriteFrame=l.default.instance.getSpriteById(o.dataId))}},r=this;for(var o in _.EquipType)e(o);var n=l.default.instance.user.ships[this.curPage];this.listShip[this.curPage].setData(n.dataId,n)},e.prototype.repairShip=function(){l.default.instance.client.repairShip(this.curShip.uid,function(){v.Toast.instance.showText("Successful ship repair!")})},a([E(d.default)],e.prototype,"equipUI",void 0),a([E(h.default)],e.prototype,"equipInfo",void 0),a([E(cc.Button)],e.prototype,"repairBtn",void 0),a([E(cc.Node)],e.prototype,"notify",void 0),a([E(cc.Label)],e.prototype,"atk",void 0),a([E(cc.Label)],e.prototype,"def",void 0),a([E(cc.Label)],e.prototype,"hp",void 0),a([E(cc.Label)],e.prototype,"shot",void 0),a([E(cc.Label)],e.prototype,"quantity",void 0),a([E(cc.Label)],e.prototype,"limit",void 0),a([E(cc.Label)],e.prototype,"boatName",void 0),a([E(cc.PageView)],e.prototype,"pageView",void 0),a([E(cc.Prefab)],e.prototype,"prefab",void 0),a([E(cc.Sprite)],e.prototype,"slots",void 0),a([m],e)}(cc.Component);r.default=P,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../Common/Constants":"Constants","../../Common/CustomEventListener":"CustomEventListener","../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager","./BoatCell":"BoatCell","./EquipInfo":"EquipInfo","./EquipmentUI":"EquipmentUI"}],"Box.Open.InvalidParams.Error":[function(t,e,r){"use strict";cc._RF.push(e,"b3ffaC3KudHOIsTHQ60GP/u","Box.Open.InvalidParams.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.BoxOpenInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.BOX_OPEN_INVALID_PARAM)||this}return n(e,t),e}(s.default);r.BoxOpenInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Box.Open.NotOwn.Error":[function(t,e,r){"use strict";cc._RF.push(e,"6ff17LRlo5B9ZdBNZyGHpQg","Box.Open.NotOwn.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.BoxOpenNotOwnError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.BOX_OPEN_NOT_OWN)||this}return n(e,t),e}(s.default);r.BoxOpenNotOwnError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Box.Txn.NotFound.Error":[function(t,e,r){"use strict";cc._RF.push(e,"8c2e11pH0xPOYw8fH7VXdFf","Box.Txn.NotFound.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.BoxTxnNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.BOX_TXN_NOT_FOUND)||this}return n(e,t),e}(s.default);r.BoxTxnNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],Bullet:[function(t,e,r){"use strict";cc._RF.push(e,"2f8d9TKIh1CD7BvwH04ovum","Bullet");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.bulletImg=null,e.target=null,e}return n(e,t),e.prototype.create=function(t,e,r){var o=this;this.bulletImg.spriteFrame=a.default.instance.getSpriteById(e),this.target=t;var n=this,i=this.node.getPosition(),s=t.node.getPosition(),c=cc.bezierTo(1.5,[cc.v2(i.x,i.y),cc.v2(s.x,s.y+1e3),s]).easing(cc.easeBezierAction(.25,1,.5,1)),u=cc.scaleTo(1.5,.2),p=cc.spawn(u,c);this.node.runAction(p),this.scheduleOnce(function(){if(null!=t.skeleton&&null!=t.skeleton){var e=cc.instantiate(n.prefab.data);e.setParent(t.skeleton.node),e.setPosition(cc.Vec2.ZERO),t.skeleton.setAnimation(0,"die",!1),t.isAttack=!0}null!=r&&r(),o.node.destroy()},1.5)},i([p(cc.Prefab)],e.prototype,"prefab",void 0),i([p(cc.Sprite)],e.prototype,"bulletImg",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../../Manager/GameManager":"GameManager"}],1:[function(){},{}],2:[function(t,e){var r,o,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function c(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}})();var u,p=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?p=u.concat(p):f=-1,p.length&&h())}function h(){if(!l){var t=a(d);l=!0;for(var e=p.length;e;){for(u=p,p=[];++f<e;)u&&u[f].run();f=-1,e=p.length}u=null,l=!1,c(t)}}function _(t,e){this.fun=t,this.array=e}function y(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];p.push(new _(t,e)),1!==p.length||l||a(h)},_.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(){return[]},n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],ChangeInfo:[function(t,e,r){"use strict";cc._RF.push(e,"46157fOqFRJpYvGzmVctA2G","ChangeInfo");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("../../Common/Toast"),c=s(t("../../Manager/GameManager")),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editTel=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.SelectAvatar=function(t,e){c.default.instance.avataID=e},e.prototype.ChangeInfo=function(){c.default.instance.username=this.editTel.textLabel.string,""==c.default.instance.username||null==c.default.instance.username||null==c.default.instance.username?a.Toast.instance.showText("Please Enter your name."):(c.default.instance.client.reName(),c.default.instance.client.changeAvatar())},i([l(cc.EditBox)],e.prototype,"editTel",void 0),i([p],e)}(cc.Component);r.default=f,cc._RF.pop()},{"../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager"}],"Character.state":[function(t,e,r){"use strict";cc._RF.push(e,"e209ciJpkJK7YZVJiHVgALw","Character.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterState=void 0;var s=t("@colyseus/schema"),a=t("./Resource.state"),c=t("./Ship.state"),u=t("../../errors/ShipNotFoundError"),p=t("./EquipmentState"),l=t("../../errors/EquipmentNotFoundError"),f=t("./Island.state"),d=t("./Port.state"),h=t("./Item.state"),_=t("./CharacterLog.state"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gold=new a.ResourceState,e.ships=new s.ArraySchema,e.equipments=new s.ArraySchema,e.items=new s.ArraySchema,e}return n(e,t),e.prototype.getShip=function(t){var e=this.ships.find(function(e){return e.uid==t});if(!e)throw new u.ShipNotFoundError;return e},e.prototype.getEquipment=function(t){var e=this.equipments.find(function(e){return e.uid==t});if(!e)throw new l.EquipmentNotFoundError;return e},i([s.type("string")],e.prototype,"_id",void 0),i([s.type("string")],e.prototype,"walletUid",void 0),i([s.type("string")],e.prototype,"username",void 0),i([s.type("number")],e.prototype,"avatarId",void 0),i([s.type("number")],e.prototype,"createdAt",void 0),i([s.type("number")],e.prototype,"lastLogin",void 0),i([s.type(a.ResourceState)],e.prototype,"gold",void 0),i([s.type({array:c.ShipState})],e.prototype,"ships",void 0),i([s.type({array:p.EquipmentState})],e.prototype,"equipments",void 0),i([s.type({map:a.ResourceState})],e.prototype,"resources",void 0),i([s.type(f.IslandState)],e.prototype,"island",void 0),i([s.type(d.PortState)],e.prototype,"activePort",void 0),i([s.type(_.CharacterLogState)],e.prototype,"log",void 0),i([s.type({array:h.ItemState})],e.prototype,"items",void 0),e}(s.Schema);r.CharacterState=y,cc._RF.pop()},{"../../errors/EquipmentNotFoundError":"EquipmentNotFoundError","../../errors/ShipNotFoundError":"ShipNotFoundError","./CharacterLog.state":"CharacterLog.state","./EquipmentState":"EquipmentState","./Island.state":"Island.state","./Item.state":"Item.state","./Port.state":"Port.state","./Resource.state":"Resource.state","./Ship.state":"Ship.state","@colyseus/schema":3}],CharacterAvatarNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"8fffb97YR1J57OBTkvVdgLJ","CharacterAvatarNotFoundError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterAvatarNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.CHARACTER_AVATAR_NOT_FOUND,"CHARACTER_AVATAR_NOT_FOUND")||this}return n(e,t),e}(s.default);r.CharacterAvatarNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"CharacterLog.state":[function(t,e,r){"use strict";cc._RF.push(e,"219e3L0n8tL26F5WoChz2RS","CharacterLog.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterLogState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),i([s.type("number")],e.prototype,"lastWithdrawalTime",void 0),e}(s.Schema);r.CharacterLogState=a,cc._RF.pop()},{"@colyseus/schema":3}],CharacterNotAllowedChangeUsernameError:[function(t,e,r){"use strict";cc._RF.push(e,"90996q6PiNBqqpmHR0CViX2","CharacterNotAllowedChangeUsernameError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterNotAllowedChangeUsernameError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.CHARACTER_NOT_ALLOWED_TO_CHANGE_USERNAME,"CHARACTER_NOT_ALLOWED_TO_CHANGE_USERNAME")||this}return n(e,t),e}(s.default);r.CharacterNotAllowedChangeUsernameError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],CharacterNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"734edOF0oxCfL9FkdOFPz2N","CharacterNotFoundError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.CHARACTER_NOT_FOUND,"CHARACTER_NOT_FOUND")||this}return n(e,t),e}(s.default);r.CharacterNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],CharacterRenameParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"fbbc8PwFOdDiI5b+cgLGwDH","CharacterRenameParamsError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterRenameParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.CHARACTER_RENAME_PARAM_ERROR,"CHARACTER_RENAME_PARAM_ERROR")||this}return n(e,t),e}(s.default);r.CharacterRenameParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"CharacterRoom.state":[function(t,e,r){"use strict";cc._RF.push(e,"26a47tmNLpDjbuIiGiG8JzE","CharacterRoom.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterRoomState=void 0;var s=t("@colyseus/schema"),a=t("./Character.state"),c=function(t){function e(){var e=t.call(this)||this;return e.character=new a.CharacterState,e}return n(e,t),i([s.type(a.CharacterState)],e.prototype,"character",void 0),e}(s.Schema);r.CharacterRoomState=c,cc._RF.pop()},{"./Character.state":"Character.state","@colyseus/schema":3}],CharacterUsernameAlreadyExistError:[function(t,e,r){"use strict";cc._RF.push(e,"5006aZiDtlJtbDm6cQvm/2t","CharacterUsernameAlreadyExistError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterUsernameAlreadyExistError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.CHARACTER_USERNAME_ALREADY_EXIST,"CHARACTER_USERNAME_ALREADY_EXIST")||this}return n(e,t),e}(s.default);r.CharacterUsernameAlreadyExistError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ConfigData:[function(t,e,r){"use strict";cc._RF.push(e,"58243gpZihNBpxgzdgESOch","ConfigData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.BoxConfigData=r.MarketConfigData=r.GeneralConfigData=r.ShopConfigData=r.PvpConfigData=r.EquipmentConfigData=r.PveConfigData=r.ShipConfigData=r.ConfigData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.ConfigData=i;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i);r.ShipConfigData=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i);r.PveConfigData=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i);r.EquipmentConfigData=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i);r.PvpConfigData=u;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i);r.ShopConfigData=p;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i);r.GeneralConfigData=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i);r.MarketConfigData=f;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i);r.BoxConfigData=d,cc._RF.pop()},{"./BaseData":"BaseData"}],Config:[function(t,e,r){"use strict";cc._RF.push(e,"2d91aDIeGJNu7Hc1ix36Psd","Config"),Object.defineProperty(r,"__esModule",{value:!0}),r.Config=void 0;var o=t("./../../pirate-king-nft-core/pk/entity/PKConstants"),n=function(){function t(){}return t.assetUrls=["atlas/T001L000"],t.cannon=[{dataId:o.PKConstants.Default.DefaultCannonDataId,model:"phao_black",bullet:85},{dataId:29,model:"phao_bang",bullet:86},{dataId:84,model:"phao_rong",bullet:88},{dataId:83,model:"phao_keo",bullet:87},{dataId:82,model:"phao_nuoc",bullet:30}],t.posIsland=[{castle:{x:-14,y:128},pet:{x:-132,y:34},ship:{x:146,y:-3},tree:{x:-2,y:45}},{castle:{x:1,y:166},pet:{x:-150,y:57},ship:{x:148,y:-7},tree:{x:-4,y:84}},{castle:{x:2,y:165},pet:{x:-100,y:24},ship:{x:151,y:-18},tree:{x:5,y:80}},{castle:{x:-2,y:182},pet:{x:-174,y:45},ship:{x:156,y:-30},tree:{x:5,y:112}},{castle:{x:2,y:154},pet:{x:-168,y:8},ship:{x:157,y:-16},tree:{x:4,y:90}}],t}();r.Config=n,cc._RF.pop()},{"./../../pirate-king-nft-core/pk/entity/PKConstants":"PKConstants"}],ConfirmBuy:[function(t,e,r){"use strict";cc._RF.push(e,"66d70YvOLFIbZWbEKxo4Ua/","ConfirmBuy");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("./../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),c=s(t("../../Common/AnimPopup")),u=s(t("../../Manager/GameManager")),p=cc._decorator,l=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.msg=null,e.iconItem=null,e.callback=null,e.data=null,e}return n(e,t),e.prototype.setData=function(t){console.log("\ud83d\ude80 ~ file: ConfirmBuy.ts ~ line 26 ~ ConfirmBuy ~ setData ~ data",t),this.data=t,this.getComponent(c.default).showPopup(),this.iconItem.spriteFrame=u.default.instance.getSpriteById(t.item.dataId);var e=a.dataLoader.getGameDataItem(t.price.dataId);this.msg.string="YOU WANT TO USE\n "+t.price.quantity+" "+e.name+" TO BUY"},e.prototype.onAccept=function(){this.getComponent(c.default).hidePopup(),null!=this.callback&&this.callback(this.data)},i([f(cc.Label)],e.prototype,"msg",void 0),i([f(cc.Sprite)],e.prototype,"iconItem",void 0),i([l],e)}(cc.Component);r.default=d,cc._RF.pop()},{"../../Common/AnimPopup":"AnimPopup","../../Manager/GameManager":"GameManager","./../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader"}],Constants:[function(t,e,r){"use strict";cc._RF.push(e,"3ddddYY8n5J2p3ZRFpGPmy9","Constants"),Object.defineProperty(r,"__esModule",{value:!0}),r.IslandType=r.EquipType=r.LogType=r.Tag=r.EventType=r.CharStatus=r.HeroType=r.GameState=r.CharMove=r.TypePool=r.Environment=void 0;var o,n,i=cc._decorator;i.ccclass,i.property,function(t){t.ENEMY_HIT="ENEMY_HIT",t.ENEMY_DIE="ENEMY_DIE",t.HERO_HIT="HERO_HIT",t.HERO_SKILL="HERO_SKILL",t.CHOSE_HERO="CHOSE_HERO",t.GAME_STATE="GAME_STATE",t.UPDATE_RESOURCE="UPDATE_RESOURCE",t.UPDATE_ISLAND="UPDATE_ISLAND",t.UPDATE_ISLAND_PATH="UPDATE_ISLAND_PATH",t.UPDATE_PVPSPIN="UPDATE_PVPSPIN",t.UPDATE_USERINFO="UPDATE_USERINFO",t.UPDATE_EQUIP="UPDATE_EQUIP",t.UPDATE_SPIN="UPDATE_SPIN",t.RELOAD_SHIP="RELOAD_SHIP",t.UPDATE_DURABILITY_SHIP="UPDATE_DURABILITY_SHIP",t.SEND_MSG="SEND_MSG"}(o||(o={})),function(t){t[t.Dev=0]="Dev",t[t.TestNet=1]="TestNet",t[t.TestAudit=2]="TestAudit"}(n=r.Environment||(r.Environment={}));var s=function(){function t(){}return t.token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ3YWxsZXRVaWQiOiIweGM5MDE0NDMyMDcyYmYwMDBkOWYyOTlkODljNGY3OTY1MGU5NTdhYzgiLCJpYXQiOjE2NDQ4NDYzNjIsImV4cCI6MTY0NTEwNTU2Mn0.NpYoyTMc9MjYkjHBnZScnqFM0ZG-SeCC_6ceF5FmqbU",t.DOMAIN="https://api2.thedynasty.app",t.DOMAIN_DEV="http://45.32.8.100:8080",t.DATA_SETTING="data",t.LS_KEY="dynasty:auth",t.DATA_VERSION="1.0.0",t.HOME_SCENE="HomeScene",t.Game_Scene="GameScene",t.LOADING_SCENE="LoadingScene",t.DEV=!1,t.REPLAY=!1,t.TIME_REFRESH_MAIL=300,t.LEVEL_MAX_ISLAND=5,t.GOLD_ID=39,t.PVPSPIN_ID=37,t.PVP_ID=36,t.EventName=o,t.Env=n.TestNet,t}();r.default=s,function(t){t[t.Ship_1=9]="Ship_1",t[t.Ship_2=10]="Ship_2",t[t.Ship_3=11]="Ship_3",t[t.Ship_4=12]="Ship_4",t[t.Ship_5=23]="Ship_5",t[t.Ship_6=78]="Ship_6",t[t.Ship_7=79]="Ship_7",t[t.Ship_8=80]="Ship_8",t[t.Ship_9=81]="Ship_9"}(r.TypePool||(r.TypePool={})),function(t){t[t.Right=0]="Right",t[t.Left=1]="Left",t[t.Idle=2]="Idle"}(r.CharMove||(r.CharMove={})),function(t){t[t.Node=0]="Node",t[t.PLAY=1]="PLAY",t[t.PAUSE=2]="PAUSE",t[t.GAMEOVER=3]="GAMEOVER"}(r.GameState||(r.GameState={})),function(t){t[t.Melee=0]="Melee",t[t.Range=1]="Range",t[t.CustomMelee=2]="CustomMelee"}(r.HeroType||(r.HeroType={})),function(t){t[t.Idle=0]="Idle",t[t.Run=1]="Run",t[t.Attack=2]="Attack",t[t.AttackRange=3]="AttackRange",t[t.Skill=4]="Skill",t[t.Die=5]="Die"}(r.CharStatus||(r.CharStatus={})),function(t){t[t.GAME_STATE=0]="GAME_STATE",t[t.SCORE=1]="SCORE"}(r.EventType||(r.EventType={})),function(t){t[t.Enemy=1]="Enemy",t[t.Range=2]="Range",t[t.Weapon=3]="Weapon",t[t.EnemyHit=4]="EnemyHit",t[t.Player=5]="Player",t[t.BoxPlayer=6]="BoxPlayer",t[t.Skill=11]="Skill"}(r.Tag||(r.Tag={})),function(t){t[t.GAME_START=0]="GAME_START",t[t.ENEMY=1]="ENEMY",t[t.ENEMY_TYPE=2]="ENEMY_TYPE",t[t.BUFF=3]="BUFF",t[t.BUFF_HIGH=4]="BUFF_HIGH",t[t.BUFF_DISTANCE=5]="BUFF_DISTANCE",t[t.SCORE_UP=6]="SCORE_UP",t[t.UPDATE_HP=7]="UPDATE_HP",t[t.GAME_PAUSE=8]="GAME_PAUSE",t[t.GAME_OVER=9]="GAME_OVER"}(r.LogType||(r.LogType={})),function(t){t[t.Cannon=24]="Cannon",t[t.Bullet=25]="Bullet",t[t.Sail=26]="Sail",t[t.Flag=27]="Flag",t[t.Nose=28]="Nose"}(r.EquipType||(r.EquipType={})),function(t){t[t.Castle=0]="Castle",t[t.Tree=1]="Tree",t[t.Pet=2]="Pet",t[t.Ship=3]="Ship"}(r.IslandType||(r.IslandType={})),cc._RF.pop()},{}],CreateRoomActionDenied:[function(t,e,r){"use strict";cc._RF.push(e,"aae660m+gJJL5jFRzMeZD2M","CreateRoomActionDenied");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.CreateRoomActionDenied=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.CREATE_ROOM_ACTION_DENIED,"Invalid wallet id")||this}return n(e,t),e}(s.default);r.CreateRoomActionDenied=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],CustomEventListener:[function(t,e,r){"use strict";cc._RF.push(e,"3ccf7baeIVLFIxirKeBLqfH","CustomEventListener");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.CustomEventListener=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.on=function(t,e,r){this.handle[t]||(this.handle[t]=[]);var o={func:e,target:r};this.handle[t].push(o)},e.off=function(t,e,r){var o=this.handle[t];if(o&&!(o.length<=0))for(var n=0;n<o.length;n++){var i=o[n];if(i.func===e&&(!r||r===i.target)){o.splice(n,1);break}}},e.dispatchEvent=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var o=this.handle[t];if(o&&!(o.length<=0))for(var n=0;n<o.length;n++){var i=o[n];i.func.apply(i.target,e)}},e.handle={},e}(cc.Component);r.CustomEventListener=i,cc._RF.pop()},{}],DataLoader:[function(t,e,r){"use strict";cc._RF.push(e,"26fd8qDS+xIjrovF3Iruu9c","DataLoader");var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},n=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))(function(n,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var r,o,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.dataLoader=void 0;var a=t("../entity/PKConstants"),c=s(t("axios")),u=t("../../utils/ObjectUtils"),p=t("./GameData"),l=t("./GameDataItemTypes"),f=t("../errors/GameDataInvalidDataTypeError"),d=function(){function t(){}return t.prototype.init=function(t){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.loadData(t)];case 1:return e.sent(),[2]}})})},t.prototype.checkVersion=function(){return n(this,void 0,void 0,function(){return i(this,function(){return[2,1]})})},t.prototype.version=function(){return this.data.version},t.prototype.loadData=function(t){return n(this,void 0,void 0,function(){var e,r,n,s;return i(this,function(i){switch(i.label){case 0:return t||(t="http://10.128.4.5:3456/public/data.json"),[4,c.default.get(t)];case 1:for(r in e=i.sent(),this.data=Object.assign(new p.GameData,e.data),this.data)if(this.data.hasOwnProperty(r)&&["version","all"].indexOf(r)<0){for(s in n=u.jsonClone(this.data[r]))n.hasOwnProperty(s)&&(n[s].type=r);this.data.all=o(o({},this.data.all),n)}return Object.freeze(this.data),[2]}})})},t.prototype.getItem=function(t){return u.jsonClone(this.data.all[t])},t.prototype.getGameDataItem=function(t){return u.jsonClone(this.data.all[t])},t.prototype.getShipConfig=function(){return this.getItem(a.PKConstants.GameData.Config.ShipConfigDataId)},t.prototype.getPveConfig=function(){return this.getItem(a.PKConstants.GameData.Config.PveConfigDataId)},t.prototype.getEquipmentConfig=function(){return this.getItem(a.PKConstants.GameData.Config.EquipmentConfigDataId)},t.prototype.getPvpConfig=function(){return this.getItem(a.PKConstants.GameData.Config.PvpConfigDataId)},t.prototype.getShopConfigData=function(){return this.getItem(a.PKConstants.GameData.Config.ShopConfigDataId)},t.prototype.getGeneralConfigData=function(){return this.getItem(a.PKConstants.GameData.Config.GeneralConfigDataId)},t.prototype.getMarketConfig=function(){return this.getItem(a.PKConstants.GameData.Config.MarketConfigDataId)},t.prototype.getBoxConfig=function(){return this.getItem(a.PKConstants.GameData.Config.BoxConfigDataId)},t.prototype.getShipData=function(t){var e=this.getItem(t);if(e.type!=l.GameDataItemTypes.SHIP)throw new f.GameDataInvalidDataTypeError;return e},t.prototype.getEquipmentData=function(t){var e=this.getItem(t);if(e.type!=l.GameDataItemTypes.EQUIPMENT)throw new f.GameDataInvalidDataTypeError;return e},t.prototype.getShopData=function(t){var e=this.getItem(t);if(e.type!=l.GameDataItemTypes.SHOP)throw new f.GameDataInvalidDataTypeError;return e},t.prototype.getItemData=function(t){var e=this.getItem(t);if(e.type!=l.GameDataItemTypes.ITEM)throw new f.GameDataInvalidDataTypeError;return e},t.prototype.getPortData=function(t){var e=this.getItem(t);if(e.type!=l.GameDataItemTypes.PORT)throw new f.GameDataInvalidDataTypeError;return e},t}();r.dataLoader=new d,cc._RF.pop()},{"../../utils/ObjectUtils":"ObjectUtils","../entity/PKConstants":"PKConstants","../errors/GameDataInvalidDataTypeError":"GameDataInvalidDataTypeError","./GameData":"GameData","./GameDataItemTypes":"GameDataItemTypes",axios:4}],EquipInfo:[function(t,e,r){"use strict";cc._RF.push(e,"234f1WC4ctBmJ97aOIYMgTP","EquipInfo");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),c=s(t("../../Common/AnimPopup")),u=s(t("../../Manager/GameManager")),p=cc._decorator,l=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameLb=null,e.descLb=null,e.statLb=null,e.icon=null,e.data=null,e.onSwap=null,e.onRemove=null,e}return n(e,t),e.prototype.setData=function(t){this.getComponent(c.default).showPopup(),this.data=t;var e=a.dataLoader.getEquipmentData(t.dataId);if(null!=e){this.nameLb.string=e.name,this.descLb.string=e.description;var r="";t.bonusStats.damage>0&&(r="ATK: "+t.bonusStats.damage),t.bonusStats.defence>0&&(r="DEF: "+t.bonusStats.defence),t.bonusStats.hp>0&&(r="HP: "+t.bonusStats.hp),this.statLb.string=r,this.icon.spriteFrame=u.default.instance.getSpriteById(t.dataId)}},e.prototype.onClickSwap=function(){null!=this.onSwap&&this.onSwap(this.data),this.getComponent(c.default).hidePopup()},e.prototype.onClickRemove=function(){null!=this.onRemove&&this.onRemove(this.data),this.getComponent(c.default).hidePopup()},i([f(cc.Label)],e.prototype,"nameLb",void 0),i([f(cc.Label)],e.prototype,"descLb",void 0),i([f(cc.Label)],e.prototype,"statLb",void 0),i([f(cc.Sprite)],e.prototype,"icon",void 0),i([l],e)}(cc.Component);r.default=d,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../Common/AnimPopup":"AnimPopup","../../Manager/GameManager":"GameManager"}],EquipItem:[function(t,e,r){"use strict";cc._RF.push(e,"8696coEBItD+KDn9ahDsvup","EquipItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.avatar=null,e.grayMateri=null,e.norMateri=null,e.data=null,e.callback=null,e}return n(e,t),e.prototype.setData=function(t){void 0===t&&(t=null),this.data=t,null!=t?(a.default.instance.atlas,this.avatar.node.active=!0,this.avatar.spriteFrame=a.default.instance.getSpriteById(this.data.dataId),this.avatar.setMaterial(0,t.shipUid>0?this.grayMateri:this.norMateri)):this.avatar.node.active=!1},e.prototype.onClick=function(){null!=this.callback&&null!=this.data&&this.callback(this.data)},i([p(cc.Sprite)],e.prototype,"avatar",void 0),i([p(cc.Material)],e.prototype,"grayMateri",void 0),i([p(cc.Material)],e.prototype,"norMateri",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../../Manager/GameManager":"GameManager"}],EquipmentData:[function(t,e,r){"use strict";cc._RF.push(e,"cd95cpH+a9PRJi1T5r9qd0n","EquipmentData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.EquipmentData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],EquipmentInUseError:[function(t,e,r){"use strict";cc._RF.push(e,"04064fZ0utPcLFhLBDA5dhs","EquipmentInUseError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentInUseError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.EQUIPMENT_IN_USE,"EQUIPMENT_IN_USE")||this}return n(e,t),e}(s.default);r.EquipmentInUseError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],EquipmentNotEquipError:[function(t,e,r){"use strict";cc._RF.push(e,"5a78advLrFP5ayeO5NqzyHf","EquipmentNotEquipError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentNotEquipError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.EQUIPMENT_NOT_EQUIP,"EQUIPMENT_NOT_EQUIP")||this}return n(e,t),e}(s.default);r.EquipmentNotEquipError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],EquipmentNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"7ae81mp619Gd54kkqf59UxP","EquipmentNotFoundError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.EQUIPMENT_NOT_FOUND,"EQUIPMENT_NOT_FOUND")||this}return n(e,t),e}(s.default);r.EquipmentNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],EquipmentNotInUseError:[function(t,e,r){"use strict";cc._RF.push(e,"f57df981JxE/bzQ6chrvswn","EquipmentNotInUseError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentNotInUseError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.EQUIPMENT_NOT_IN_USE,"EQUIPMENT_NOT_IN_USE")||this}return n(e,t),e}(s.default);r.EquipmentNotInUseError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],EquipmentState:[function(t,e,r){"use strict";cc._RF.push(e,"128420V5EZGyq9WImGpGmpH","EquipmentState");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentState=void 0;var a=t("@colyseus/schema"),c=t("./Stats.state"),u=s(t("moment")),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bonusStats=new c.StatsState,e.createdAt=u.default().valueOf(),e}return n(e,t),i([a.type("number")],e.prototype,"uid",void 0),i([a.type("number")],e.prototype,"dataId",void 0),i([a.type("string")],e.prototype,"characterWalletUid",void 0),i([a.type("number")],e.prototype,"shipUid",void 0),i([a.type(c.StatsState)],e.prototype,"bonusStats",void 0),i([a.type("number")],e.prototype,"createdAt",void 0),e}(a.Schema);r.EquipmentState=p,cc._RF.pop()},{"./Stats.state":"Stats.state","@colyseus/schema":3,moment:34}],EquipmentTypeData:[function(t,e,r){"use strict";cc._RF.push(e,"002bcQ2Pa9PzKqpgrYJ7G9/","EquipmentTypeData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentTypeData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.EquipmentTypeData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],EquipmentUI:[function(t,e,r){"use strict";cc._RF.push(e,"002466s/LBBjrco0hvinccS","EquipmentUI");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=s(t("./EquipItem")),u=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),p=s(t("../../Common/AnimPopup")),l=s(t("./EquipInfo")),f=cc._decorator,d=f.ccclass,h=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=null,e.numbPage=null,e.equipInfo=null,e.listEquip=[],e.listData=[],e.curPage=1,e.maxPage=1,e.maxGrid=12,e.equipmentType=0,e.callback=null,e}return n(e,t),e.prototype.onLoad=function(){this.listEquip=this.grid.getComponentsInChildren(c.default)},e.prototype.onEnable=function(){var t=a.default.instance.user;if(this.listData=[],0==this.equipmentType)this.listData=t.equipments;else for(var e=0;e<t.equipments.length;e++){var r=t.equipments[e];u.dataLoader.getEquipmentData(r.dataId).equipmentType.dataId==this.equipmentType&&this.listData.push(r)}this.maxPage=Math.floor(this.listData.length/this.maxGrid)+1,this.loadPage()},e.prototype.setData=function(t,e){this.callback=e,this.equipmentType=t,this.getComponent(p.default).showPopup()},e.prototype.nextPage=function(){this.curPage<this.maxPage&&(this.curPage++,this.loadPage())},e.prototype.previousPage=function(){this.curPage>1&&(this.curPage--,this.loadPage())},e.prototype.loadPage=function(){var t=this,e=(this.curPage-1)*this.maxGrid;this.numbPage.string=this.curPage+"/"+this.maxPage;for(var r=0;r<this.listEquip.length;r++)if(r+e<this.listData.length){var o=this.listData[r+e];this.listEquip[r].setData(o),this.listEquip[r].callback=function(e){0==t.equipmentType?t.equipInfo.setData(e):(null!=t.callback&&t.callback(e),t.getComponent(p.default).hidePopup())}}else this.listEquip[r].setData()},i([h(cc.Node)],e.prototype,"grid",void 0),i([h(cc.Label)],e.prototype,"numbPage",void 0),i([h(l.default)],e.prototype,"equipInfo",void 0),i([d],e)}(cc.Component);r.default=_,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../Common/AnimPopup":"AnimPopup","../../Manager/GameManager":"GameManager","./EquipInfo":"EquipInfo","./EquipItem":"EquipItem"}],ErrorCode:[function(t,e,r){"use strict";cc._RF.push(e,"178ecDLlGFIY41V9ddHP9n0","ErrorCode"),Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorCode=void 0,function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.OTHER_DEVICE_LOGIN=4e3]="OTHER_DEVICE_LOGIN",t[t.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",t[t.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",t[t.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",t[t.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",t[t.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",t[t.AUTH_FAILED=4215]="AUTH_FAILED",t[t.APPLICATION_ERROR=4216]="APPLICATION_ERROR",t[t.UNKNOWN_ERROR=5e3]="UNKNOWN_ERROR",t[t.NEED_DECLARE=5001]="NEED_DECLARE",t[t.INVALID_ACTION=5002]="INVALID_ACTION",t[t.INVALID_NUMBER_VALUE=5003]="INVALID_NUMBER_VALUE",t[t.CREATE_ROOM_ACTION_DENIED=5004]="CREATE_ROOM_ACTION_DENIED",t[t.REDIS_CONNECT_ERROR=6100]="REDIS_CONNECT_ERROR",t[t.INVALID_WALLET_UID=6200]="INVALID_WALLET_UID",t[t.INVALID_TRANSACTION_HASH=6201]="INVALID_TRANSACTION_HASH",t[t.INVALID_SIGNATURE_HASH=6202]="INVALID_SIGNATURE_HASH",t[t.SIGNATURE_VERIFY_FAILED=6203]="SIGNATURE_VERIFY_FAILED",t[t.LOGIN_CODE_EXPIRED=6204]="LOGIN_CODE_EXPIRED",t[t.SESSION_EXPIRED=6205]="SESSION_EXPIRED",t[t.INVALID_TOKEN=6206]="INVALID_TOKEN",t[t.CHARACTER_NOT_FOUND=6300]="CHARACTER_NOT_FOUND",t[t.CHARACTER_RENAME_PARAM_ERROR=6301]="CHARACTER_RENAME_PARAM_ERROR",t[t.CHARACTER_USERNAME_ALREADY_EXIST=6302]="CHARACTER_USERNAME_ALREADY_EXIST",t[t.NOT_ENOUGH_GOLD=6303]="NOT_ENOUGH_GOLD",t[t.RESOURCE_NOT_ENOUGH=6304]="RESOURCE_NOT_ENOUGH",t[t.GAMED_DATA_INVALID_DATA_TYPE=6305]="GAMED_DATA_INVALID_DATA_TYPE",t[t.CHARACTER_AVATAR_NOT_FOUND=6306]="CHARACTER_AVATAR_NOT_FOUND",t[t.CHARACTER_NOT_ALLOWED_TO_CHANGE_USERNAME=6307]="CHARACTER_NOT_ALLOWED_TO_CHANGE_USERNAME",t[t.SHIP_LIMIT=6350]="SHIP_LIMIT",t[t.SHIP_NOT_ENOUGH_BULLET=6351]="SHIP_NOT_ENOUGH_BULLET",t[t.SHIP_NOT_FOUND=6352]="SHIP_NOT_FOUND",t[t.SHIP_NEED_REPAIR=6353]="SHIP_NEED_REPAIR",t[t.SHIP_PVE_BATTLE_NOT_FOUND=6354]="SHIP_PVE_BATTLE_NOT_FOUND",t[t.SHIP_PVE_BATTLE_EXPIRED=6355]="SHIP_PVE_BATTLE_EXPIRED",t[t.SHIP_PVE_BATTLE_FINISHED=6356]="SHIP_PVE_BATTLE_FINISHED",t[t.SHIP_PVE_START_PARAM_ERROR=6357]="SHIP_PVE_START_PARAM_ERROR",t[t.SHIP_PVE_FINISH_PARAM_ERROR=6358]="SHIP_PVE_FINISH_PARAM_ERROR",t[t.SHIP_REPAIR_INVALID_PARAM=6359]="SHIP_REPAIR_INVALID_PARAM",t[t.SHIP_NO_NEED_REPAIR=6360]="SHIP_NO_NEED_REPAIR",t[t.SHIP_UNREPAIRABLE=6361]="SHIP_UNREPAIRABLE",t[t.REWARD_INVALID_UID=6400]="REWARD_INVALID_UID",t[t.REWARD_NOT_FOUND=6401]="REWARD_NOT_FOUND",t[t.REWARD_NOT_CLAIMED=6402]="REWARD_NOT_CLAIMED",t[t.EQUIPMENT_NOT_FOUND=6500]="EQUIPMENT_NOT_FOUND",t[t.EQUIPMENT_NOT_EQUIP=6501]="EQUIPMENT_NOT_EQUIP",t[t.EQUIPMENT_IN_USE=6502]="EQUIPMENT_IN_USE",t[t.EQUIPMENT_NOT_IN_USE=6503]="EQUIPMENT_NOT_IN_USE",t[t.PVP_INVALID_SPIN_TIMES=6600]="PVP_INVALID_SPIN_TIMES",t[t.PVP_UPDATE_ISLAND_PATH_INVALID_PARAM=6601]="PVP_UPDATE_ISLAND_PATH_INVALID_PARAM",t[t.PVP_UPDATE_ISLAND_PATH_HIGHEST_LEVEL_REACHED=6602]="PVP_UPDATE_ISLAND_PATH_HIGHEST_LEVEL_REACHED",t[t.PVP_UPDATE_ISLAND_NEED_UPDATE_PATH=6603]="PVP_UPDATE_ISLAND_NEED_UPDATE_PATH",t[t.PVP_UPDATE_ISLAND_HIGHEST_LEVEL_REACHED=6604]="PVP_UPDATE_ISLAND_HIGHEST_LEVEL_REACHED",t[t.PVP_SESSION_ALREADY_JOINED=6605]="PVP_SESSION_ALREADY_JOINED",t[t.PVP_SESSION_FIGHT_TIME_OVER=6606]="PVP_SESSION_FIGHT_TIME_OVER",t[t.PVP_SESSION_GET_LEADERBOARD_FAILED=6607]="PVP_SESSION_GET_LEADERBOARD_FAILED",t[t.PVP_SESSION_NEED_SHIP=6608]="PVP_SESSION_NEED_SHIP",t[t.PVP_SESSION_NEED_JOIN=6609]="PVP_SESSION_NEED_JOIN",t[t.PVP_SESSION_NO_OPPONENT=6610]="PVP_SESSION_NO_OPPONENT",t[t.PVP_SESSION_FINISH_COMBAT_INVALID_PARAM=6611]="PVP_SESSION_FINISH_COMBAT_INVALID_PARAM",t[t.PVP_SESSION_COMBAT_NOT_FOUND=6612]="PVP_SESSION_COMBAT_NOT_FOUND",t[t.PVP_SESSION_SEND_MESSAGE_INVALID_PARAM=6613]="PVP_SESSION_SEND_MESSAGE_INVALID_PARAM",t[t.PVP_SESSION_SEND_MESSAGE_SENT=6614]="PVP_SESSION_SEND_MESSAGE_SENT",t[t.SHOP_NOT_FOUND=6700]="SHOP_NOT_FOUND",t[t.SHOP_WAS_CLOSED=6701]="SHOP_WAS_CLOSED",t[t.SHOP_NOT_AVAILABLE=6702]="SHOP_NOT_AVAILABLE",t[t.SHOP_ITEM_NOT_AVAILABLE=6703]="SHOP_ITEM_NOT_AVAILABLE",t[t.SHOP_ITEM_NOT_ENOUGH_QUANTITY=6704]="SHOP_ITEM_NOT_ENOUGH_QUANTITY",t[t.SHOP_BUY_INVALID_PARAM=6705]="SHOP_BUY_INVALID_PARAM",t[t.PORT_ALREADY_OWN=6800]="PORT_ALREADY_OWN",t[t.PORT_NOT_OWN=6801]="PORT_NOT_OWN",t[t.PORT_USE_INVALID_PARAM=6802]="PORT_USE_INVALID_PARAM",t[t.TOKEN_TXN_EXIST=6900]="TOKEN_TXN_EXIST",t[t.TOKEN_TXN_INVALID=6901]="TOKEN_TXN_INVALID",t[t.TOKEN_WITHDRAWAL_INVALID_PARAM=6902]="TOKEN_WITHDRAWAL_INVALID_PARAM",t[t.TOKEN_WITHDRAWAL_COOL_DOWN=6903]="TOKEN_WITHDRAWAL_COOL_DOWN",t[t.TOKEN_WITHDRAWAL_LIMIT=6904]="TOKEN_WITHDRAWAL_LIMIT",t[t.TOKEN_WITHDRAWAL_TXN_NOT_FOUND=6905]="TOKEN_WITHDRAWAL_TXN_NOT_FOUND",t[t.MARKET_INVALID_PARAM=7e3]="MARKET_INVALID_PARAM",t[t.MARKET_SELL_NOT_OWN_SHIP=7001]="MARKET_SELL_NOT_OWN_SHIP",t[t.MARKET_SELL_PORT_REQUIRED=7002]="MARKET_SELL_PORT_REQUIRED",t[t.MARKET_SELL_NOT_ENOUGH_MARKET_TICKET=7003]="MARKET_SELL_NOT_ENOUGH_MARKET_TICKET",t[t.MARKET_ITEM_NOT_FOUND=7004]="MARKET_ITEM_NOT_FOUND",t[t.MARKET_SELL_SHIP_BROKEN=7005]="MARKET_SELL_SHIP_BROKEN",t[t.MARKET_HISTORY_ITEM_NOT_FOUND=7006]="MARKET_HISTORY_ITEM_NOT_FOUND",t[t.BOX_OPEN_INVALID_PARAM=7100]="BOX_OPEN_INVALID_PARAM",t[t.BOX_OPEN_NOT_OWN=7101]="BOX_OPEN_NOT_OWN",t[t.BOX_TXN_NOT_FOUND=7102]="BOX_TXN_NOT_FOUND",t[t.ITEM_UNUSABLE=7200]="ITEM_UNUSABLE"}(r.ErrorCode||(r.ErrorCode={})),cc._RF.pop()},{}],3:[function(t,e,r){(function(t,o){"object"==typeof r&&void 0!==e?o(r):"function"==typeof define&&define.amd?define(["exports"],o):o((t="undefined"!=typeof globalThis?globalThis:t||self).schema={})})(this,function(t){"use strict";var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,r)};function r(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}function o(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function n(t,e){for(var r=0,o=e.length,n=t.length;r<o;r++,n++)t[n]=e[r];return t}var i,s=255;t.OPERATION=void 0,(i=t.OPERATION||(t.OPERATION={}))[i.ADD=128]="ADD",i[i.REPLACE=0]="REPLACE",i[i.DELETE=64]="DELETE",i[i.DELETE_AND_ADD=192]="DELETE_AND_ADD",i[i.TOUCH=1]="TOUCH",i[i.CLEAR=10]="CLEAR";var a=function(){function t(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return t.prototype.getNextUniqueId=function(){return this.nextUniqueId++},t.prototype.addRef=function(t,e,r){void 0===r&&(r=!0),this.refs.set(t,e),r&&(this.refCounts[t]=(this.refCounts[t]||0)+1)},t.prototype.removeRef=function(t){this.refCounts[t]=this.refCounts[t]-1,this.deletedRefs.add(t)},t.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},t.prototype.garbageCollectDeletedRefs=function(){var t=this;this.deletedRefs.forEach(function(e){if(t.refCounts[e]<=0){var r=t.refs.get(e);if(r instanceof ft)for(var o in r._definition.schema)"string"!=typeof r._definition.schema[o]&&r[o]&&r[o].$changes&&t.removeRef(r[o].$changes.refId);else{var n=r.$changes.parent._definition,i=n.schema[n.fieldsByIndex[r.$changes.parentIndex]];"function"==typeof Object.values(i)[0]&&Array.from(r.values()).forEach(function(e){return t.removeRef(e.$changes.refId)})}t.refs.delete(e),delete t.refCounts[e]}}),this.deletedRefs.clear()},t}(),c=function(){function e(t,e,r){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=t,this.setParent(e,r)}return e.prototype.setParent=function(t,e,r){var o=this;if(this.indexes||(this.indexes=this.ref instanceof ft?this.ref._definition.indexes:{}),this.parent=t,this.parentIndex=r,e)if(this.root=e,this.ref instanceof ft){var n=this.ref._definition;for(var i in n.schema){var s=this.ref[i];if(s&&s.$changes){var a=n.indexes[i];s.$changes.setParent(this.ref,e,a)}}}else"object"==typeof this.ref&&this.ref.forEach(function(t,e){if(t instanceof ft){var r=t.$changes,n=o.ref.$changes.indexes[e];r.setParent(o.ref,o.root,n)}})},e.prototype.operation=function(t){this.changes.set(--this.currentCustomOperation,t)},e.prototype.change=function(e,r){void 0===r&&(r=t.OPERATION.ADD);var o="number"==typeof e?e:this.indexes[e];this.assertValidIndex(o,e);var n=this.changes.get(o);n&&n.op!==t.OPERATION.DELETE&&n.op!==t.OPERATION.TOUCH||this.changes.set(o,{op:n&&n.op===t.OPERATION.DELETE?t.OPERATION.DELETE_AND_ADD:r,index:o}),this.allChanges.add(o),this.changed=!0,this.touchParents()},e.prototype.touch=function(e){var r="number"==typeof e?e:this.indexes[e];this.assertValidIndex(r,e),this.changes.has(r)||this.changes.set(r,{op:t.OPERATION.TOUCH,index:r}),this.allChanges.add(r),this.touchParents()},e.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},e.prototype.getType=function(t){if(this.ref._definition)return(e=this.ref._definition).schema[e.fieldsByIndex[t]];var e,r=(e=this.parent._definition).schema[e.fieldsByIndex[this.parentIndex]];return Object.values(r)[0]},e.prototype.getChildrenFilter=function(){var t=this.parent._definition.childFilters;return t&&t[this.parentIndex]},e.prototype.getValue=function(t){return this.ref.getByIndex(t)},e.prototype.delete=function(e){var r="number"==typeof e?e:this.indexes[e];if(void 0!==r){var o=this.getValue(r);this.changes.set(r,{op:t.OPERATION.DELETE,index:r}),this.allChanges.delete(r),delete this.caches[r],o&&o.$changes&&(o.$changes.parent=void 0),this.changed=!0,this.touchParents()}else console.warn("@colyseus/schema "+this.ref.constructor.name+": trying to delete non-existing index: "+e+" ("+r+")")},e.prototype.discard=function(e,r){var o=this;void 0===e&&(e=!1),void 0===r&&(r=!1),this.ref instanceof ft||this.changes.forEach(function(e){if(e.op===t.OPERATION.DELETE){var r=o.ref.getIndex(e.index);delete o.indexes[r]}}),this.changes.clear(),this.changed=e,r&&this.allChanges.clear(),this.currentCustomOperation=0},e.prototype.discardAll=function(){var t=this;this.changes.forEach(function(e){var r=t.getValue(e.index);r&&r.$changes&&r.$changes.discardAll()}),this.discard()},e.prototype.cache=function(t,e){this.caches[t]=e},e.prototype.clone=function(){return new e(this.ref,this.parent,this.root)},e.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},e.prototype.assertValidIndex=function(t,e){if(void 0===t)throw new Error('ChangeTree: missing index for field "'+e+'"')},e}(),u=function(t,e){var r=t.toString(),o=e.toString();return r<o?-1:r>o?1:0};function p(t){return t.$proxy=!0,new Proxy(t,{get:function(t,e){return"symbol"==typeof e||isNaN(e)?t[e]:t.at(e)},set:function(t,e,r){if("symbol"==typeof e||isNaN(e))t[e]=r;else{var o=Array.from(t.$items.keys()),n=parseInt(o[e]||e);null==r?t.deleteAt(n):t.setAt(n,r)}return!0},deleteProperty:function(t,e){return"number"==typeof e?t.deleteAt(e):delete t[e],!0}})}var l=function(){function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,t)}return e.is=function(t){return Array.isArray(t)||void 0!==t.array},Object.defineProperty(e.prototype,"length",{get:function(){return this.$items.size},set:function(t){0===t?this.clear():this.splice(t,this.length-t)},enumerable:!1,configurable:!0}),e.prototype.push=function(){for(var t,e=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.forEach(function(r){t=e.$refId++,e.setAt(t,r)}),t},e.prototype.pop=function(){var t=Array.from(this.$indexes.values()).pop();if(void 0!==t){this.$changes.delete(t),this.$indexes.delete(t);var e=this.$items.get(t);return this.$items.delete(t),e}},e.prototype.at=function(t){var e=Array.from(this.$items.keys())[t];return this.$items.get(e)},e.prototype.setAt=function(e,r){var o,n;void 0!==r.$changes&&r.$changes.setParent(this,this.$changes.root,e);var i=null!==(n=null===(o=this.$changes.indexes[e])||void 0===o?void 0:o.op)&&void 0!==n?n:t.OPERATION.ADD;this.$changes.indexes[e]=e,this.$indexes.set(e,e),this.$items.set(e,r),this.$changes.change(e,i)},e.prototype.deleteAt=function(t){var e=Array.from(this.$items.keys())[t];return void 0!==e&&this.$deleteAt(e)},e.prototype.$deleteAt=function(t){return this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t)},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.concat=function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new(e.bind.apply(e,n([void 0],(t=Array.from(this.$items.values())).concat.apply(t,r))))},e.prototype.join=function(t){return Array.from(this.$items.values()).join(t)},e.prototype.reverse=function(){var t=this,e=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach(function(r,o){t.setAt(e[o],r)}),this},e.prototype.shift=function(){var t=Array.from(this.$items.keys()).shift();if(void 0!==t){var e=this.$items.get(t);return this.$deleteAt(t),e}},e.prototype.slice=function(t,r){return new(e.bind.apply(e,n([void 0],Array.from(this.$items.values()).slice(t,r))))},e.prototype.sort=function(t){var e=this;void 0===t&&(t=u);var r=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(t).forEach(function(t,o){e.setAt(r[o],t)}),this},e.prototype.splice=function(t,e){void 0===e&&(e=this.length-t);for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];for(var n=Array.from(this.$items.keys()),i=[],s=t;s<t+e;s++)i.push(this.$items.get(n[s])),this.$deleteAt(n[s]);return i},e.prototype.unshift=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=this.length,n=e.length,i=Array.from(this.$items.values());return e.forEach(function(e,r){t.setAt(r,e)}),i.forEach(function(e,r){t.setAt(n+r,e)}),o+n},e.prototype.indexOf=function(t,e){return Array.from(this.$items.values()).indexOf(t,e)},e.prototype.lastIndexOf=function(t,e){return void 0===e&&(e=this.length-1),Array.from(this.$items.values()).lastIndexOf(t,e)},e.prototype.every=function(t,e){return Array.from(this.$items.values()).every(t,e)},e.prototype.some=function(t,e){return Array.from(this.$items.values()).some(t,e)},e.prototype.forEach=function(t,e){Array.from(this.$items.values()).forEach(t,e)},e.prototype.map=function(t,e){return Array.from(this.$items.values()).map(t,e)},e.prototype.filter=function(t,e){return Array.from(this.$items.values()).filter(t,e)},e.prototype.reduce=function(t,e){return Array.from(this.$items.values()).reduce(t,e)},e.prototype.reduceRight=function(t,e){return Array.from(this.$items.values()).reduceRight(t,e)},e.prototype.find=function(t,e){return Array.from(this.$items.values()).find(t,e)},e.prototype.findIndex=function(t,e){return Array.from(this.$items.values()).findIndex(t,e)},e.prototype.fill=function(){throw new Error("ArraySchema#fill() not implemented")},e.prototype.copyWithin=function(){throw new Error("ArraySchema#copyWithin() not implemented")},e.prototype.toString=function(){return this.$items.toString()},e.prototype.toLocaleString=function(){return this.$items.toLocaleString()},e.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},e.prototype[Symbol.unscopables]=function(){return this.$items[Symbol.unscopables]()},e.prototype.entries=function(){return this.$items.entries()},e.prototype.keys=function(){return this.$items.keys()},e.prototype.values=function(){return this.$items.values()},e.prototype.includes=function(t,e){return Array.from(this.$items.values()).includes(t,e)},e.prototype.flatMap=function(){throw new Error("ArraySchema#flatMap() is not supported.")},e.prototype.flat=function(){throw new Error("ArraySchema#flat() is not supported.")},e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){return this.toArray().map(function(t){return"function"==typeof t.toJSON?t.toJSON():t})},e.prototype.clone=function(t){return t?new(e.bind.apply(e,n([void 0],Array.from(this.$items.values())))):new(e.bind.apply(e,n([void 0],this.map(function(t){return t.$changes?t.clone():t}))))},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}();function f(t){return t.$proxy=!0,new Proxy(t,{get:function(t,e){return"symbol"!=typeof e&&void 0===t[e]?t.get(e):t[e]},set:function(t,e,r){return"symbol"!=typeof e&&-1===e.indexOf("$")&&"onAdd"!==e&&"onRemove"!==e&&"onChange"!==e?t.set(e,r):t[e]=r,!0},deleteProperty:function(t,e){return t.delete(e),!0}})}var d=function(){function e(t){var e=this;if(this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t)if(t instanceof Map)t.forEach(function(t,r){return e.set(r,t)});else for(var r in t)this.set(r,t[r])}return e.is=function(t){return void 0!==t.map},e.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),e.prototype.set=function(e,r){if(null==r)throw new Error("MapSchema#set('"+e+"', "+r+"): trying to set "+r+" value on '"+e+"'.");var o=void 0!==this.$changes.indexes[e],n=o?this.$changes.indexes[e]:this.$refId++,i=o?t.OPERATION.REPLACE:t.OPERATION.ADD,s=void 0!==r.$changes;return s&&r.$changes.setParent(this,this.$changes.root,n),o?s&&this.$items.get(e)!==r&&(i=t.OPERATION.ADD):(this.$changes.indexes[e]=n,this.$indexes.set(n,e)),this.$items.set(e,r),this.$changes.change(e,i),this},e.prototype.get=function(t){return this.$items.get(t)},e.prototype.delete=function(t){return this.$changes.delete(t),this.$items.delete(t)},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){return this.$items.has(t)},e.prototype.forEach=function(t){this.$items.forEach(t)},e.prototype.entries=function(){return this.$items.entries()},e.prototype.keys=function(){return this.$items.keys()},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toJSON=function(){var t={};return this.forEach(function(e,r){t[r]="function"==typeof e.toJSON?e.toJSON():e}),t},e.prototype.clone=function(t){var r;return t?r=Object.assign(new e,this):(r=new e,this.forEach(function(t,e){t.$changes?r.set(e,t.clone()):r.set(e,t)})),r},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}(),h={};function _(t,e){h[t]=e}function y(t){return h[t]}var v=function(){function t(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return t.create=function(e){var r=new t;return r.schema=Object.assign({},e&&e.schema||{}),r.indexes=Object.assign({},e&&e.indexes||{}),r.fieldsByIndex=Object.assign({},e&&e.fieldsByIndex||{}),r.descriptors=Object.assign({},e&&e.descriptors||{}),r.deprecated=Object.assign({},e&&e.deprecated||{}),r},t.prototype.addField=function(t,e){var r=this.getNextFieldIndex();this.fieldsByIndex[r]=t,this.indexes[t]=r,this.schema[t]=Array.isArray(e)?{array:e[0]}:e},t.prototype.addFilter=function(t,e){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[t]]=e,this.indexesWithFilters.push(this.indexes[t]),!0},t.prototype.addChildrenFilter=function(t,e){var r=this.indexes[t],o=this.schema[t];if(y(Object.keys(o)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[r]=e,!0;console.warn("@filterChildren: field '"+t+"' can't have children. Ignoring filter.")},t.prototype.getChildrenFilter=function(t){return this.childFilters&&this.childFilters[this.indexes[t]]},t.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},t}(),g=function(){function t(){this.types={},this.schemas=new Map,this.useFilters=!1}return t.prototype.has=function(t){return this.schemas.has(t)},t.prototype.get=function(t){return this.types[t]},t.prototype.add=function(t,e){void 0===e&&(e=this.schemas.size),t._definition=v.create(t._definition),t._typeid=e,this.types[e]=t,this.schemas.set(t,e)},t.create=function(e){return void 0===e&&(e=new t),function(t){return E(t,e)}},t}(),m=new g;function E(t,e){return void 0===e&&(e=m),function(r,o){if(!t)throw new Error("Type not found. Ensure your `@type` annotations are correct and that you don't have any circular dependencies.");var i=r.constructor;i._context=e,e.has(i)||e.add(i);var s=i._definition;if(s.addField(o,t),s.descriptors[o]){if(s.deprecated[o])return;try{throw new Error("@colyseus/schema: Duplicate '"+o+"' definition on '"+i.name+"'.\nCheck @type() annotation")}catch(y){var a=y.stack.split("\n")[4].trim();throw new Error(y.message+" "+a)}}var c=l.is(t),u=!c&&d.is(t);if("string"!=typeof t&&!ft.is(t)){var h=Object.values(t)[0];"string"==typeof h||e.has(h)||e.add(h)}var _="_"+o;s.descriptors[_]={enumerable:!1,configurable:!1,writable:!0},s.descriptors[o]={get:function(){return this[_]},set:function(t){t!==this[_]&&(null!=t?(!c||t instanceof l||(t=new(l.bind.apply(l,n([void 0],t)))),!u||t instanceof d||(t=new d(t)),void 0===t.$proxy&&(u?t=f(t):c&&(t=p(t))),this.$changes.change(o),t.$changes&&t.$changes.setParent(this,this.$changes.root,this._definition.indexes[o])):this.$changes.delete(o),this[_]=t)},enumerable:!0,configurable:!0}}}function P(t){for(var e=0,r=0,o=0,n=t.length;o<n;o++)(e=t.charCodeAt(o))<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(o++,r+=4);return r}function O(t,e,r){for(var o=0,n=0,i=r.length;n<i;n++)(o=r.charCodeAt(n))<128?t[e++]=o:o<2048?(t[e++]=192|o>>6,t[e++]=128|63&o):o<55296||o>=57344?(t[e++]=224|o>>12,t[e++]=128|o>>6&63,t[e++]=128|63&o):(n++,o=65536+((1023&o)<<10|1023&r.charCodeAt(n)),t[e++]=240|o>>18,t[e++]=128|o>>12&63,t[e++]=128|o>>6&63,t[e++]=128|63&o)}function R(t,e){t.push(255&e)}function b(t,e){t.push(255&e)}function M(t,e){t.push(255&e),t.push(e>>8&255)}function S(t,e){t.push(255&e),t.push(e>>8&255)}function I(t,e){t.push(255&e),t.push(e>>8&255),t.push(e>>16&255),t.push(e>>24&255)}function w(t,e){var r=e>>24,o=e>>16,n=e>>8,i=e;t.push(255&i),t.push(255&n),t.push(255&o),t.push(255&r)}function C(t,e){var r=Math.floor(e/Math.pow(2,32));w(t,e>>>0),w(t,r)}function A(t,e){var r=e/Math.pow(2,32)>>0;w(t,e>>>0),w(t,r)}var D=new Int32Array(2),T=new Float32Array(D.buffer),j=new Float64Array(D.buffer);function N(t,e){T[0]=e,I(t,D[0])}function x(t,e){j[0]=e,I(t,D[0]),I(t,D[1])}function B(t,e){e||(e="");var r=P(e),o=0;if(r<32)t.push(160|r),o=1;else if(r<256)t.push(217),b(t,r),o=2;else if(r<65536)t.push(218),S(t,r),o=3;else{if(!(r<4294967296))throw new Error("String too long");t.push(219),w(t,r),o=5}return O(t,t.length,e),o+r}function L(t,e){return isNaN(e)?L(t,0):isFinite(e)?e!==(0|e)?(t.push(203),x(t,e),9):e>=0?e<128?(b(t,e),1):e<256?(t.push(204),b(t,e),2):e<65536?(t.push(205),S(t,e),3):e<4294967296?(t.push(206),w(t,e),5):(t.push(207),A(t,e),9):e>=-32?(t.push(224|e+32),1):e>=-128?(t.push(208),R(t,e),2):e>=-32768?(t.push(209),M(t,e),3):e>=-2147483648?(t.push(210),I(t,e),5):(t.push(211),C(t,e),9):L(t,e>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var q=Object.freeze({__proto__:null,utf8Write:O,int8:R,uint8:b,int16:M,uint16:S,int32:I,uint32:w,int64:C,uint64:A,float32:function(t,e){N(t,e)},float64:function(t,e){x(t,e)},writeFloat32:N,writeFloat64:x,boolean:function(t,e){return b(t,e?1:0)},string:B,number:L});function F(t,e,r){for(var o="",n=0,i=e,s=e+r;i<s;i++){var a=t[i];0!=(128&a)?192!=(224&a)?224!=(240&a)?240!=(248&a)?console.error("Invalid byte "+a.toString(16)):(n=(7&a)<<18|(63&t[++i])<<12|(63&t[++i])<<6|(63&t[++i])<<0)>=65536?(n-=65536,o+=String.fromCharCode(55296+(n>>>10),56320+(1023&n))):o+=String.fromCharCode(n):o+=String.fromCharCode((15&a)<<12|(63&t[++i])<<6|(63&t[++i])<<0):o+=String.fromCharCode((31&a)<<6|63&t[++i]):o+=String.fromCharCode(a)}return o}function k(t,e){return U(t,e)<<24>>24}function U(t,e){return t[e.offset++]}function $(t,e){return H(t,e)<<16>>16}function H(t,e){return t[e.offset++]|t[e.offset++]<<8}function V(t,e){return t[e.offset++]|t[e.offset++]<<8|t[e.offset++]<<16|t[e.offset++]<<24}function G(t,e){return V(t,e)>>>0}function K(t,e){var r=G(t,e);return V(t,e)*Math.pow(2,32)+r}function W(t,e){var r=G(t,e);return G(t,e)*Math.pow(2,32)+r}var Y=new Int32Array(2),J=new Float32Array(Y.buffer),z=new Float64Array(Y.buffer);function Q(t,e){return Y[0]=V(t,e),J[0]}function Z(t,e){return Y[0]=V(t,e),Y[1]=V(t,e),z[0]}function X(t,e){var r,o=t[e.offset++];o<192?r=31&o:217===o?r=U(t,e):218===o?r=H(t,e):219===o&&(r=G(t,e));var n=F(t,e.offset,r);return e.offset+=r,n}function tt(t,e){var r=t[e.offset++];return r<128?r:202===r?Q(t,e):203===r?Z(t,e):204===r?U(t,e):205===r?H(t,e):206===r?G(t,e):207===r?W(t,e):208===r?k(t,e):209===r?$(t,e):210===r?V(t,e):211===r?K(t,e):r>223?-1*(255-r+1):void 0}function et(t,e){return t[e.offset-1]===s&&(t[e.offset]<128||t[e.offset]>=202&&t[e.offset]<=211)}var rt=Object.freeze({__proto__:null,int8:k,uint8:U,int16:$,uint16:H,int32:V,uint32:G,float32:function(t,e){return Q(t,e)},float64:function(t,e){return Z(t,e)},int64:K,uint64:W,readFloat32:Q,readFloat64:Z,boolean:function(t,e){return U(t,e)>0},string:X,stringCheck:function(t,e){var r=t[e.offset];return r<192&&r>160||217===r||218===r||219===r},number:tt,numberCheck:function(t,e){var r=t[e.offset];return r<128||r>=202&&r<=211},arrayCheck:function(t,e){return t[e.offset]<160},switchStructureCheck:et}),ot=function(){function e(t){var e=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t&&t.forEach(function(t){return e.add(t)})}return e.is=function(t){return void 0!==t.collection},e.prototype.add=function(t){var e=this.$refId++;return void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,e),this.$changes.indexes[e]=e,this.$indexes.set(e,e),this.$items.set(e,t),this.$changes.change(e),e},e.prototype.at=function(t){var e=Array.from(this.$items.keys())[t];return this.$items.get(e)},e.prototype.entries=function(){return this.$items.entries()},e.prototype.delete=function(t){for(var e,r,o=this.$items.entries();(r=o.next())&&!r.done;)if(t===r.value[1]){e=r.value[0];break}return void 0!==e&&(this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e))},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){return Array.from(this.$items.values()).some(function(e){return e===t})},e.prototype.forEach=function(t){var e=this;this.$items.forEach(function(r,o){return t(r,o,e)})},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){var t=[];return this.forEach(function(e){t.push("function"==typeof e.toJSON?e.toJSON():e)}),t},e.prototype.clone=function(t){var r;return t?r=Object.assign(new e,this):(r=new e,this.forEach(function(t){t.$changes?r.add(t.clone()):r.add(t)})),r},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}(),nt=function(){function e(t){var e=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t&&t.forEach(function(t){return e.add(t)})}return e.is=function(t){return void 0!==t.set},e.prototype.add=function(e){var r,o;if(this.has(e))return!1;var n=this.$refId++;void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,n);var i=null!==(o=null===(r=this.$changes.indexes[n])||void 0===r?void 0:r.op)&&void 0!==o?o:t.OPERATION.ADD;return this.$changes.indexes[n]=n,this.$indexes.set(n,n),this.$items.set(n,e),this.$changes.change(n,i),n},e.prototype.entries=function(){return this.$items.entries()},e.prototype.delete=function(t){for(var e,r,o=this.$items.entries();(r=o.next())&&!r.done;)if(t===r.value[1]){e=r.value[0];break}return void 0!==e&&(this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e))},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){for(var e,r=this.$items.values(),o=!1;(e=r.next())&&!e.done;)if(t===e.value){o=!0;break}return o},e.prototype.forEach=function(t){var e=this;this.$items.forEach(function(r,o){return t(r,o,e)})},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){var t=[];return this.forEach(function(e){t.push("function"==typeof e.toJSON?e.toJSON():e)}),t},e.prototype.clone=function(t){var r;return t?r=Object.assign(new e,this):(r=new e,this.forEach(function(t){t.$changes?r.add(t.clone()):r.add(t)})),r},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}(),it=function(){function t(){this.handlers=[]}return t.prototype.register=function(t){return this.handlers.push(t),this},t.prototype.invoke=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.handlers.forEach(function(e){return e.apply(void 0,t)})},t.prototype.invokeAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Promise.all(this.handlers.map(function(e){return e.apply(void 0,t)}))},t.prototype.remove=function(t){var e=this.handlers.indexOf(t);this.handlers[e]=this.handlers[this.handlers.length-1],this.handlers.pop()},t.prototype.clear=function(){this.handlers=[]},t}(),st=function(){function t(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return t.prototype.addRefId=function(t){this.refIds.has(t)||(this.refIds.add(t),this.containerIndexes.set(t,new Set))},t.get=function(e){return void 0===e.$filterState&&(e.$filterState=new t),e.$filterState},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(Error);function ct(t,e,r,o){var n,i=!1;switch(e){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":n="number",isNaN(t)&&console.log('trying to encode "NaN" in '+r.constructor.name+"#"+o);break;case"string":n="string",i=!0;break;case"boolean":return}if(typeof t!==n&&(!i||i&&null!==t)){var s="'"+JSON.stringify(t)+"'"+(t&&t.constructor&&" ("+t.constructor.name+")"||"");throw new at("a '"+n+"' was expected, but "+s+" was provided in "+r.constructor.name+"#"+o)}}function ut(t,e,r,o){if(!(t instanceof e))throw new at("a '"+e.name+"' was expected, but '"+t.constructor.name+"' was provided in "+r.constructor.name+"#"+o)}function pt(t,e,r,o,n){ct(r,t,o,n);var i=q[t];if(!i)throw new at("a '"+t+"' was expected, but "+r+" was provided in "+o.constructor.name+"#"+n);i(e,r)}function lt(t,e,r){return rt[t](e,r)}var ft=function(){function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Object.defineProperties(this,{$changes:{value:new c(this,void 0,new a),enumerable:!1,writable:!0},$listeners:{value:{},enumerable:!1,writable:!0}});var r=this._definition.descriptors;r&&Object.defineProperties(this,r),t[0]&&this.assign(t[0])}return e.onError=function(t){console.error(t)},e.is=function(t){return t._definition&&void 0!==t._definition.schema},e.prototype.assign=function(t){return Object.assign(this,t),this},Object.defineProperty(e.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),e.prototype.listen=function(t,e){var r=this;return this.$listeners[t]||(this.$listeners[t]=new it),this.$listeners[t].register(e),function(){return r.$listeners[t].remove(e)}},e.prototype.decode=function(r,o,n,i){void 0===o&&(o={offset:0}),void 0===n&&(n=this),void 0===i&&(i=new Map);var a=this.$changes.root,c=r.length,u=0,p=[];for(a.refs.set(u,this),i.set(u,p);o.offset<c;){var f=r[o.offset++];if(f!=s){var h=n.$changes,_=void 0!==n._definition,v=_?f>>6<<6:f;if(v!==t.OPERATION.CLEAR){var g=_?f%(v||255):tt(r,o),m=_?n._definition.fieldsByIndex[g]:"",E=h.getType(g),P=void 0,O=void 0,R=void 0;if(_?O=n["_"+m]:(O=n.getByIndex(g),(v&t.OPERATION.ADD)===t.OPERATION.ADD?(R=n instanceof d?X(r,o):g,n.setIndex(g,R)):R=n.getIndex(g)),(v&t.OPERATION.DELETE)===t.OPERATION.DELETE&&(v!==t.OPERATION.DELETE_AND_ADD&&n.deleteByIndex(g),O&&O.$changes&&a.removeRef(O.$changes.refId),P=null),void 0!==m){if(v===t.OPERATION.DELETE);else if(e.is(E)){var b=tt(r,o);if(P=a.refs.get(b),v!==t.OPERATION.REPLACE){var M=this.getSchemaType(r,o,E);P||((P=this.createTypeInstance(M)).$changes.refId=b,O&&(P.onChange=O.onChange,P.onRemove=O.onRemove,P.$listeners=O.$listeners,O.$changes.refId&&b!==O.$changes.refId&&a.removeRef(O.$changes.refId))),a.addRef(b,P,P!==O)}}else if("string"==typeof E)P=lt(E,r,o);else{var S=y(Object.keys(E)[0]),I=tt(r,o),w=a.refs.has(I)?O||a.refs.get(I):new S.constructor;if((P=w.clone(!0)).$changes.refId=I,O&&(P.onAdd=O.onAdd,P.onRemove=O.onRemove,P.onChange=O.onChange,O.$changes.refId&&I!==O.$changes.refId)){a.removeRef(O.$changes.refId);for(var C=[],A=O.entries(),D=void 0;(D=A.next())&&!D.done;){var T=D.value,j=T[0],N=T[1];C.push({op:t.OPERATION.DELETE,field:j,value:void 0,previousValue:N})}i.set(O.$changes.refId,C)}a.addRef(I,P,w!==O),S.getProxy&&(P=S.getProxy(P))}var x=O!==P;if(null!=P)if(P.$changes&&P.$changes.setParent(h.ref,h.root,g),n instanceof e)n[m]=P;else if(n instanceof d)j=R,n.$items.set(j,P);else if(n instanceof l)n.setAt(g,P);else if(n instanceof ot){var B=n.add(P);n.setIndex(g,B)}else n instanceof nt&&!1!==(B=n.add(P))&&n.setIndex(g,B);x&&p.push({op:v,field:m,dynamicIndex:R,value:P,previousValue:O})}else{console.warn("@colyseus/schema: definition mismatch");for(var L={offset:o.offset};o.offset<c&&(!et(r,o)||(L.offset=o.offset+1,!a.refs.has(tt(r,L))));)o.offset++}}else n.clear(!0)}else{u=tt(r,o);var q=a.refs.get(u);if(!q)throw new Error('"refId" not found: '+u);n=q,p=[],i.set(u,p)}}return this._triggerChanges(i),a.garbageCollectDeletedRefs(),i},e.prototype.encode=function(r,o,n){void 0===r&&(r=!1),void 0===o&&(o=[]),void 0===n&&(n=!1);for(var i=this.$changes,a=new WeakSet,c=[i],u=1,p=0;p<u;p++){var l=c[p],f=l.ref,h=f instanceof e;l.ensureRefId(),a.add(l),l!==i&&(l.changed||r)&&(b(o,s),L(o,l.refId));for(var _=r?Array.from(l.allChanges):Array.from(l.changes.values()),v=0,g=_.length;v<g;v++){var m=r?{op:t.OPERATION.ADD,index:_[v]}:_[v],E=m.index,P=h?f._definition.fieldsByIndex&&f._definition.fieldsByIndex[E]:E,O=o.length;if(m.op!==t.OPERATION.TOUCH)if(h)b(o,E|m.op);else{if(b(o,m.op),m.op===t.OPERATION.CLEAR)continue;L(o,E)}if(h||(m.op&t.OPERATION.ADD)!=t.OPERATION.ADD||f instanceof d&&B(o,l.ref.$indexes.get(E)),m.op!==t.OPERATION.DELETE){var R=l.getType(E),M=l.getValue(E);if(M&&M.$changes&&!a.has(M.$changes)&&(c.push(M.$changes),M.$changes.ensureRefId(),u++),m.op!==t.OPERATION.TOUCH){if(e.is(R))ut(M,R,f,P),L(o,M.$changes.refId),(m.op&t.OPERATION.ADD)===t.OPERATION.ADD&&this.tryEncodeTypeId(o,R,M.constructor);else if("string"==typeof R)pt(R,o,M,f,P);else{var S=y(Object.keys(R)[0]);ut(f["_"+P],S.constructor,f,P),L(o,M.$changes.refId)}n&&l.cache(E,o.slice(O))}}}r||n||l.discard()}return o},e.prototype.encodeAll=function(t){return this.encode(!0,[],t)},e.prototype.applyFilters=function(r,o){var n,i;void 0===o&&(o=!1);for(var a=this,c=new Set,u=st.get(r),p=[this.$changes],l=1,f=[],h=function(h){var _=p[h];if(c.has(_.refId))return"continue";var y=_.ref,v=y instanceof e;b(f,s),L(f,_.refId);var g=u.refIds.has(_),m=o||!g;u.addRefId(_);var E=u.containerIndexes.get(_),P=m?Array.from(_.allChanges):Array.from(_.changes.values());!o&&v&&y._definition.indexesWithFilters&&y._definition.indexesWithFilters.forEach(function(e){!E.has(e)&&_.allChanges.has(e)&&(m?P.push(e):P.push({op:t.OPERATION.ADD,index:e}))});for(var O=0,R=P.length;O<R;O++){var M=m?{op:t.OPERATION.ADD,index:P[O]}:P[O];if(M.op!==t.OPERATION.CLEAR){var S=M.index;if(M.op!==t.OPERATION.DELETE){var I=_.getValue(S),w=_.getType(S);if(v){if((C=y._definition.filters&&y._definition.filters[S])&&!C.call(y,r,I,a)){I&&I.$changes&&c.add(I.$changes.refId);continue}}else{var C,A=_.parent;if((C=_.getChildrenFilter())&&!C.call(A,r,y.$indexes.get(S),I,a)){I&&I.$changes&&c.add(I.$changes.refId);continue}}if(I.$changes&&(p.push(I.$changes),l++),M.op!==t.OPERATION.TOUCH)if(M.op===t.OPERATION.ADD||v)f.push.apply(f,null!==(n=_.caches[S])&&void 0!==n?n:[]),E.add(S);else if(E.has(S))f.push.apply(f,null!==(i=_.caches[S])&&void 0!==i?i:[]);else{if(E.add(S),b(f,t.OPERATION.ADD),L(f,S),y instanceof d){var D=_.ref.$indexes.get(S);B(f,D)}I.$changes?L(f,I.$changes.refId):q[w](f,I)}else I.$changes&&!v&&(b(f,t.OPERATION.ADD),L(f,S),y instanceof d&&(D=_.ref.$indexes.get(S),B(f,D)),L(f,I.$changes.refId))}else v?b(f,M.op|S):(b(f,M.op),L(f,S))}else b(f,M.op)}},_=0;_<l;_++)h(_);return f},e.prototype.clone=function(){var t=new this.constructor,e=this._definition.schema;for(var r in e)"object"==typeof this[r]&&"function"==typeof this[r].clone?t[r]=this[r].clone():t[r]=this[r];return t},e.prototype.triggerAll=function(){if(0!==this.$changes.root.refs.size){var t=new Map;e.prototype._triggerAllFillChanges.call(this,this,t);try{e.prototype._triggerChanges.call(this,t)}catch(r){e.onError(r)}}},e.prototype.toJSON=function(){var t=this._definition.schema,e=this._definition.deprecated,r={};for(var o in t)e[o]||null===this[o]||void 0===this[o]||(r[o]="function"==typeof this[o].toJSON?this[o].toJSON():this["_"+o]);return r},e.prototype.discardAllChanges=function(){this.$changes.discardAll()},e.prototype.getByIndex=function(t){return this[this._definition.fieldsByIndex[t]]},e.prototype.deleteByIndex=function(t){this[this._definition.fieldsByIndex[t]]=void 0},e.prototype.tryEncodeTypeId=function(t,e,r){e._typeid!==r._typeid&&(b(t,213),L(t,r._typeid))},e.prototype.getSchemaType=function(t,e,r){var o;return 213===t[e.offset]&&(e.offset++,o=this.constructor._context.get(tt(t,e))),o||r},e.prototype.createTypeInstance=function(t){var e=new t;return e.$changes.root=this.$changes.root,e},e.prototype._triggerAllFillChanges=function(r,o){if(!o.has(r.$changes.refId)){var n=[];if(o.set(r.$changes.refId||0,n),r instanceof e){var i=r._definition.schema;for(var s in i)void 0!==(l=r["_"+s])&&(n.push({op:t.OPERATION.ADD,field:s,value:l,previousValue:void 0}),void 0!==l.$changes&&e.prototype._triggerAllFillChanges.call(this,l,o))}else for(var a=r.entries(),c=void 0;(c=a.next())&&!c.done;){var u=c.value,p=u[0],l=u[1];n.push({op:t.OPERATION.ADD,field:p,dynamicIndex:p,value:l,previousValue:void 0}),void 0!==l.$changes&&e.prototype._triggerAllFillChanges.call(this,l,o)}}},e.prototype._triggerChanges=function(r){var o=this;r.forEach(function(r,n){var i,s,a,c,u,p,l,f,d,h,_,y;if(r.length>0){for(var v=o.$changes.root.refs.get(n),g=v instanceof e,m=0;m<r.length;m++){var E=r[m],P=v.$listeners&&v.$listeners[E.field];if(g||(E.op===t.OPERATION.ADD&&void 0===E.previousValue?null===(s=(i=v).onAdd)||void 0===s||s.call(i,E.value,null!==(a=E.dynamicIndex)&&void 0!==a?a:E.field):E.op===t.OPERATION.DELETE?void 0!==E.previousValue&&(null===(u=(c=v).onRemove)||void 0===u||u.call(c,E.previousValue,null!==(p=E.dynamicIndex)&&void 0!==p?p:E.field)):E.op===t.OPERATION.DELETE_AND_ADD?(void 0!==E.previousValue&&(null===(f=(l=v).onRemove)||void 0===f||f.call(l,E.previousValue,E.dynamicIndex)),null===(h=(d=v).onAdd)||void 0===h||h.call(d,E.value,E.dynamicIndex)):E.op!==t.OPERATION.REPLACE&&E.value===E.previousValue||null===(y=(_=v).onChange)||void 0===y||y.call(_,E.value,E.dynamicIndex)),(E.op&t.OPERATION.DELETE)===t.OPERATION.DELETE&&E.previousValue instanceof e&&E.previousValue.onRemove&&E.previousValue.onRemove(),P)try{P.invoke(E.value,E.previousValue)}catch(O){e.onError(O)}}if(g&&v.onChange)try{v.onChange(r)}catch(O){e.onError(O)}}})},e._definition=v.create(),e}(),dt=new g,ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([E("string",dt)],e.prototype,"name",void 0),o([E("string",dt)],e.prototype,"type",void 0),o([E("number",dt)],e.prototype,"referencedType",void 0),e}(ft),_t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fields=new l,e}return r(e,t),o([E("number",dt)],e.prototype,"id",void 0),o([E([ht],dt)],e.prototype,"fields",void 0),e}(ft),yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.types=new l,e}return r(e,t),e.encode=function(t){var r=t.constructor,o=new e;o.rootType=r._typeid;var n=function(t,e){for(var r in e){var n=new ht;n.name=r;var i=void 0;if("string"==typeof e[r])i=e[r];else{var s=e[r],a=void 0;ft.is(s)?(i="ref",a=e[r]):"string"==typeof s[i=Object.keys(s)[0]]?i+=":"+s[i]:a=s[i],n.referencedType=a?a._typeid:-1}n.type=i,t.fields.push(n)}o.types.push(t)},i=r._context.types;for(var s in i){var a=new _t;a.id=Number(s),n(a,i[s]._definition.schema)}return o.encodeAll()},e.decode=function(t,o){var n=new g,i=new e;i.decode(t,o);var s=i.types.reduce(function(t,e){var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(ft),i=e.id;return t[i]=o,n.add(o,i),t},{});i.types.forEach(function(t){var e=s[t.id];t.fields.forEach(function(t){var r;if(void 0!==t.referencedType){var o=t.type,i=s[t.referencedType];if(!i){var a=t.type.split(":");o=a[0],i=a[1]}"ref"===o?E(i,n)(e.prototype,t.name):E(((r={})[o]=i,r),n)(e.prototype,t.name)}else E(t.type,n)(e.prototype,t.name)})});var a=s[i.rootType],c=new a;for(var u in a._definition.schema){var p=a._definition.schema[u];"string"!=typeof p&&(c[u]="function"==typeof p?new p:new(y(Object.keys(p)[0]).constructor))}return c},o([E([_t],dt)],e.prototype,"types",void 0),o([E("number",dt)],e.prototype,"rootType",void 0),e}(ft);_("map",{constructor:d,getProxy:f}),_("array",{constructor:l,getProxy:p}),_("set",{constructor:nt}),_("collection",{constructor:ot}),t.ArraySchema=l,t.CollectionSchema=ot,t.Context=g,t.MapSchema=d,t.Reflection=yt,t.ReflectionField=ht,t.ReflectionType=_t,t.Schema=ft,t.SchemaDefinition=v,t.SetSchema=nt,t.decode=rt,t.defineTypes=function(t,e,r){for(var o in void 0===r&&(r=t._context||m),e)E(e[o],r)(t.prototype,o);return t},t.deprecated=function(t){return void 0===t&&(t=!0),function(e,r){var o=e.constructor._definition;o.deprecated[r]=!0,t&&(o.descriptors[r]={get:function(){throw new Error(r+" is deprecated.")},set:function(){},enumerable:!1,configurable:!0})}},t.dumpChanges=function(t){for(var e=[t.$changes],r={},o=r,n=function(t){var r=e[t];r.changes.forEach(function(t){var e=r.ref,n=t.index,i=e._definition?e._definition.fieldsByIndex[n]:e.$indexes.get(n);o[i]=r.getValue(n)})},i=0;i<1;i++)n(i);return r},t.encode=q,t.filter=function(t){return function(e,r){var o=e.constructor;o._definition.addFilter(r,t)&&(o._context.useFilters=!0)}},t.filterChildren=function(t){return function(e,r){var o=e.constructor;o._definition.addChildrenFilter(r,t)&&(o._context.useFilters=!0)}},t.hasFilter=function(t){return t._context&&t._context.useFilters},t.registerType=_,t.type=E,Object.defineProperty(t,"__esModule",{value:!0})})},{}],4:[function(t,e){e.exports=t("./lib/axios")},{"./lib/axios":6}],5:[function(t,e){"use strict";var r=t("./../utils"),o=t("./../core/settle"),n=t("./../helpers/cookies"),i=t("./../helpers/buildURL"),s=t("../core/buildFullPath"),a=t("./../helpers/parseHeaders"),c=t("./../helpers/isURLSameOrigin"),u=t("../core/createError"),p=t("../defaults"),l=t("../cancel/Cancel");e.exports=function(t){return new Promise(function(e,f){var d,h=t.data,_=t.headers,y=t.responseType;function v(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}r.isFormData(h)&&delete _["Content-Type"];var g=new XMLHttpRequest;if(t.auth){var m=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";_.Authorization="Basic "+btoa(m+":"+E)}var P=s(t.baseURL,t.url);function O(){if(g){var r="getAllResponseHeaders"in g?a(g.getAllResponseHeaders()):null,n={data:y&&"text"!==y&&"json"!==y?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:t,request:g};o(function(t){e(t),v()},function(t){f(t),v()},n),g=null}}if(g.open(t.method.toUpperCase(),i(P,t.params,t.paramsSerializer),!0),g.timeout=t.timeout,"onloadend"in g?g.onloadend=O:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(O)},g.onabort=function(){g&&(f(u("Request aborted",t,"ECONNABORTED",g)),g=null)},g.onerror=function(){f(u("Network Error",t,null,g)),g=null},g.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||p.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),f(u(e,t,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var R=(t.withCredentials||c(P))&&t.xsrfCookieName?n.read(t.xsrfCookieName):void 0;R&&(_[t.xsrfHeaderName]=R)}"setRequestHeader"in g&&r.forEach(_,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete _[e]:g.setRequestHeader(e,t)}),r.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),y&&"json"!==y&&(g.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&g.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(d=function(t){g&&(f(!t||t&&t.type?new l("canceled"):t),g.abort(),g=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d))),h||(h=null),g.send(h)})}},{"../cancel/Cancel":7,"../core/buildFullPath":12,"../core/createError":13,"../defaults":19,"./../core/settle":17,"./../helpers/buildURL":22,"./../helpers/cookies":24,"./../helpers/isURLSameOrigin":27,"./../helpers/parseHeaders":29,"./../utils":32}],6:[function(t,e){"use strict";var r=t("./utils"),o=t("./helpers/bind"),n=t("./core/Axios"),i=t("./core/mergeConfig"),s=function t(e){var s=new n(e),a=o(n.prototype.request,s);return r.extend(a,n.prototype,s),r.extend(a,s),a.create=function(r){return t(i(e,r))},a}(t("./defaults"));s.Axios=n,s.Cancel=t("./cancel/Cancel"),s.CancelToken=t("./cancel/CancelToken"),s.isCancel=t("./cancel/isCancel"),s.VERSION=t("./env/data").version,s.all=function(t){return Promise.all(t)},s.spread=t("./helpers/spread"),s.isAxiosError=t("./helpers/isAxiosError"),e.exports=s,e.exports.default=s},{"./cancel/Cancel":7,"./cancel/CancelToken":8,"./cancel/isCancel":9,"./core/Axios":10,"./core/mergeConfig":16,"./defaults":19,"./env/data":20,"./helpers/bind":21,"./helpers/isAxiosError":26,"./helpers/spread":30,"./utils":32}],7:[function(t,e){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},{}],8:[function(t,e){"use strict";var r=t("./Cancel");function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var o=this;this.promise.then(function(t){if(o._listeners){var e,r=o._listeners.length;for(e=0;e<r;e++)o._listeners[e](t);o._listeners=null}}),this.promise.then=function(t){var e,r=new Promise(function(t){o.subscribe(t),e=t}).then(t);return r.cancel=function(){o.unsubscribe(e)},r},t(function(t){o.reason||(o.reason=new r(t),e(o.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},o.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},e.exports=o},{"./Cancel":7}],9:[function(t,e){"use strict";e.exports=function(t){return!(!t||!t.__CANCEL__)}},{}],10:[function(t,e){"use strict";var r=t("./../utils"),o=t("../helpers/buildURL"),n=t("./InterceptorManager"),i=t("./dispatchRequest"),s=t("./mergeConfig"),a=t("../helpers/validator"),c=a.validators;function u(t){this.defaults=t,this.interceptors={request:new n,response:new n}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&a.assertOptions(e,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});var n,u=[];if(this.interceptors.response.forEach(function(t){u.push(t.fulfilled,t.rejected)}),!o){var p=[i,void 0];for(Array.prototype.unshift.apply(p,r),p=p.concat(u),n=Promise.resolve(t);p.length;)n=n.then(p.shift(),p.shift());return n}for(var l=t;r.length;){var f=r.shift(),d=r.shift();try{l=f(l)}catch(h){d(h);break}}try{n=i(l)}catch(h){return Promise.reject(h)}for(;u.length;)n=n.then(u.shift(),u.shift());return n},u.prototype.getUri=function(t){return t=s(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(t){u.prototype[t]=function(e,r){return this.request(s(r||{},{method:t,url:e,data:(r||{}).data}))}}),r.forEach(["post","put","patch"],function(t){u.prototype[t]=function(e,r,o){return this.request(s(o||{},{method:t,url:e,data:r}))}}),e.exports=u},{"../helpers/buildURL":22,"../helpers/validator":31,"./../utils":32,"./InterceptorManager":11,"./dispatchRequest":14,"./mergeConfig":16}],11:[function(t,e){"use strict";var r=t("./../utils");function o(){this.handlers=[]}o.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},e.exports=o},{"./../utils":32}],12:[function(t,e){"use strict";var r=t("../helpers/isAbsoluteURL"),o=t("../helpers/combineURLs");e.exports=function(t,e){return t&&!r(e)?o(t,e):e}},{"../helpers/combineURLs":23,"../helpers/isAbsoluteURL":25}],13:[function(t,e){"use strict";var r=t("./enhanceError");e.exports=function(t,e,o,n,i){var s=new Error(t);return r(s,e,o,n,i)}},{"./enhanceError":15}],14:[function(t,e){"use strict";var r=t("./../utils"),o=t("./transformData"),n=t("../cancel/isCancel"),i=t("../defaults"),s=t("../cancel/Cancel");function a(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s("canceled")}e.exports=function(t){return a(t),t.headers=t.headers||{},t.data=o.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||i.adapter)(t).then(function(e){return a(t),e.data=o.call(t,e.data,e.headers,t.transformResponse),e},function(e){return n(e)||(a(t),e&&e.response&&(e.response.data=o.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},{"../cancel/Cancel":7,"../cancel/isCancel":9,"../defaults":19,"./../utils":32,"./transformData":18}],15:[function(t,e){"use strict";e.exports=function(t,e,r,o,n){return t.config=e,r&&(t.code=r),t.request=o,t.response=n,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},{}],16:[function(t,e){"use strict";var r=t("../utils");e.exports=function(t,e){e=e||{};var o={};function n(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function i(o){return r.isUndefined(e[o])?r.isUndefined(t[o])?void 0:n(void 0,t[o]):n(t[o],e[o])}function s(t){if(!r.isUndefined(e[t]))return n(void 0,e[t])}function a(o){return r.isUndefined(e[o])?r.isUndefined(t[o])?void 0:n(void 0,t[o]):n(void 0,e[o])}function c(r){return r in e?n(t[r],e[r]):r in t?n(void 0,t[r]):void 0}var u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(t).concat(Object.keys(e)),function(t){var e=u[t]||i,n=e(t);r.isUndefined(n)&&e!==c||(o[t]=n)}),o}},{"../utils":32}],17:[function(t,e){"use strict";var r=t("./createError");e.exports=function(t,e,o){var n=o.config.validateStatus;o.status&&n&&!n(o.status)?e(r("Request failed with status code "+o.status,o.config,null,o.request,o)):t(o)}},{"./createError":13}],18:[function(t,e){"use strict";var r=t("./../utils"),o=t("./../defaults");e.exports=function(t,e,n){var i=this||o;return r.forEach(n,function(r){t=r.call(i,t,e)}),t}},{"./../defaults":19,"./../utils":32}],19:[function(t,e){(function(r){"use strict";var o=t("./utils"),n=t("./helpers/normalizeHeaderName"),i=t("./core/enhanceError"),s={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function c(t,e,r){if(o.isString(t))try{return(e||JSON.parse)(t),o.trim(t)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(t)}var u,p={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?u=t("./adapters/xhr"):void 0!==r&&"[object process]"===Object.prototype.toString.call(r)&&(u=t("./adapters/http")),u),transformRequest:[function(t,e){return n(e,"Accept"),n(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)||e&&"application/json"===e["Content-Type"]?(a(e,"application/json"),c(t)):t}],transformResponse:[function(t){var e=this.transitional||p.transitional,r=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||n&&o.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(s){if("SyntaxError"===a.name)throw i(a,this,"E_JSON_PARSE");throw a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],function(t){p.headers[t]={}}),o.forEach(["post","put","patch"],function(t){p.headers[t]=o.merge(s)}),e.exports=p}).call(this,t("_process"))},{"./adapters/http":5,"./adapters/xhr":5,"./core/enhanceError":15,"./helpers/normalizeHeaderName":28,"./utils":32,_process:2}],20:[function(t,e){e.exports={version:"0.24.0"}},{}],21:[function(t,e){"use strict";e.exports=function(t,e){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return t.apply(e,r)}}},{}],22:[function(t,e){"use strict";var r=t("./../utils");function o(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var s=[];r.forEach(e,function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(o(e)+"="+o(t))}))}),i=s.join("&")}if(i){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},{"./../utils":32}],23:[function(t,e){"use strict";e.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},{}],24:[function(t,e){"use strict";var r=t("./../utils");e.exports=r.isStandardBrowserEnv()?{write:function(t,e,o,n,i,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(o)&&a.push("expires="+new Date(o).toGMTString()),r.isString(n)&&a.push("path="+n),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{"./../utils":32}],25:[function(t,e){"use strict";e.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},{}],26:[function(t,e){"use strict";e.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},{}],27:[function(t,e){"use strict";var r=t("./../utils");e.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function n(t){var r=t;return e&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return t=n(window.location.href),function(e){var o=r.isString(e)?n(e):e;return o.protocol===t.protocol&&o.host===t.host}}():function(){return!0}},{"./../utils":32}],28:[function(t,e){"use strict";var r=t("../utils");e.exports=function(t,e){r.forEach(t,function(r,o){o!==e&&o.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[o])})}},{"../utils":32}],29:[function(t,e){"use strict";var r=t("./../utils"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(t){var e,n,i,s={};return t?(r.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(s[e]&&o.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}}),s):s}},{"./../utils":32}],30:[function(t,e){"use strict";e.exports=function(t){return function(e){return t.apply(null,e)}}},{}],31:[function(t,e){"use strict";var r=t("../env/data").version,o={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){o[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var n={};o.transitional=function(t,e,o){function i(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(o?". "+o:"")}return function(r,o,s){if(!1===t)throw new Error(i(o," has been removed"+(e?" in "+e:"")));return e&&!n[o]&&(n[o]=!0,console.warn(i(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,o,s)}},e.exports={assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var o=Object.keys(t),n=o.length;n-- >0;){var i=o[n],s=e[i];if(s){var a=t[i],c=void 0===a||s(a,i,t);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:o}},{"../env/data":20}],32:[function(t,e){"use strict";var r=t("./helpers/bind"),o=Object.prototype.toString;function n(t){return"[object Array]"===o.call(t)}function i(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function a(t){if("[object Object]"!==o.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===o.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),n(t))for(var r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}e.exports={isArray:n,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!i(t)&&null!==t.constructor&&!i(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:a,isUndefined:i,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:c,isStream:function(t){return s(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function r(r,o){a(e[o])&&a(r)?e[o]=t(e[o],r):a(r)?e[o]=t({},r):n(r)?e[o]=r.slice():e[o]=r}for(var o=0,i=arguments.length;o<i;o++)u(arguments[o],r);return e},extend:function(t,e,o){return u(e,function(e,n){t[n]=o&&"function"==typeof e?r(e,o):e}),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},{"./helpers/bind":21}],33:[function(t,e,r){(function(t){(function(t,o){"object"==typeof r&&void 0!==e?o(r):"function"==typeof define&&define.amd?define("colyseus.js",["exports"],o):o((t="undefined"!=typeof globalThis?globalThis:t||self).Colyseus={})})(this,function(e){"use strict";ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return null!==t&&"object"==typeof t&&t.buffer instanceof ArrayBuffer}),"undefined"==typeof globalThis&&"undefined"!=typeof window&&(window.globalThis=window);var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}function n(t,e,r,o){return new(r||(r=Promise))(function(n,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})}function i(t,e){var r,o,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function s(t,e){e.headers=t.headers||{},e.statusMessage=t.statusText,e.statusCode=t.status,e.data=t.response}function a(t,e,r){return new Promise(function(o,n){r=r||{};var i,a,c,u=new XMLHttpRequest,p=r.body,l=r.headers||{};for(i in r.timeout&&(u.timeout=r.timeout),u.ontimeout=u.onerror=function(t){t.timeout="timeout"==t.type,n(t)},u.open(t,e.href||e),u.onload=function(){for(c=u.getAllResponseHeaders().trim().split(/[\r\n]+/),s(u,u);a=c.shift();)a=a.split(": "),u.headers[a.shift().toLowerCase()]=a.join(": ");if((a=u.headers["content-type"])&&~a.indexOf("application/json"))try{u.data=JSON.parse(u.data,r.reviver)}catch(t){return s(u,t),n(t)}(u.status>=400?n:o)(u)},typeof FormData<"u"&&p instanceof FormData||p&&"object"==typeof p&&(l["content-type"]="application/json",p=JSON.stringify(p)),u.withCredentials=!!r.withCredentials,l)u.setRequestHeader(i,l[i]);u.send(p)})}var c=a.bind(a,"GET"),u=a.bind(a,"POST"),p=a.bind(a,"PATCH"),l=a.bind(a,"DELETE"),f=c,d=p,h=u,_=a.bind(a,"PUT"),y=a,v={del:l,get:f,patch:d,post:h,put:_,send:y},g=Object.freeze(Object.assign(Object.create(null),v,{default:v,del:l,get:f,patch:d,post:h,put:_,send:y})),m=function(t){function e(e,r){var o=t.call(this,r)||this;return o.name="ServerError",o.code=e,o}return o(e,t),e}(Error);function E(t,e){if(this._offset=e,t instanceof ArrayBuffer)this._buffer=t,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(t))throw new Error("Invalid argument");this._buffer=t.buffer,this._view=new DataView(this._buffer,t.byteOffset,t.byteLength)}}function P(t,e,r){for(var o="",n=0,i=e,s=e+r;i<s;i++){var a=t.getUint8(i);if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(n=(7&a)<<18|(63&t.getUint8(++i))<<12|(63&t.getUint8(++i))<<6|(63&t.getUint8(++i))<<0)>=65536?(n-=65536,o+=String.fromCharCode(55296+(n>>>10),56320+(1023&n))):o+=String.fromCharCode(n)}else o+=String.fromCharCode((15&a)<<12|(63&t.getUint8(++i))<<6|(63&t.getUint8(++i))<<0);else o+=String.fromCharCode((31&a)<<6|63&t.getUint8(++i));else o+=String.fromCharCode(a)}return o}function O(t,e){void 0===e&&(e=0);var r=new E(t,e),o=r._parse();if(r._offset!==t.byteLength)throw new Error(t.byteLength-r._offset+" trailing bytes");return o}function R(t,e,r){for(var o=0,n=0,i=r.length;n<i;n++)(o=r.charCodeAt(n))<128?t.setUint8(e++,o):o<2048?(t.setUint8(e++,192|o>>6),t.setUint8(e++,128|63&o)):o<55296||o>=57344?(t.setUint8(e++,224|o>>12),t.setUint8(e++,128|o>>6&63),t.setUint8(e++,128|63&o)):(n++,o=65536+((1023&o)<<10|1023&r.charCodeAt(n)),t.setUint8(e++,240|o>>18),t.setUint8(e++,128|o>>12&63),t.setUint8(e++,128|o>>6&63),t.setUint8(e++,128|63&o))}function b(t){for(var e=0,r=0,o=0,n=t.length;o<n;o++)(e=t.charCodeAt(o))<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(o++,r+=4);return r}function M(t,e,r){var o=typeof r,n=0,i=0,s=0,a=0,c=0,u=0;if("string"===o){if((c=b(r))<32)t.push(160|c),u=1;else if(c<256)t.push(217,c),u=2;else if(c<65536)t.push(218,c>>8,c),u=3;else{if(!(c<4294967296))throw new Error("String too long");t.push(219,c>>24,c>>16,c>>8,c),u=5}return e.push({_str:r,_length:c,_offset:t.length}),u+c}if("number"===o)return Math.floor(r)===r&&isFinite(r)?r>=0?r<128?(t.push(r),1):r<256?(t.push(204,r),2):r<65536?(t.push(205,r>>8,r),3):r<4294967296?(t.push(206,r>>24,r>>16,r>>8,r),5):(s=r/Math.pow(2,32)>>0,a=r>>>0,t.push(207,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),9):r>=-32?(t.push(r),1):r>=-128?(t.push(208,r),2):r>=-32768?(t.push(209,r>>8,r),3):r>=-2147483648?(t.push(210,r>>24,r>>16,r>>8,r),5):(s=Math.floor(r/Math.pow(2,32)),a=r>>>0,t.push(211,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),9):(t.push(203),e.push({_float:r,_length:8,_offset:t.length}),9);if("object"===o){if(null===r)return t.push(192),1;if(Array.isArray(r)){if((c=r.length)<16)t.push(144|c),u=1;else if(c<65536)t.push(220,c>>8,c),u=3;else{if(!(c<4294967296))throw new Error("Array too large");t.push(221,c>>24,c>>16,c>>8,c),u=5}for(n=0;n<c;n++)u+=M(t,e,r[n]);return u}if(r instanceof Date){var p=r.getTime();return s=Math.floor(p/Math.pow(2,32)),a=p>>>0,t.push(215,0,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),10}if(r instanceof ArrayBuffer){if((c=r.byteLength)<256)t.push(196,c),u=2;else if(c<65536)t.push(197,c>>8,c),u=3;else{if(!(c<4294967296))throw new Error("Buffer too large");t.push(198,c>>24,c>>16,c>>8,c),u=5}return e.push({_bin:r,_length:c,_offset:t.length}),u+c}if("function"==typeof r.toJSON)return M(t,e,r.toJSON());var l=[],f="",d=Object.keys(r);for(n=0,i=d.length;n<i;n++)"function"!=typeof r[f=d[n]]&&l.push(f);if((c=l.length)<16)t.push(128|c),u=1;else if(c<65536)t.push(222,c>>8,c),u=3;else{if(!(c<4294967296))throw new Error("Object too large");t.push(223,c>>24,c>>16,c>>8,c),u=5}for(n=0;n<c;n++)u+=M(t,e,f=l[n]),u+=M(t,e,r[f]);return u}if("boolean"===o)return t.push(r?195:194),1;if("undefined"===o)return t.push(212,0,0),3;throw new Error("Could not encode")}function S(t){var e=[],r=[],o=M(e,r,t),n=new ArrayBuffer(o),i=new DataView(n),s=0,a=0,c=-1;r.length>0&&(c=r[0]._offset);for(var u,p=0,l=0,f=0,d=e.length;f<d;f++)if(i.setUint8(a+f,e[f]),f+1===c){if(p=(u=r[s])._length,l=a+c,u._bin)for(var h=new Uint8Array(u._bin),_=0;_<p;_++)i.setUint8(l+_,h[_]);else u._str?R(i,l,u._str):void 0!==u._float&&i.setFloat64(l,u._float);a+=p,r[++s]&&(c=r[s]._offset)}return n}E.prototype._array=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=this._parse();return e},E.prototype._map=function(t){for(var e={},r=0;r<t;r++)e[this._parse()]=this._parse();return e},E.prototype._str=function(t){var e=P(this._view,this._offset,t);return this._offset+=t,e},E.prototype._bin=function(t){var e=this._buffer.slice(this._offset,this._offset+t);return this._offset+=t,e},E.prototype._parse=function(){var t,e=this._view.getUint8(this._offset++),r=0,o=0,n=0,i=0;if(e<192)return e<128?e:e<144?this._map(15&e):e<160?this._array(15&e):this._str(31&e);if(e>223)return-1*(255-e+1);switch(e){case 192:return null;case 194:return!1;case 195:return!0;case 196:return r=this._view.getUint8(this._offset),this._offset+=1,this._bin(r);case 197:return r=this._view.getUint16(this._offset),this._offset+=2,this._bin(r);case 198:return r=this._view.getUint32(this._offset),this._offset+=4,this._bin(r);case 199:return r=this._view.getUint8(this._offset),o=this._view.getInt8(this._offset+1),this._offset+=2,[o,this._bin(r)];case 200:return r=this._view.getUint16(this._offset),o=this._view.getInt8(this._offset+2),this._offset+=3,[o,this._bin(r)];case 201:return r=this._view.getUint32(this._offset),o=this._view.getInt8(this._offset+4),this._offset+=5,[o,this._bin(r)];case 202:return t=this._view.getFloat32(this._offset),this._offset+=4,t;case 203:return t=this._view.getFloat64(this._offset),this._offset+=8,t;case 204:return t=this._view.getUint8(this._offset),this._offset+=1,t;case 205:return t=this._view.getUint16(this._offset),this._offset+=2,t;case 206:return t=this._view.getUint32(this._offset),this._offset+=4,t;case 207:return n=this._view.getUint32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,n+i;case 208:return t=this._view.getInt8(this._offset),this._offset+=1,t;case 209:return t=this._view.getInt16(this._offset),this._offset+=2,t;case 210:return t=this._view.getInt32(this._offset),this._offset+=4,t;case 211:return n=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,n+i;case 212:return o=this._view.getInt8(this._offset),this._offset+=1,0===o?void(this._offset+=1):[o,this._bin(1)];case 213:return o=this._view.getInt8(this._offset),this._offset+=1,[o,this._bin(2)];case 214:return o=this._view.getInt8(this._offset),this._offset+=1,[o,this._bin(4)];case 215:return o=this._view.getInt8(this._offset),this._offset+=1,0===o?(n=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,new Date(n+i)):[o,this._bin(8)];case 216:return o=this._view.getInt8(this._offset),this._offset+=1,[o,this._bin(16)];case 217:return r=this._view.getUint8(this._offset),this._offset+=1,this._str(r);case 218:return r=this._view.getUint16(this._offset),this._offset+=2,this._str(r);case 219:return r=this._view.getUint32(this._offset),this._offset+=4,this._str(r);case 220:return r=this._view.getUint16(this._offset),this._offset+=2,this._array(r);case 221:return r=this._view.getUint32(this._offset),this._offset+=4,this._array(r);case 222:return r=this._view.getUint16(this._offset),this._offset+=2,this._map(r);case 223:return r=this._view.getUint32(this._offset),this._offset+=4,this._map(r)}throw new Error("Could not parse")};var I,w,C=globalThis.WebSocket||function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},A=function(){function t(t){this.events=t}return t.prototype.send=function(t){t instanceof ArrayBuffer?this.ws.send(t):Array.isArray(t)&&this.ws.send(new Uint8Array(t).buffer)},t.prototype.connect=function(t){this.ws=new C(t,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror},t.prototype.close=function(t,e){this.ws.close(t,e)},t}(),D=function(){function t(){this.events={},this.transport=new A(this.events)}return t.prototype.send=function(t){this.transport.send(t)},t.prototype.connect=function(t){this.transport.connect(t)},t.prototype.close=function(t,e){this.transport.close(t,e)},t}(),T={};function j(t,e){T[t]=e}function N(t){var e=T[t];if(!e)throw new Error("missing serializer: "+t);return e}function x(t,e){for(var r=t[e++],o="",n=0,i=e,s=e+r;i<s;i++){var a=t[i];if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(n=(7&a)<<18|(63&t[++i])<<12|(63&t[++i])<<6|(63&t[++i])<<0)>=65536?(n-=65536,o+=String.fromCharCode(55296+(n>>>10),56320+(1023&n))):o+=String.fromCharCode(n)}else o+=String.fromCharCode((15&a)<<12|(63&t[++i])<<6|(63&t[++i])<<0);else o+=String.fromCharCode((31&a)<<6|63&t[++i]);else o+=String.fromCharCode(a)}return o}function B(t){void 0===t&&(t="");for(var e=0,r=0,o=0,n=t.length;o<n;o++)(e=t.charCodeAt(o))<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(o++,r+=4);return r+1}e.Protocol=void 0,(I=e.Protocol||(e.Protocol={}))[I.HANDSHAKE=9]="HANDSHAKE",I[I.JOIN_ROOM=10]="JOIN_ROOM",I[I.ERROR=11]="ERROR",I[I.LEAVE_ROOM=12]="LEAVE_ROOM",I[I.ROOM_DATA=13]="ROOM_DATA",I[I.ROOM_STATE=14]="ROOM_STATE",I[I.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",I[I.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",e.ErrorCode=void 0,(w=e.ErrorCode||(e.ErrorCode={}))[w.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",w[w.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",w[w.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",w[w.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",w[w.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",w[w.AUTH_FAILED=4215]="AUTH_FAILED",w[w.APPLICATION_ERROR=4216]="APPLICATION_ERROR";let L=()=>({events:{},emit(t,...e){(this.events[t]||[]).forEach(t=>t(...e))},on(t,e){return(this.events[t]=this.events[t]||[]).push(e),()=>this.events[t]=(this.events[t]||[]).filter(t=>t!==e)}});var q=function(){function t(){this.handlers=[]}return t.prototype.register=function(t){return this.handlers.push(t),this},t.prototype.invoke=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.handlers.forEach(function(r){return r.apply(t,e)})},t.prototype.invokeAsync=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Promise.all(this.handlers.map(function(r){return r.apply(t,e)}))},t.prototype.remove=function(t){var e=this.handlers.indexOf(t);this.handlers[e]=this.handlers[this.handlers.length-1],this.handlers.pop()},t.prototype.clear=function(){this.handlers=[]},t}();function F(){var t=new q;function e(e){return t.register(e,null===this)}return e.once=function(e){var r=function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];e.apply(this,o),t.remove(r)};t.register(r)},e.remove=function(e){return t.remove(e)},e.invoke=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.invoke.apply(t,e)},e.invokeAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.invokeAsync.apply(t,e)},e.clear=function(){return t.clear()},e}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var k,U=function(){var t={exports:{}};return function(t,e){!function(t){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,r)};function r(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}function o(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function n(t,e){for(var r=0,o=e.length,n=t.length;r<o;r++,n++)t[n]=e[r];return t}var i,s=255;t.OPERATION=void 0,(i=t.OPERATION||(t.OPERATION={}))[i.ADD=128]="ADD",i[i.REPLACE=0]="REPLACE",i[i.DELETE=64]="DELETE",i[i.DELETE_AND_ADD=192]="DELETE_AND_ADD",i[i.TOUCH=1]="TOUCH",i[i.CLEAR=10]="CLEAR";var a=function(){function t(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return t.prototype.getNextUniqueId=function(){return this.nextUniqueId++},t.prototype.addRef=function(t,e,r){void 0===r&&(r=!0),this.refs.set(t,e),r&&(this.refCounts[t]=(this.refCounts[t]||0)+1)},t.prototype.removeRef=function(t){this.refCounts[t]=this.refCounts[t]-1,this.deletedRefs.add(t)},t.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},t.prototype.garbageCollectDeletedRefs=function(){var t=this;this.deletedRefs.forEach(function(e){if(t.refCounts[e]<=0){var r=t.refs.get(e);if(r instanceof ft)for(var o in r._definition.schema)"string"!=typeof r._definition.schema[o]&&r[o]&&r[o].$changes&&t.removeRef(r[o].$changes.refId);else{var n=r.$changes.parent._definition,i=n.schema[n.fieldsByIndex[r.$changes.parentIndex]];"function"==typeof Object.values(i)[0]&&Array.from(r.values()).forEach(function(e){return t.removeRef(e.$changes.refId)})}t.refs.delete(e),delete t.refCounts[e]}}),this.deletedRefs.clear()},t}(),c=function(){function e(t,e,r){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=t,this.setParent(e,r)}return e.prototype.setParent=function(t,e,r){var o=this;if(this.indexes||(this.indexes=this.ref instanceof ft?this.ref._definition.indexes:{}),this.parent=t,this.parentIndex=r,e)if(this.root=e,this.ref instanceof ft){var n=this.ref._definition;for(var i in n.schema){var s=this.ref[i];if(s&&s.$changes){var a=n.indexes[i];s.$changes.setParent(this.ref,e,a)}}}else"object"==typeof this.ref&&this.ref.forEach(function(t,e){if(t instanceof ft){var r=t.$changes,n=o.ref.$changes.indexes[e];r.setParent(o.ref,o.root,n)}})},e.prototype.operation=function(t){this.changes.set(--this.currentCustomOperation,t)},e.prototype.change=function(e,r){void 0===r&&(r=t.OPERATION.ADD);var o="number"==typeof e?e:this.indexes[e];this.assertValidIndex(o,e);var n=this.changes.get(o);n&&n.op!==t.OPERATION.DELETE&&n.op!==t.OPERATION.TOUCH||this.changes.set(o,{op:n&&n.op===t.OPERATION.DELETE?t.OPERATION.DELETE_AND_ADD:r,index:o}),this.allChanges.add(o),this.changed=!0,this.touchParents()},e.prototype.touch=function(e){var r="number"==typeof e?e:this.indexes[e];this.assertValidIndex(r,e),this.changes.has(r)||this.changes.set(r,{op:t.OPERATION.TOUCH,index:r}),this.allChanges.add(r),this.touchParents()},e.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},e.prototype.getType=function(t){if(this.ref._definition)return(e=this.ref._definition).schema[e.fieldsByIndex[t]];var e,r=(e=this.parent._definition).schema[e.fieldsByIndex[this.parentIndex]];return Object.values(r)[0]},e.prototype.getChildrenFilter=function(){var t=this.parent._definition.childFilters;return t&&t[this.parentIndex]},e.prototype.getValue=function(t){return this.ref.getByIndex(t)},e.prototype.delete=function(e){var r="number"==typeof e?e:this.indexes[e];if(void 0!==r){var o=this.getValue(r);this.changes.set(r,{op:t.OPERATION.DELETE,index:r}),this.allChanges.delete(r),delete this.caches[r],o&&o.$changes&&(o.$changes.parent=void 0),this.changed=!0,this.touchParents()}else console.warn("@colyseus/schema "+this.ref.constructor.name+": trying to delete non-existing index: "+e+" ("+r+")")},e.prototype.discard=function(e,r){var o=this;void 0===e&&(e=!1),void 0===r&&(r=!1),this.ref instanceof ft||this.changes.forEach(function(e){if(e.op===t.OPERATION.DELETE){var r=o.ref.getIndex(e.index);delete o.indexes[r]}}),this.changes.clear(),this.changed=e,r&&this.allChanges.clear(),this.currentCustomOperation=0},e.prototype.discardAll=function(){var t=this;this.changes.forEach(function(e){var r=t.getValue(e.index);r&&r.$changes&&r.$changes.discardAll()}),this.discard()},e.prototype.cache=function(t,e){this.caches[t]=e},e.prototype.clone=function(){return new e(this.ref,this.parent,this.root)},e.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},e.prototype.assertValidIndex=function(t,e){if(void 0===t)throw new Error('ChangeTree: missing index for field "'+e+'"')},e}(),u=function(t,e){var r=t.toString(),o=e.toString();return r<o?-1:r>o?1:0};function p(t){return t.$proxy=!0,new Proxy(t,{get:function(t,e){return"symbol"==typeof e||isNaN(e)?t[e]:t.at(e)},set:function(t,e,r){if("symbol"==typeof e||isNaN(e))t[e]=r;else{var o=Array.from(t.$items.keys()),n=parseInt(o[e]||e);null==r?t.deleteAt(n):t.setAt(n,r)}return!0},deleteProperty:function(t,e){return"number"==typeof e?t.deleteAt(e):delete t[e],!0}})}var l=function(){function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,t)}return e.is=function(t){return Array.isArray(t)||void 0!==t.array},Object.defineProperty(e.prototype,"length",{get:function(){return this.$items.size},set:function(t){0===t?this.clear():this.splice(t,this.length-t)},enumerable:!1,configurable:!0}),e.prototype.push=function(){for(var t,e=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.forEach(function(r){t=e.$refId++,e.setAt(t,r)}),t},e.prototype.pop=function(){var t=Array.from(this.$indexes.values()).pop();if(void 0!==t){this.$changes.delete(t),this.$indexes.delete(t);var e=this.$items.get(t);return this.$items.delete(t),e}},e.prototype.at=function(t){var e=Array.from(this.$items.keys())[t];return this.$items.get(e)},e.prototype.setAt=function(e,r){var o,n;void 0!==r.$changes&&r.$changes.setParent(this,this.$changes.root,e);var i=null!==(n=null===(o=this.$changes.indexes[e])||void 0===o?void 0:o.op)&&void 0!==n?n:t.OPERATION.ADD;this.$changes.indexes[e]=e,this.$indexes.set(e,e),this.$items.set(e,r),this.$changes.change(e,i)},e.prototype.deleteAt=function(t){var e=Array.from(this.$items.keys())[t];return void 0!==e&&this.$deleteAt(e)},e.prototype.$deleteAt=function(t){return this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t)},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.concat=function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new(e.bind.apply(e,n([void 0],(t=Array.from(this.$items.values())).concat.apply(t,r))))},e.prototype.join=function(t){return Array.from(this.$items.values()).join(t)},e.prototype.reverse=function(){var t=this,e=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach(function(r,o){t.setAt(e[o],r)}),this},e.prototype.shift=function(){var t=Array.from(this.$items.keys()).shift();if(void 0!==t){var e=this.$items.get(t);return this.$deleteAt(t),e}},e.prototype.slice=function(t,r){return new(e.bind.apply(e,n([void 0],Array.from(this.$items.values()).slice(t,r))))},e.prototype.sort=function(t){var e=this;void 0===t&&(t=u);var r=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(t).forEach(function(t,o){e.setAt(r[o],t)}),this},e.prototype.splice=function(t,e){void 0===e&&(e=this.length-t);for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];for(var n=Array.from(this.$items.keys()),i=[],s=t;s<t+e;s++)i.push(this.$items.get(n[s])),this.$deleteAt(n[s]);return i},e.prototype.unshift=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=this.length,n=e.length,i=Array.from(this.$items.values());return e.forEach(function(e,r){t.setAt(r,e)}),i.forEach(function(e,r){t.setAt(n+r,e)}),o+n},e.prototype.indexOf=function(t,e){return Array.from(this.$items.values()).indexOf(t,e)},e.prototype.lastIndexOf=function(t,e){return void 0===e&&(e=this.length-1),Array.from(this.$items.values()).lastIndexOf(t,e)},e.prototype.every=function(t,e){return Array.from(this.$items.values()).every(t,e)},e.prototype.some=function(t,e){return Array.from(this.$items.values()).some(t,e)},e.prototype.forEach=function(t,e){Array.from(this.$items.values()).forEach(t,e)},e.prototype.map=function(t,e){return Array.from(this.$items.values()).map(t,e)},e.prototype.filter=function(t,e){return Array.from(this.$items.values()).filter(t,e)},e.prototype.reduce=function(t,e){return Array.from(this.$items.values()).reduce(t,e)},e.prototype.reduceRight=function(t,e){return Array.from(this.$items.values()).reduceRight(t,e)},e.prototype.find=function(t,e){return Array.from(this.$items.values()).find(t,e)},e.prototype.findIndex=function(t,e){return Array.from(this.$items.values()).findIndex(t,e)},e.prototype.fill=function(){throw new Error("ArraySchema#fill() not implemented")},e.prototype.copyWithin=function(){throw new Error("ArraySchema#copyWithin() not implemented")},e.prototype.toString=function(){return this.$items.toString()},e.prototype.toLocaleString=function(){return this.$items.toLocaleString()},e.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},e.prototype[Symbol.unscopables]=function(){return this.$items[Symbol.unscopables]()},e.prototype.entries=function(){return this.$items.entries()},e.prototype.keys=function(){return this.$items.keys()},e.prototype.values=function(){return this.$items.values()},e.prototype.includes=function(t,e){return Array.from(this.$items.values()).includes(t,e)},e.prototype.flatMap=function(){throw new Error("ArraySchema#flatMap() is not supported.")},e.prototype.flat=function(){throw new Error("ArraySchema#flat() is not supported.")},e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){return this.toArray().map(function(t){return"function"==typeof t.toJSON?t.toJSON():t})},e.prototype.clone=function(t){return t?new(e.bind.apply(e,n([void 0],Array.from(this.$items.values())))):new(e.bind.apply(e,n([void 0],this.map(function(t){return t.$changes?t.clone():t}))))},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}();function f(t){return t.$proxy=!0,new Proxy(t,{get:function(t,e){return"symbol"!=typeof e&&void 0===t[e]?t.get(e):t[e]},set:function(t,e,r){return"symbol"!=typeof e&&-1===e.indexOf("$")&&"onAdd"!==e&&"onRemove"!==e&&"onChange"!==e?t.set(e,r):t[e]=r,!0},deleteProperty:function(t,e){return t.delete(e),!0}})}var d=function(){function e(t){var e=this;if(this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t)if(t instanceof Map)t.forEach(function(t,r){return e.set(r,t)});else for(var r in t)this.set(r,t[r])}return e.is=function(t){return void 0!==t.map},e.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),e.prototype.set=function(e,r){if(null==r)throw new Error("MapSchema#set('"+e+"', "+r+"): trying to set "+r+" value on '"+e+"'.");var o=void 0!==this.$changes.indexes[e],n=o?this.$changes.indexes[e]:this.$refId++,i=o?t.OPERATION.REPLACE:t.OPERATION.ADD,s=void 0!==r.$changes;return s&&r.$changes.setParent(this,this.$changes.root,n),o?s&&this.$items.get(e)!==r&&(i=t.OPERATION.ADD):(this.$changes.indexes[e]=n,this.$indexes.set(n,e)),this.$items.set(e,r),this.$changes.change(e,i),this},e.prototype.get=function(t){return this.$items.get(t)},e.prototype.delete=function(t){return this.$changes.delete(t),this.$items.delete(t)},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){return this.$items.has(t)},e.prototype.forEach=function(t){this.$items.forEach(t)},e.prototype.entries=function(){return this.$items.entries()},e.prototype.keys=function(){return this.$items.keys()},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toJSON=function(){var t={};return this.forEach(function(e,r){t[r]="function"==typeof e.toJSON?e.toJSON():e}),t},e.prototype.clone=function(t){var r;return t?r=Object.assign(new e,this):(r=new e,this.forEach(function(t,e){t.$changes?r.set(e,t.clone()):r.set(e,t)})),r},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}(),h={};function _(t,e){h[t]=e}function y(t){return h[t]}var v=function(){function t(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return t.create=function(e){var r=new t;return r.schema=Object.assign({},e&&e.schema||{}),r.indexes=Object.assign({},e&&e.indexes||{}),r.fieldsByIndex=Object.assign({},e&&e.fieldsByIndex||{}),r.descriptors=Object.assign({},e&&e.descriptors||{}),r.deprecated=Object.assign({},e&&e.deprecated||{}),r},t.prototype.addField=function(t,e){var r=this.getNextFieldIndex();this.fieldsByIndex[r]=t,this.indexes[t]=r,this.schema[t]=Array.isArray(e)?{array:e[0]}:e},t.prototype.addFilter=function(t,e){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[t]]=e,this.indexesWithFilters.push(this.indexes[t]),!0},t.prototype.addChildrenFilter=function(t,e){var r=this.indexes[t],o=this.schema[t];if(y(Object.keys(o)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[r]=e,!0;console.warn("@filterChildren: field '"+t+"' can't have children. Ignoring filter.")},t.prototype.getChildrenFilter=function(t){return this.childFilters&&this.childFilters[this.indexes[t]]},t.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},t}(),g=function(){function t(){this.types={},this.schemas=new Map,this.useFilters=!1}return t.prototype.has=function(t){return this.schemas.has(t)},t.prototype.get=function(t){return this.types[t]},t.prototype.add=function(t,e){void 0===e&&(e=this.schemas.size),t._definition=v.create(t._definition),t._typeid=e,this.types[e]=t,this.schemas.set(t,e)},t.create=function(e){return void 0===e&&(e=new t),function(t){return E(t,e)}},t}(),m=new g;function E(t,e){return void 0===e&&(e=m),function(r,o){var i=r.constructor;i._context=e,e.has(i)||e.add(i);var s=i._definition;if(s.addField(o,t),s.descriptors[o]){if(s.deprecated[o])return;try{throw new Error("@colyseus/schema: Duplicate '"+o+"' definition on '"+i.name+"'.\nCheck @type() annotation")}catch(y){var a=y.stack.split("\n")[4].trim();throw new Error(y.message+" "+a)}}var c=l.is(t),u=!c&&d.is(t);if("string"!=typeof t&&!ft.is(t)){var h=Object.values(t)[0];"string"==typeof h||e.has(h)||e.add(h)}var _="_"+o;s.descriptors[_]={enumerable:!1,configurable:!1,writable:!0},s.descriptors[o]={get:function(){return this[_]},set:function(t){t!==this[_]&&(null!=t?(!c||t instanceof l||(t=new(l.bind.apply(l,n([void 0],t)))),!u||t instanceof d||(t=new d(t)),void 0===t.$proxy&&(u?t=f(t):c&&(t=p(t))),this.$changes.change(o),t.$changes&&t.$changes.setParent(this,this.$changes.root,this._definition.indexes[o])):this.$changes.delete(o),this[_]=t)},enumerable:!0,configurable:!0}}}function P(t){for(var e=0,r=0,o=0,n=t.length;o<n;o++)(e=t.charCodeAt(o))<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(o++,r+=4);return r}function O(t,e,r){for(var o=0,n=0,i=r.length;n<i;n++)(o=r.charCodeAt(n))<128?t[e++]=o:o<2048?(t[e++]=192|o>>6,t[e++]=128|63&o):o<55296||o>=57344?(t[e++]=224|o>>12,t[e++]=128|o>>6&63,t[e++]=128|63&o):(n++,o=65536+((1023&o)<<10|1023&r.charCodeAt(n)),t[e++]=240|o>>18,t[e++]=128|o>>12&63,t[e++]=128|o>>6&63,t[e++]=128|63&o)}function R(t,e){t.push(255&e)}function b(t,e){t.push(255&e)}function M(t,e){t.push(255&e),t.push(e>>8&255)}function S(t,e){t.push(255&e),t.push(e>>8&255)}function I(t,e){t.push(255&e),t.push(e>>8&255),t.push(e>>16&255),t.push(e>>24&255)}function w(t,e){var r=e>>24,o=e>>16,n=e>>8,i=e;t.push(255&i),t.push(255&n),t.push(255&o),t.push(255&r)}function C(t,e){var r=Math.floor(e/Math.pow(2,32));w(t,e>>>0),w(t,r)}function A(t,e){var r=e/Math.pow(2,32)>>0;w(t,e>>>0),w(t,r)}var D=new Int32Array(2),T=new Float32Array(D.buffer),j=new Float64Array(D.buffer);function N(t,e){T[0]=e,I(t,D[0])}function x(t,e){j[0]=e,I(t,D[0]),I(t,D[1])}function B(t,e){e||(e="");var r=P(e),o=0;if(r<32)t.push(160|r),o=1;else if(r<256)t.push(217),b(t,r),o=2;else if(r<65536)t.push(218),S(t,r),o=3;else{if(!(r<4294967296))throw new Error("String too long");t.push(219),w(t,r),o=5}return O(t,t.length,e),o+r}function L(t,e){return isNaN(e)?L(t,0):isFinite(e)?e!==(0|e)?(t.push(203),x(t,e),9):e>=0?e<128?(b(t,e),1):e<256?(t.push(204),b(t,e),2):e<65536?(t.push(205),S(t,e),3):e<4294967296?(t.push(206),w(t,e),5):(t.push(207),A(t,e),9):e>=-32?(t.push(224|e+32),1):e>=-128?(t.push(208),R(t,e),2):e>=-32768?(t.push(209),M(t,e),3):e>=-2147483648?(t.push(210),I(t,e),5):(t.push(211),C(t,e),9):L(t,e>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var q=Object.freeze({__proto__:null,utf8Write:O,int8:R,uint8:b,int16:M,uint16:S,int32:I,uint32:w,int64:C,uint64:A,float32:function(t,e){N(t,e)},float64:function(t,e){x(t,e)},writeFloat32:N,writeFloat64:x,boolean:function(t,e){return b(t,e?1:0)},string:B,number:L});function F(t,e,r){for(var o="",n=0,i=e,s=e+r;i<s;i++){var a=t[i];0!=(128&a)?192!=(224&a)?224!=(240&a)?240!=(248&a)?console.error("Invalid byte "+a.toString(16)):(n=(7&a)<<18|(63&t[++i])<<12|(63&t[++i])<<6|(63&t[++i])<<0)>=65536?(n-=65536,o+=String.fromCharCode(55296+(n>>>10),56320+(1023&n))):o+=String.fromCharCode(n):o+=String.fromCharCode((15&a)<<12|(63&t[++i])<<6|(63&t[++i])<<0):o+=String.fromCharCode((31&a)<<6|63&t[++i]):o+=String.fromCharCode(a)}return o}function k(t,e){return U(t,e)<<24>>24}function U(t,e){return t[e.offset++]}function $(t,e){return H(t,e)<<16>>16}function H(t,e){return t[e.offset++]|t[e.offset++]<<8}function V(t,e){return t[e.offset++]|t[e.offset++]<<8|t[e.offset++]<<16|t[e.offset++]<<24}function G(t,e){return V(t,e)>>>0}function K(t,e){var r=G(t,e);return V(t,e)*Math.pow(2,32)+r}function W(t,e){var r=G(t,e);return G(t,e)*Math.pow(2,32)+r}var Y=new Int32Array(2),J=new Float32Array(Y.buffer),z=new Float64Array(Y.buffer);function Q(t,e){return Y[0]=V(t,e),J[0]}function Z(t,e){return Y[0]=V(t,e),Y[1]=V(t,e),z[0]}function X(t,e){var r,o=t[e.offset++];o<192?r=31&o:217===o?r=U(t,e):218===o?r=H(t,e):219===o&&(r=G(t,e));var n=F(t,e.offset,r);return e.offset+=r,n}function tt(t,e){var r=t[e.offset++];return r<128?r:202===r?Q(t,e):203===r?Z(t,e):204===r?U(t,e):205===r?H(t,e):206===r?G(t,e):207===r?W(t,e):208===r?k(t,e):209===r?$(t,e):210===r?V(t,e):211===r?K(t,e):r>223?-1*(255-r+1):void 0}function et(t,e){return t[e.offset-1]===s&&(t[e.offset]<128||t[e.offset]>=202&&t[e.offset]<=211)}var rt=Object.freeze({__proto__:null,int8:k,uint8:U,int16:$,uint16:H,int32:V,uint32:G,float32:function(t,e){return Q(t,e)},float64:function(t,e){return Z(t,e)},int64:K,uint64:W,readFloat32:Q,readFloat64:Z,boolean:function(t,e){return U(t,e)>0},string:X,stringCheck:function(t,e){var r=t[e.offset];return r<192&&r>160||217===r||218===r||219===r},number:tt,numberCheck:function(t,e){var r=t[e.offset];return r<128||r>=202&&r<=211},arrayCheck:function(t,e){return t[e.offset]<160},switchStructureCheck:et}),ot=function(){function e(t){var e=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t&&t.forEach(function(t){return e.add(t)})}return e.is=function(t){return void 0!==t.collection},e.prototype.add=function(t){var e=this.$refId++;return void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,e),this.$changes.indexes[e]=e,this.$indexes.set(e,e),this.$items.set(e,t),this.$changes.change(e),e},e.prototype.at=function(t){var e=Array.from(this.$items.keys())[t];return this.$items.get(e)},e.prototype.entries=function(){return this.$items.entries()},e.prototype.delete=function(t){for(var e,r,o=this.$items.entries();(r=o.next())&&!r.done;)if(t===r.value[1]){e=r.value[0];break}return void 0!==e&&(this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e))},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){return Array.from(this.$items.values()).some(function(e){return e===t})},e.prototype.forEach=function(t){var e=this;this.$items.forEach(function(r,o){return t(r,o,e)})},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){var t=[];return this.forEach(function(e){t.push("function"==typeof e.toJSON?e.toJSON():e)}),t},e.prototype.clone=function(t){var r;return t?r=Object.assign(new e,this):(r=new e,this.forEach(function(t){t.$changes?r.add(t.clone()):r.add(t)})),r},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}(),nt=function(){function e(t){var e=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t&&t.forEach(function(t){return e.add(t)})}return e.is=function(t){return void 0!==t.set},e.prototype.add=function(e){var r,o;if(this.has(e))return!1;var n=this.$refId++;void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,n);var i=null!==(o=null===(r=this.$changes.indexes[n])||void 0===r?void 0:r.op)&&void 0!==o?o:t.OPERATION.ADD;return this.$changes.indexes[n]=n,this.$indexes.set(n,n),this.$items.set(n,e),this.$changes.change(n,i),n},e.prototype.entries=function(){return this.$items.entries()},e.prototype.delete=function(t){for(var e,r,o=this.$items.entries();(r=o.next())&&!r.done;)if(t===r.value[1]){e=r.value[0];break}return void 0!==e&&(this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e))},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){for(var e,r=this.$items.values(),o=!1;(e=r.next())&&!e.done;)if(t===e.value){o=!0;break}return o},e.prototype.forEach=function(t){var e=this;this.$items.forEach(function(r,o){return t(r,o,e)})},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){var t=[];return this.forEach(function(e){t.push("function"==typeof e.toJSON?e.toJSON():e)}),t},e.prototype.clone=function(t){var r;return t?r=Object.assign(new e,this):(r=new e,this.forEach(function(t){t.$changes?r.add(t.clone()):r.add(t)})),r},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}(),it=function(){function t(){this.handlers=[]}return t.prototype.register=function(t){return this.handlers.push(t),this},t.prototype.invoke=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.handlers.forEach(function(e){return e.apply(void 0,t)})},t.prototype.invokeAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Promise.all(this.handlers.map(function(e){return e.apply(void 0,t)}))},t.prototype.remove=function(t){var e=this.handlers.indexOf(t);this.handlers[e]=this.handlers[this.handlers.length-1],this.handlers.pop()},t.prototype.clear=function(){this.handlers=[]},t}(),st=function(){function t(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return t.prototype.addRefId=function(t){this.refIds.has(t)||(this.refIds.add(t),this.containerIndexes.set(t,new Set))},t.get=function(e){return void 0===e.$filterState&&(e.$filterState=new t),e.$filterState},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(Error);function ct(t,e,r,o){var n,i=!1;switch(e){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":n="number",isNaN(t)&&console.log('trying to encode "NaN" in '+r.constructor.name+"#"+o);break;case"string":n="string",i=!0;break;case"boolean":return}if(typeof t!==n&&(!i||i&&null!==t)){var s="'"+JSON.stringify(t)+"'"+(t&&t.constructor&&" ("+t.constructor.name+")"||"");throw new at("a '"+n+"' was expected, but "+s+" was provided in "+r.constructor.name+"#"+o)}}function ut(t,e,r,o){if(!(t instanceof e))throw new at("a '"+e.name+"' was expected, but '"+t.constructor.name+"' was provided in "+r.constructor.name+"#"+o)}function pt(t,e,r,o,n){ct(r,t,o,n);var i=q[t];if(!i)throw new at("a '"+t+"' was expected, but "+r+" was provided in "+o.constructor.name+"#"+n);i(e,r)}function lt(t,e,r){return rt[t](e,r)}var ft=function(){function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Object.defineProperties(this,{$changes:{value:new c(this,void 0,new a),enumerable:!1,writable:!0},$listeners:{value:{},enumerable:!1,writable:!0}});var r=this._definition.descriptors;r&&Object.defineProperties(this,r),t[0]&&this.assign(t[0])}return e.onError=function(t){console.error(t)},e.is=function(t){return t._definition&&void 0!==t._definition.schema},e.prototype.assign=function(t){return Object.assign(this,t),this},Object.defineProperty(e.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),e.prototype.listen=function(t,e){var r=this;return this.$listeners[t]||(this.$listeners[t]=new it),this.$listeners[t].register(e),function(){return r.$listeners[t].remove(e)}},e.prototype.decode=function(r,o,n,i){void 0===o&&(o={offset:0}),void 0===n&&(n=this),void 0===i&&(i=new Map);var a=this.$changes.root,c=r.length,u=0,p=[];for(a.refs.set(u,this),i.set(u,p);o.offset<c;){var f=r[o.offset++];if(f!=s){var h=n.$changes,_=void 0!==n._definition,v=_?f>>6<<6:f;if(v!==t.OPERATION.CLEAR){var g=_?f%(v||255):tt(r,o),m=_?n._definition.fieldsByIndex[g]:"",E=h.getType(g),P=void 0,O=void 0,R=void 0;if(_?O=n["_"+m]:(O=n.getByIndex(g),(v&t.OPERATION.ADD)===t.OPERATION.ADD?(R=n instanceof d?X(r,o):g,n.setIndex(g,R)):R=n.getIndex(g)),(v&t.OPERATION.DELETE)===t.OPERATION.DELETE&&(v!==t.OPERATION.DELETE_AND_ADD&&n.deleteByIndex(g),O&&O.$changes&&a.removeRef(O.$changes.refId),P=null),void 0!==m){if(v===t.OPERATION.DELETE);else if(e.is(E)){var b=tt(r,o);if(P=a.refs.get(b),v!==t.OPERATION.REPLACE){var M=this.getSchemaType(r,o,E);P||((P=this.createTypeInstance(M)).$changes.refId=b,O&&(P.onChange=O.onChange,P.onRemove=O.onRemove,P.$listeners=O.$listeners,O.$changes.refId&&b!==O.$changes.refId&&a.removeRef(O.$changes.refId))),a.addRef(b,P,P!==O)}}else if("string"==typeof E)P=lt(E,r,o);else{var S=y(Object.keys(E)[0]),I=tt(r,o),w=a.refs.has(I)?O||a.refs.get(I):new S.constructor;if((P=w.clone(!0)).$changes.refId=I,O&&(P.onAdd=O.onAdd,P.onRemove=O.onRemove,P.onChange=O.onChange,O.$changes.refId&&I!==O.$changes.refId)){a.removeRef(O.$changes.refId);for(var C=[],A=O.entries(),D=void 0;(D=A.next())&&!D.done;){var T=D.value,j=T[0],N=T[1];C.push({op:t.OPERATION.DELETE,field:j,value:void 0,previousValue:N})}i.set(O.$changes.refId,C)}a.addRef(I,P,w!==O),S.getProxy&&(P=S.getProxy(P))}var x=O!==P;if(null!=P)if(P.$changes&&P.$changes.setParent(h.ref,h.root,g),n instanceof e)n[m]=P;else if(n instanceof d)j=R,n.$items.set(j,P);else if(n instanceof l)n.setAt(g,P);else if(n instanceof ot){var B=n.add(P);n.setIndex(g,B)}else n instanceof nt&&!1!==(B=n.add(P))&&n.setIndex(g,B);x&&p.push({op:v,field:m,dynamicIndex:R,value:P,previousValue:O})}else{console.warn("@colyseus/schema: definition mismatch");for(var L={offset:o.offset};o.offset<c&&(!et(r,o)||(L.offset=o.offset+1,!a.refs.has(tt(r,L))));)o.offset++}}else n.clear(!0)}else{u=tt(r,o);var q=a.refs.get(u);if(!q)throw new Error('"refId" not found: '+u);n=q,p=[],i.set(u,p)}}return this._triggerChanges(i),a.garbageCollectDeletedRefs(),i},e.prototype.encode=function(r,o,n){void 0===r&&(r=!1),void 0===o&&(o=[]),void 0===n&&(n=!1);for(var i=this.$changes,a=new WeakSet,c=[i],u=1,p=0;p<u;p++){var l=c[p],f=l.ref,h=f instanceof e;l.ensureRefId(),a.add(l),l!==i&&(l.changed||r)&&(b(o,s),L(o,l.refId));for(var _=r?Array.from(l.allChanges):Array.from(l.changes.values()),v=0,g=_.length;v<g;v++){var m=r?{op:t.OPERATION.ADD,index:_[v]}:_[v],E=m.index,P=h?f._definition.fieldsByIndex&&f._definition.fieldsByIndex[E]:E,O=o.length;if(m.op!==t.OPERATION.TOUCH)if(h)b(o,E|m.op);else{if(b(o,m.op),m.op===t.OPERATION.CLEAR)continue;L(o,E)}if(h||(m.op&t.OPERATION.ADD)!=t.OPERATION.ADD||f instanceof d&&B(o,l.ref.$indexes.get(E)),m.op!==t.OPERATION.DELETE){var R=l.getType(E),M=l.getValue(E);if(M&&M.$changes&&!a.has(M.$changes)&&(c.push(M.$changes),M.$changes.ensureRefId(),u++),m.op!==t.OPERATION.TOUCH){if(e.is(R))ut(M,R,f,P),L(o,M.$changes.refId),(m.op&t.OPERATION.ADD)===t.OPERATION.ADD&&this.tryEncodeTypeId(o,R,M.constructor);else if("string"==typeof R)pt(R,o,M,f,P);else{var S=y(Object.keys(R)[0]);ut(f["_"+P],S.constructor,f,P),L(o,M.$changes.refId)}n&&l.cache(E,o.slice(O))}}}r||n||l.discard()}return o},e.prototype.encodeAll=function(t){return this.encode(!0,[],t)},e.prototype.applyFilters=function(r,o){var n,i;void 0===o&&(o=!1);for(var a=this,c=new Set,u=st.get(r),p=[this.$changes],l=1,f=[],h=function(h){var _=p[h];if(c.has(_.refId))return"continue";var y=_.ref,v=y instanceof e;b(f,s),L(f,_.refId);var g=u.refIds.has(_),m=o||!g;u.addRefId(_);var E=u.containerIndexes.get(_),P=m?Array.from(_.allChanges):Array.from(_.changes.values());!o&&v&&y._definition.indexesWithFilters&&y._definition.indexesWithFilters.forEach(function(e){!E.has(e)&&_.allChanges.has(e)&&(m?P.push(e):P.push({op:t.OPERATION.ADD,index:e}))});for(var O=0,R=P.length;O<R;O++){var M=m?{op:t.OPERATION.ADD,index:P[O]}:P[O];if(M.op!==t.OPERATION.CLEAR){var S=M.index;if(M.op!==t.OPERATION.DELETE){var I=_.getValue(S),w=_.getType(S);if(v){if((C=y._definition.filters&&y._definition.filters[S])&&!C.call(y,r,I,a)){I&&I.$changes&&c.add(I.$changes.refId);continue}}else{var C,A=_.parent;if((C=_.getChildrenFilter())&&!C.call(A,r,y.$indexes.get(S),I,a)){I&&I.$changes&&c.add(I.$changes.refId);continue}}if(I.$changes&&(p.push(I.$changes),l++),M.op!==t.OPERATION.TOUCH)if(M.op===t.OPERATION.ADD||v)f.push.apply(f,null!==(n=_.caches[S])&&void 0!==n?n:[]),E.add(S);else if(E.has(S))f.push.apply(f,null!==(i=_.caches[S])&&void 0!==i?i:[]);else{if(E.add(S),b(f,t.OPERATION.ADD),L(f,S),y instanceof d){var D=_.ref.$indexes.get(S);B(f,D)}I.$changes?L(f,I.$changes.refId):q[w](f,I)}else I.$changes&&!v&&(b(f,t.OPERATION.ADD),L(f,S),y instanceof d&&(D=_.ref.$indexes.get(S),B(f,D)),L(f,I.$changes.refId))}else v?b(f,M.op|S):(b(f,M.op),L(f,S))}else b(f,M.op)}},_=0;_<l;_++)h(_);return f},e.prototype.clone=function(){var t=new this.constructor,e=this._definition.schema;for(var r in e)"object"==typeof this[r]&&"function"==typeof this[r].clone?t[r]=this[r].clone():t[r]=this[r];return t},e.prototype.triggerAll=function(){if(0!==this.$changes.root.refs.size){var t=new Map;e.prototype._triggerAllFillChanges.call(this,this,t);try{e.prototype._triggerChanges.call(this,t)}catch(r){e.onError(r)}}},e.prototype.toJSON=function(){var t=this._definition.schema,e=this._definition.deprecated,r={};for(var o in t)e[o]||null===this[o]||void 0===this[o]||(r[o]="function"==typeof this[o].toJSON?this[o].toJSON():this["_"+o]);return r},e.prototype.discardAllChanges=function(){this.$changes.discardAll()},e.prototype.getByIndex=function(t){return this[this._definition.fieldsByIndex[t]]},e.prototype.deleteByIndex=function(t){this[this._definition.fieldsByIndex[t]]=void 0},e.prototype.tryEncodeTypeId=function(t,e,r){e._typeid!==r._typeid&&(b(t,213),L(t,r._typeid))},e.prototype.getSchemaType=function(t,e,r){var o;return 213===t[e.offset]&&(e.offset++,o=this.constructor._context.get(tt(t,e))),o||r},e.prototype.createTypeInstance=function(t){var e=new t;return e.$changes.root=this.$changes.root,e},e.prototype._triggerAllFillChanges=function(r,o){if(!o.has(r.$changes.refId)){var n=[];if(o.set(r.$changes.refId||0,n),r instanceof e){var i=r._definition.schema;for(var s in i)void 0!==(l=r["_"+s])&&(n.push({op:t.OPERATION.ADD,field:s,value:l,previousValue:void 0}),void 0!==l.$changes&&e.prototype._triggerAllFillChanges.call(this,l,o))}else for(var a=r.entries(),c=void 0;(c=a.next())&&!c.done;){var u=c.value,p=u[0],l=u[1];n.push({op:t.OPERATION.ADD,field:p,dynamicIndex:p,value:l,previousValue:void 0}),void 0!==l.$changes&&e.prototype._triggerAllFillChanges.call(this,l,o)}}},e.prototype._triggerChanges=function(r){var o=this;r.forEach(function(r,n){var i,s,a,c,u,p,l,f,d,h,_,y;if(r.length>0){for(var v=o.$changes.root.refs.get(n),g=v instanceof e,m=0;m<r.length;m++){var E=r[m],P=v.$listeners&&v.$listeners[E.field];if(g||(E.op===t.OPERATION.ADD&&void 0===E.previousValue?null===(s=(i=v).onAdd)||void 0===s||s.call(i,E.value,null!==(a=E.dynamicIndex)&&void 0!==a?a:E.field):E.op===t.OPERATION.DELETE?void 0!==E.previousValue&&(null===(u=(c=v).onRemove)||void 0===u||u.call(c,E.previousValue,null!==(p=E.dynamicIndex)&&void 0!==p?p:E.field)):E.op===t.OPERATION.DELETE_AND_ADD?(void 0!==E.previousValue&&(null===(f=(l=v).onRemove)||void 0===f||f.call(l,E.previousValue,E.dynamicIndex)),null===(h=(d=v).onAdd)||void 0===h||h.call(d,E.value,E.dynamicIndex)):E.op!==t.OPERATION.REPLACE&&E.value===E.previousValue||null===(y=(_=v).onChange)||void 0===y||y.call(_,E.value,E.dynamicIndex)),(E.op&t.OPERATION.DELETE)===t.OPERATION.DELETE&&E.previousValue instanceof e&&E.previousValue.onRemove&&E.previousValue.onRemove(),P)try{P.invoke(E.value,E.previousValue)}catch(O){e.onError(O)}}if(g&&v.onChange)try{v.onChange(r)}catch(O){e.onError(O)}}})},e._definition=v.create(),e}(),dt=new g,ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),o([E("string",dt)],e.prototype,"name",void 0),o([E("string",dt)],e.prototype,"type",void 0),o([E("number",dt)],e.prototype,"referencedType",void 0),e}(ft),_t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fields=new l,e}return r(e,t),o([E("number",dt)],e.prototype,"id",void 0),o([E([ht],dt)],e.prototype,"fields",void 0),e}(ft),yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.types=new l,e}return r(e,t),e.encode=function(t){var r=t.constructor,o=new e;o.rootType=r._typeid;var n=function(t,e){for(var r in e){var n=new ht;n.name=r;var i=void 0;if("string"==typeof e[r])i=e[r];else{var s=e[r],a=void 0;ft.is(s)?(i="ref",a=e[r]):"string"==typeof s[i=Object.keys(s)[0]]?i+=":"+s[i]:a=s[i],n.referencedType=a?a._typeid:-1}n.type=i,t.fields.push(n)}o.types.push(t)},i=r._context.types;for(var s in i){var a=new _t;a.id=Number(s),n(a,i[s]._definition.schema)}return o.encodeAll()},e.decode=function(t,o){var n=new g,i=new e;i.decode(t,o);var s=i.types.reduce(function(t,e){var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(ft),i=e.id;return t[i]=o,n.add(o,i),t},{});i.types.forEach(function(t){var e=s[t.id];t.fields.forEach(function(t){var r;if(void 0!==t.referencedType){var o=t.type,i=s[t.referencedType];if(!i){var a=t.type.split(":");o=a[0],i=a[1]}"ref"===o?E(i,n)(e.prototype,t.name):E(((r={})[o]=i,r),n)(e.prototype,t.name)}else E(t.type,n)(e.prototype,t.name)})});var a=s[i.rootType],c=new a;for(var u in a._definition.schema){var p=a._definition.schema[u];"string"!=typeof p&&(c[u]="function"==typeof p?new p:new(y(Object.keys(p)[0]).constructor))}return c},o([E([_t],dt)],e.prototype,"types",void 0),o([E("number",dt)],e.prototype,"rootType",void 0),e}(ft);_("map",{constructor:d,getProxy:f}),_("array",{constructor:l,getProxy:p}),_("set",{constructor:nt}),_("collection",{constructor:ot}),t.ArraySchema=l,t.CollectionSchema=ot,t.Context=g,t.MapSchema=d,t.Reflection=yt,t.ReflectionField=ht,t.ReflectionType=_t,t.Schema=ft,t.SchemaDefinition=v,t.SetSchema=nt,t.decode=rt,t.defineTypes=function(t,e,r){for(var o in void 0===r&&(r=t._context||m),e)E(e[o],r)(t.prototype,o);return t},t.deprecated=function(t){return void 0===t&&(t=!0),function(e,r){var o=e.constructor._definition;o.deprecated[r]=!0,t&&(o.descriptors[r]={get:function(){throw new Error(r+" is deprecated.")},set:function(){},enumerable:!1,configurable:!0})}},t.dumpChanges=function(t){for(var e=[t.$changes],r={},o=r,n=function(t){var r=e[t];r.changes.forEach(function(t){var e=r.ref,n=t.index,i=e._definition?e._definition.fieldsByIndex[n]:e.$indexes.get(n);o[i]=r.getValue(n)})},i=0;i<1;i++)n(i);return r},t.encode=q,t.filter=function(t){return function(e,r){var o=e.constructor;o._definition.addFilter(r,t)&&(o._context.useFilters=!0)}},t.filterChildren=function(t){return function(e,r){var o=e.constructor;o._definition.addChildrenFilter(r,t)&&(o._context.useFilters=!0)}},t.hasFilter=function(t){return t._context&&t._context.useFilters},t.registerType=_,t.type=E,Object.defineProperty(t,"__esModule",{value:!0})}(e)}(0,t.exports),t.exports}(),$=function(){function t(t,e){var r=this;this.onStateChange=F(),this.onError=F(),this.onLeave=F(),this.onJoin=F(),this.hasJoined=!1,this.onMessageHandlers=L(),this.id=null,this.name=t,e&&(this.serializer=new(N("schema")),this.rootSchema=e,this.serializer.state=new e),this.onError(function(t,e){return console.warn("colyseus.js - onError => ("+t+") "+e)}),this.onLeave(function(){return r.removeAllListeners()})}return t.prototype.connect=function(t){var e=this;this.connection=new D,this.connection.events.onmessage=this.onMessageCallback.bind(this),this.connection.events.onclose=function(t){if(!e.hasJoined)return console.warn("Room connection was closed unexpectedly ("+t.code+"): "+t.reason),void e.onError.invoke(t.code,t.reason);e.onLeave.invoke(t.code),e.destroy()},this.connection.events.onerror=function(t){console.warn("Room, onError ("+t.code+"): "+t.reason),e.onError.invoke(t.code,t.reason)},this.connection.connect(t)},t.prototype.leave=function(t){var r=this;return void 0===t&&(t=!0),new Promise(function(o){r.onLeave(function(t){return o(t)}),r.connection?t?r.connection.send([e.Protocol.LEAVE_ROOM]):r.connection.close():r.onLeave.invoke(4e3)})},t.prototype.onMessage=function(t,e){return this.onMessageHandlers.on(this.getMessageHandlerKey(t),e)},t.prototype.send=function(t,r){var o,n=[e.Protocol.ROOM_DATA];if("string"==typeof t?U.encode.string(n,t):U.encode.number(n,t),void 0!==r){var i=S(r);(o=new Uint8Array(n.length+i.byteLength)).set(new Uint8Array(n),0),o.set(new Uint8Array(i),n.length)}else o=new Uint8Array(n);this.connection.send(o.buffer)},Object.defineProperty(t.prototype,"state",{get:function(){return this.serializer.getState()},enumerable:!1,configurable:!0}),t.prototype.removeAllListeners=function(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}},t.prototype.onMessageCallback=function(t){var r=Array.from(new Uint8Array(t.data)),o=r[0];if(o===e.Protocol.JOIN_ROOM){var n=1;if(this.serializerId=x(r,n),n+=B(this.serializerId),!this.serializer){var i=N(this.serializerId);this.serializer=new i}r.length>n&&this.serializer.handshake&&this.serializer.handshake(r,{offset:n}),this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([e.Protocol.JOIN_ROOM])}else if(o===e.Protocol.ERROR){var s={offset:1},a=U.decode.number(r,s),c=U.decode.string(r,s);this.onError.invoke(a,c)}else if(o===e.Protocol.LEAVE_ROOM)this.leave();else if(o===e.Protocol.ROOM_DATA_SCHEMA){var u={offset:1};(c=new(l=this.serializer.getState().constructor._context.get(U.decode.number(r,u)))).decode(r,u),this.dispatchMessage(l,c)}else if(o===e.Protocol.ROOM_STATE)r.shift(),this.setState(r);else if(o===e.Protocol.ROOM_STATE_PATCH)r.shift(),this.patch(r);else if(o===e.Protocol.ROOM_DATA){var p={offset:1},l=U.decode.stringCheck(r,p)?U.decode.string(r,p):U.decode.number(r,p);c=r.length>p.offset?O(t.data,p.offset):void 0,this.dispatchMessage(l,c)}},t.prototype.setState=function(t){this.serializer.setState(t),this.onStateChange.invoke(this.serializer.getState())},t.prototype.patch=function(t){this.serializer.patch(t),this.onStateChange.invoke(this.serializer.getState())},t.prototype.dispatchMessage=function(t,e){var r=this.getMessageHandlerKey(t);this.onMessageHandlers.events[r]?this.onMessageHandlers.emit(r,e):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",t,e):console.warn("colyseus.js: onMessage() not registered for type '"+t+"'.")},t.prototype.destroy=function(){this.serializer&&this.serializer.teardown()},t.prototype.getMessageHandlerKey=function(t){switch(typeof t){case"function":return"$"+t._typeid;case"string":return t;case"number":return"i"+t;default:throw new Error("invalid message type.")}},t}();function H(){return k||(k="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:"undefined"!=typeof window&&window.localStorage?window.localStorage:{cache:{},setItem:function(t,e){this.cache[t]=e},getItem:function(t){this.cache[t]},removeItem:function(t){delete this.cache[t]}}),k}var V,G="colyseus-auth-token";e.Platform=void 0,(V=e.Platform||(e.Platform={})).ios="ios",V.android="android";var K,W=function(){function t(t){var e,r,o,n=this;this._id=void 0,this.username=void 0,this.displayName=void 0,this.avatarUrl=void 0,this.isAnonymous=void 0,this.email=void 0,this.lang=void 0,this.location=void 0,this.timezone=void 0,this.metadata=void 0,this.devices=void 0,this.facebookId=void 0,this.twitterId=void 0,this.googleId=void 0,this.gameCenterId=void 0,this.steamId=void 0,this.friendIds=void 0,this.blockedUserIds=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.token=void 0,this.endpoint=t.replace("ws","http"),e=G,r=function(t){return n.token=t},o=H().getItem(e),"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(t){return r(t)}):r(o)}return Object.defineProperty(t.prototype,"hasToken",{get:function(){return!!this.token},enumerable:!1,configurable:!0}),t.prototype.login=function(t){return void 0===t&&(t={}),n(this,void 0,void 0,function(){var e,r,o;return i(this,function(n){switch(n.label){case 0:return e=Object.assign({},t),this.hasToken&&(e.token=this.token),[4,this.request("post","/auth",e)];case 1:for(o in r=n.sent(),this.token=r.token,i=G,s=this.token,H().setItem(i,s),r)this.hasOwnProperty(o)&&(this[o]=r[o]);return this.registerPingService(),[2,this]}var i,s})})},t.prototype.save=function(){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.request("put","/auth",{},{username:this.username,displayName:this.displayName,avatarUrl:this.avatarUrl,lang:this.lang,location:this.location,timezone:this.timezone})];case 1:return t.sent(),[2,this]}})})},t.prototype.getFriends=function(){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.request("get","/friends/all")];case 1:return[2,t.sent()]}})})},t.prototype.getOnlineFriends=function(){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.request("get","/friends/online")];case 1:return[2,t.sent()]}})})},t.prototype.getFriendRequests=function(){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.request("get","/friends/requests")];case 1:return[2,t.sent()]}})})},t.prototype.sendFriendRequest=function(t){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.request("post","/friends/requests",{userId:t})];case 1:return[2,e.sent()]}})})},t.prototype.acceptFriendRequest=function(t){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.request("put","/friends/requests",{userId:t})];case 1:return[2,e.sent()]}})})},t.prototype.declineFriendRequest=function(t){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.request("del","/friends/requests",{userId:t})];case 1:return[2,e.sent()]}})})},t.prototype.blockUser=function(t){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.request("post","/friends/block",{userId:t})];case 1:return[2,e.sent()]}})})},t.prototype.unblockUser=function(t){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.request("put","/friends/block",{userId:t})];case 1:return[2,e.sent()]}})})},t.prototype.request=function(t,e,r,o,s){return void 0===r&&(r={}),void 0===s&&(s={}),n(this,void 0,void 0,function(){var n,a,c,u;return i(this,function(i){switch(i.label){case 0:for(a in s.Accept="application/json",this.hasToken&&(s.Authorization="Bearer "+this.token),n=[],r)n.push(a+"="+r[a]);return c=n.length>0?"?"+n.join("&"):"",u={headers:s},o&&(u.body=o),[4,g[t](""+this.endpoint+e+c,u)];case 1:return[2,i.sent().data]}})})},t.prototype.logout=function(){var t;this.token=void 0,t=G,H().removeItem(t),this.unregisterPingService()},t.prototype.registerPingService=function(t){var e=this;void 0===t&&(t=15e3),this.unregisterPingService(),this.keepOnlineInterval=setInterval(function(){return e.request("get","/auth")},t)},t.prototype.unregisterPingService=function(){clearInterval(this.keepOnlineInterval)},t}(),Y=function(t){function e(r,o){var n=t.call(this,r)||this;return n.code=o,Object.setPrototypeOf(n,e.prototype),n}return o(e,t),e}(Error),J="undefined"!=typeof window&&void 0!==(null===(K=null===window||void 0===window?void 0:window.location)||void 0===K?void 0:K.hostname)?window.location.protocol.replace("http","ws")+"//"+window.location.hostname+(window.location.port&&":"+window.location.port):"ws://127.0.0.1:2567",z=function(){function t(t){void 0===t&&(t=J),this.endpoint=t}return Object.defineProperty(t.prototype,"auth",{get:function(){return this._auth||(this._auth=new W(this.endpoint)),this._auth},enumerable:!1,configurable:!0}),t.prototype.joinOrCreate=function(t,e,r){return void 0===e&&(e={}),n(this,void 0,void 0,function(){return i(this,function(o){switch(o.label){case 0:return[4,this.createMatchMakeRequest("joinOrCreate",t,e,r)];case 1:return[2,o.sent()]}})})},t.prototype.create=function(t,e,r){return void 0===e&&(e={}),n(this,void 0,void 0,function(){return i(this,function(o){switch(o.label){case 0:return[4,this.createMatchMakeRequest("create",t,e,r)];case 1:return[2,o.sent()]}})})},t.prototype.join=function(t,e,r){return void 0===e&&(e={}),n(this,void 0,void 0,function(){return i(this,function(o){switch(o.label){case 0:return[4,this.createMatchMakeRequest("join",t,e,r)];case 1:return[2,o.sent()]}})})},t.prototype.joinById=function(t,e,r){return void 0===e&&(e={}),n(this,void 0,void 0,function(){return i(this,function(o){switch(o.label){case 0:return[4,this.createMatchMakeRequest("joinById",t,e,r)];case 1:return[2,o.sent()]}})})},t.prototype.reconnect=function(t,e,r){return n(this,void 0,void 0,function(){return i(this,function(o){switch(o.label){case 0:return[4,this.createMatchMakeRequest("joinById",t,{sessionId:e},r)];case 1:return[2,o.sent()]}})})},t.prototype.getAvailableRooms=function(t){return void 0===t&&(t=""),n(this,void 0,void 0,function(){var e;return i(this,function(r){switch(r.label){case 0:return e=this.endpoint.replace("ws","http")+"/matchmake/"+t,[4,f(e,{headers:{Accept:"application/json"}})];case 1:return[2,r.sent().data]}})})},t.prototype.consumeSeatReservation=function(t,e){return n(this,void 0,void 0,function(){var r;return i(this,function(){return(r=this.createRoom(t.room.name,e)).id=t.room.roomId,r.sessionId=t.sessionId,r.connect(this.buildEndpoint(t.room,{sessionId:r.sessionId})),[2,new Promise(function(t,e){var o=function(t,r){return e(new m(t,r))};r.onError.once(o),r.onJoin.once(function(){r.onError.remove(o),t(r)})})]})})},t.prototype.createMatchMakeRequest=function(t,e,r,o){return void 0===r&&(r={}),n(this,void 0,void 0,function(){var n,s;return i(this,function(i){switch(i.label){case 0:return n=this.endpoint.replace("ws","http")+"/matchmake/"+t+"/"+e,this._auth&&this._auth.hasToken&&(r.token=this._auth.token),[4,h(n,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})];case 1:if((s=i.sent().data).error)throw new Y(s.error,s.code);return[2,this.consumeSeatReservation(s,o)]}})})},t.prototype.createRoom=function(t,e){return new $(t,e)},t.prototype.buildEndpoint=function(t,e){void 0===e&&(e={});var r=[];for(var o in e)e.hasOwnProperty(o)&&r.push(o+"="+e[o]);return this.endpoint+"/"+t.processId+"/"+t.roomId+"?"+r.join("&")},t}(),Q=function(){function t(){}return t.prototype.setState=function(t){this.state.decode(t)},t.prototype.getState=function(){return this.state},t.prototype.patch=function(t){this.state.decode(t)},t.prototype.teardown=function(){var t,e;null===(e=null===(t=this.state)||void 0===t?void 0:t.$changes)||void 0===e||e.root.clearRefs()},t.prototype.handshake=function(t,e){this.state?(new U.Reflection).decode(t,e):this.state=U.Reflection.decode(t,e)},t}(),Z=function(){function t(){}return t.prototype.setState=function(){},t.prototype.getState=function(){return null},t.prototype.patch=function(){},t.prototype.teardown=function(){},t.prototype.handshake=function(){},t}();j("schema",Q),j("none",Z),e.Auth=W,e.Client=z,e.Room=$,e.SchemaSerializer=Q,e.registerSerializer=j,Object.defineProperty(e,"__esModule",{value:!0})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(t,e,r){(function(t,o){"object"==typeof r&&void 0!==e?e.exports=o():"function"==typeof define&&define.amd?define(o):t.moment=o()})(this,function(){"use strict";var r,o;function n(){return r.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(a(t,e))return!1;return!0}function u(t){return void 0===t}function p(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function f(t,e){var r,o=[];for(r=0;r<t.length;++r)o.push(e(t[r],r));return o}function d(t,e){for(var r in e)a(e,r)&&(t[r]=e[r]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,r,o){return Ye(t,e,r,o,!0).utc()}function _(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function y(t){if(null==t._isValid){var e=_(t),r=o.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function v(t){var e=h(NaN);return null!=t?d(_(e),t):_(e).userInvalidated=!0,e}o=Array.prototype.some?Array.prototype.some:function(t){var e,r=Object(this),o=r.length>>>0;for(e=0;e<o;e++)if(e in r&&t.call(this,r[e],e,r))return!0;return!1};var g=n.momentProperties=[],m=!1;function E(t,e){var r,o,n;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=_(e)),u(e._locale)||(t._locale=e._locale),g.length>0)for(r=0;r<g.length;r++)u(n=e[o=g[r]])||(t[o]=n);return t}function P(t){E(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===m&&(m=!0,n.updateOffset(this),m=!1)}function O(t){return t instanceof P||null!=t&&null!=t._isAMomentObject}function R(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function b(t,e){var r=!0;return d(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),r){var o,i,s,c=[];for(i=0;i<arguments.length;i++){if(o="","object"==typeof arguments[i]){for(s in o+="\n["+i+"] ",arguments[0])a(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];c.push(o)}R(t+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),r=!1}return e.apply(this,arguments)},e)}var M,S={};function I(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),S[t]||(R(e),S[t]=!0)}function w(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function C(t,e){var r,o=d({},t);for(r in e)a(e,r)&&(s(t[r])&&s(e[r])?(o[r]={},d(o[r],t[r]),d(o[r],e[r])):null!=e[r]?o[r]=e[r]:delete o[r]);for(r in t)a(t,r)&&!a(e,r)&&s(t[r])&&(o[r]=d({},o[r]));return o}function A(t){null!=t&&this.set(t)}function D(t,e,r){var o=""+Math.abs(t),n=e-o.length;return(t>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+o}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,M=Object.keys?Object.keys:function(t){var e,r=[];for(e in t)a(t,e)&&r.push(e);return r};var T=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N={},x={};function B(t,e,r,o){var n=o;"string"==typeof o&&(n=function(){return this[o]()}),t&&(x[t]=n),e&&(x[e[0]]=function(){return D(n.apply(this,arguments),e[1],e[2])}),r&&(x[r]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function L(t){var e,r,o,n=t.match(T);for(e=0,r=n.length;e<r;e++)x[n[e]]?n[e]=x[n[e]]:n[e]=(o=n[e]).match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"");return function(e){var o,i="";for(o=0;o<r;o++)i+=w(n[o])?n[o].call(e,t):n[o];return i}}function q(t,e){return t.isValid()?(e=F(e,t.localeData()),N[e]=N[e]||L(e),N[e](t)):t.localeData().invalidDate()}function F(t,e){var r=5;function o(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;r>=0&&j.test(t);)t=t.replace(j,o),j.lastIndex=0,r-=1;return t}var k={};function U(t,e){var r=t.toLowerCase();k[r]=k[r+"s"]=k[e]=t}function $(t){return"string"==typeof t?k[t]||k[t.toLowerCase()]:void 0}function H(t){var e,r,o={};for(r in t)a(t,r)&&(e=$(r))&&(o[e]=t[r]);return o}var V={};function G(t,e){V[t]=e}function K(t){var e,r=[];for(e in t)a(t,e)&&r.push({unit:e,priority:V[e]});return r.sort(function(t,e){return t.priority-e.priority}),r}function W(t){return t%4==0&&t%100!=0||t%400==0}function Y(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function J(t){var e=+t,r=0;return 0!==e&&isFinite(e)&&(r=Y(e)),r}function z(t,e){return function(r){return null!=r?(Z(this,t,r),n.updateOffset(this,e),this):Q(this,t)}}function Q(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Z(t,e,r){t.isValid()&&!isNaN(r)&&("FullYear"===e&&W(t.year())&&1===t.month()&&29===t.date()?(r=J(r),t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),jt(r,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](r))}var X,tt=/\d/,et=/\d\d/,rt=/\d{3}/,ot=/\d{4}/,nt=/[+-]?\d{6}/,it=/\d\d?/,st=/\d\d\d\d?/,at=/\d\d\d\d\d\d?/,ct=/\d{1,3}/,ut=/\d{1,4}/,pt=/[+-]?\d{1,6}/,lt=/\d+/,ft=/[+-]?\d+/,dt=/Z|[+-]\d\d:?\d\d/gi,ht=/Z|[+-]\d\d(?::?\d\d)?/gi,_t=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function yt(t,e,r){X[t]=w(e)?e:function(t){return t&&r?r:e}}function vt(t,e){return a(X,t)?X[t](e._strict,e._locale):new RegExp(gt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,r,o,n){return e||r||o||n})))}function gt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}X={};var mt={};function Et(t,e){var r,o=e;for("string"==typeof t&&(t=[t]),p(e)&&(o=function(t,r){r[e]=J(t)}),r=0;r<t.length;r++)mt[t[r]]=o}function Pt(t,e){Et(t,function(t,r,o,n){o._w=o._w||{},e(t,o._w,o,n)})}function Ot(t,e,r){null!=e&&a(mt,t)&&mt[t](e,r._a,r,t)}var Rt,bt=0,Mt=1,St=2,It=3,wt=4,Ct=5,At=6,Dt=7,Tt=8;function jt(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=(e%12+12)%12;return t+=(e-r)/12,1===r?W(t)?29:28:31-r%7%2}Rt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),B("MMMM",0,0,function(t){return this.localeData().months(this,t)}),U("month","M"),G("month",8),yt("M",it),yt("MM",it,et),yt("MMM",function(t,e){return e.monthsShortRegex(t)}),yt("MMMM",function(t,e){return e.monthsRegex(t)}),Et(["M","MM"],function(t,e){e[Mt]=J(t)-1}),Et(["MMM","MMMM"],function(t,e,r,o){var n=r._locale.monthsParse(t,o,r._strict);null!=n?e[Mt]=n:_(r).invalidMonth=t});var Nt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Bt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Lt=_t,qt=_t;function Ft(t,e,r){var o,n,i,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)i=h([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(i,"").toLocaleLowerCase();return r?"MMM"===e?-1!==(n=Rt.call(this._shortMonthsParse,s))?n:null:-1!==(n=Rt.call(this._longMonthsParse,s))?n:null:"MMM"===e?-1!==(n=Rt.call(this._shortMonthsParse,s))?n:-1!==(n=Rt.call(this._longMonthsParse,s))?n:null:-1!==(n=Rt.call(this._longMonthsParse,s))?n:-1!==(n=Rt.call(this._shortMonthsParse,s))?n:null}function kt(t,e){var r;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=J(e);else if(!p(e=t.localeData().monthsParse(e)))return t;return r=Math.min(t.date(),jt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function Ut(t){return null!=t?(kt(this,t),n.updateOffset(this,!0),this):Q(this,"Month")}function $t(){function t(t,e){return e.length-t.length}var e,r,o=[],n=[],i=[];for(e=0;e<12;e++)r=h([2e3,e]),o.push(this.monthsShort(r,"")),n.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(o.sort(t),n.sort(t),i.sort(t),e=0;e<12;e++)o[e]=gt(o[e]),n[e]=gt(n[e]);for(e=0;e<24;e++)i[e]=gt(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Ht(t){return W(t)?366:365}B("Y",0,0,function(){var t=this.year();return t<=9999?D(t,4):"+"+t}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),U("year","y"),G("year",1),yt("Y",ft),yt("YY",it,et),yt("YYYY",ut,ot),yt("YYYYY",pt,nt),yt("YYYYYY",pt,nt),Et(["YYYYY","YYYYYY"],bt),Et("YYYY",function(t,e){e[bt]=2===t.length?n.parseTwoDigitYear(t):J(t)}),Et("YY",function(t,e){e[bt]=n.parseTwoDigitYear(t)}),Et("Y",function(t,e){e[bt]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return J(t)+(J(t)>68?1900:2e3)};var Vt=z("FullYear",!0);function Gt(t,e,r,o,n,i,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,r,o,n,i,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,r,o,n,i,s),a}function Kt(t){var e,r;return t<100&&t>=0?((r=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Wt(t,e,r){var o=7+e-r;return-(7+Kt(t,0,o).getUTCDay()-e)%7+o-1}function Yt(t,e,r,o,n){var i,s,a=1+7*(e-1)+(7+r-o)%7+Wt(t,o,n);return a<=0?s=Ht(i=t-1)+a:a>Ht(t)?(i=t+1,s=a-Ht(t)):(i=t,s=a),{year:i,dayOfYear:s}}function Jt(t,e,r){var o,n,i=Wt(t.year(),e,r),s=Math.floor((t.dayOfYear()-i-1)/7)+1;return s<1?o=s+zt(n=t.year()-1,e,r):s>zt(t.year(),e,r)?(o=s-zt(t.year(),e,r),n=t.year()+1):(n=t.year(),o=s),{week:o,year:n}}function zt(t,e,r){var o=Wt(t,e,r),n=Wt(t+1,e,r);return(Ht(t)-o+n)/7}function Qt(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Zt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Xt(t,e){return t.slice(e,7).concat(t.slice(0,e))}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),G("week",5),G("isoWeek",5),yt("w",it),yt("ww",it,et),yt("W",it),yt("WW",it,et),Pt(["w","ww","W","WW"],function(t,e,r,o){e[o.substr(0,1)]=J(t)}),B("d",0,"do","day"),B("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),B("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),B("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),G("day",11),G("weekday",11),G("isoWeekday",11),yt("d",it),yt("e",it),yt("E",it),yt("dd",function(t,e){return e.weekdaysMinRegex(t)}),yt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),yt("dddd",function(t,e){return e.weekdaysRegex(t)}),Pt(["dd","ddd","dddd"],function(t,e,r,o){var n=r._locale.weekdaysParse(t,o,r._strict);null!=n?e.d=n:_(r).invalidWeekday=t}),Pt(["d","e","E"],function(t,e,r,o){e[o]=J(t)});var te="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ee="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),re="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),oe=_t,ne=_t,ie=_t;function se(t,e,r){var o,n,i,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)i=h([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(i,"").toLocaleLowerCase();return r?"dddd"===e?-1!==(n=Rt.call(this._weekdaysParse,s))?n:null:"ddd"===e?-1!==(n=Rt.call(this._shortWeekdaysParse,s))?n:null:-1!==(n=Rt.call(this._minWeekdaysParse,s))?n:null:"dddd"===e?-1!==(n=Rt.call(this._weekdaysParse,s))?n:-1!==(n=Rt.call(this._shortWeekdaysParse,s))?n:-1!==(n=Rt.call(this._minWeekdaysParse,s))?n:null:"ddd"===e?-1!==(n=Rt.call(this._shortWeekdaysParse,s))?n:-1!==(n=Rt.call(this._weekdaysParse,s))?n:-1!==(n=Rt.call(this._minWeekdaysParse,s))?n:null:-1!==(n=Rt.call(this._minWeekdaysParse,s))?n:-1!==(n=Rt.call(this._weekdaysParse,s))?n:-1!==(n=Rt.call(this._shortWeekdaysParse,s))?n:null}function ae(){function t(t,e){return e.length-t.length}var e,r,o,n,i,s=[],a=[],c=[],u=[];for(e=0;e<7;e++)r=h([2e3,1]).day(e),o=gt(this.weekdaysMin(r,"")),n=gt(this.weekdaysShort(r,"")),i=gt(this.weekdays(r,"")),s.push(o),a.push(n),c.push(i),u.push(o),u.push(n),u.push(i);s.sort(t),a.sort(t),c.sort(t),u.sort(t),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ce(){return this.hours()%12||12}function ue(t,e){B(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function pe(t,e){return e._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,ce),B("k",["kk",2],0,function(){return this.hours()||24}),B("hmm",0,0,function(){return""+ce.apply(this)+D(this.minutes(),2)}),B("hmmss",0,0,function(){return""+ce.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+D(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)}),ue("a",!0),ue("A",!1),U("hour","h"),G("hour",13),yt("a",pe),yt("A",pe),yt("H",it),yt("h",it),yt("k",it),yt("HH",it,et),yt("hh",it,et),yt("kk",it,et),yt("hmm",st),yt("hmmss",at),yt("Hmm",st),yt("Hmmss",at),Et(["H","HH"],It),Et(["k","kk"],function(t,e){var r=J(t);e[It]=24===r?0:r}),Et(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t}),Et(["h","hh"],function(t,e,r){e[It]=J(t),_(r).bigHour=!0}),Et("hmm",function(t,e,r){var o=t.length-2;e[It]=J(t.substr(0,o)),e[wt]=J(t.substr(o)),_(r).bigHour=!0}),Et("hmmss",function(t,e,r){var o=t.length-4,n=t.length-2;e[It]=J(t.substr(0,o)),e[wt]=J(t.substr(o,2)),e[Ct]=J(t.substr(n)),_(r).bigHour=!0}),Et("Hmm",function(t,e){var r=t.length-2;e[It]=J(t.substr(0,r)),e[wt]=J(t.substr(r))}),Et("Hmmss",function(t,e){var r=t.length-4,o=t.length-2;e[It]=J(t.substr(0,r)),e[wt]=J(t.substr(r,2)),e[Ct]=J(t.substr(o))});var le,fe=z("Hours",!0),de={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Nt,monthsShort:xt,week:{dow:0,doy:6},weekdays:te,weekdaysMin:re,weekdaysShort:ee,meridiemParse:/[ap]\.?m?\.?/i},he={},_e={};function ye(t,e){var r,o=Math.min(t.length,e.length);for(r=0;r<o;r+=1)if(t[r]!==e[r])return r;return o}function ve(t){return t?t.toLowerCase().replace("_","-"):t}function ge(t){for(var e,r,o,n,i=0;i<t.length;){for(e=(n=ve(t[i]).split("-")).length,r=(r=ve(t[i+1]))?r.split("-"):null;e>0;){if(o=me(n.slice(0,e).join("-")))return o;if(r&&r.length>=e&&ye(n,r)>=e-1)break;e--}i++}return le}function me(r){var o=null;if(void 0===he[r]&&void 0!==e&&e&&e.exports)try{o=le._abbr,t("./locale/"+r),Ee(o)}catch(n){he[r]=null}return he[r]}function Ee(t,e){var r;return t&&((r=u(e)?Oe(t):Pe(t,e))?le=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),le._abbr}function Pe(t,e){if(null!==e){var r,o=de;if(e.abbr=t,null!=he[t])I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=he[t]._config;else if(null!=e.parentLocale)if(null!=he[e.parentLocale])o=he[e.parentLocale]._config;else{if(null==(r=me(e.parentLocale)))return _e[e.parentLocale]||(_e[e.parentLocale]=[]),_e[e.parentLocale].push({name:t,config:e}),null;o=r._config}return he[t]=new A(C(o,e)),_e[t]&&_e[t].forEach(function(t){Pe(t.name,t.config)}),Ee(t),he[t]}return delete he[t],null}function Oe(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return le;if(!i(t)){if(e=me(t))return e;t=[t]}return ge(t)}function Re(t){var e,r=t._a;return r&&-2===_(t).overflow&&(e=r[Mt]<0||r[Mt]>11?Mt:r[St]<1||r[St]>jt(r[bt],r[Mt])?St:r[It]<0||r[It]>24||24===r[It]&&(0!==r[wt]||0!==r[Ct]||0!==r[At])?It:r[wt]<0||r[wt]>59?wt:r[Ct]<0||r[Ct]>59?Ct:r[At]<0||r[At]>999?At:-1,_(t)._overflowDayOfYear&&(e<bt||e>St)&&(e=St),_(t)._overflowWeeks&&-1===e&&(e=Dt),_(t)._overflowWeekday&&-1===e&&(e=Tt),_(t).overflow=e),t}var be=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Me=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Se=/Z|[+-]\d\d(?::?\d\d)?/,Ie=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],we=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ce=/^\/?Date\((-?\d+)/i,Ae=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,De={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Te(t){var e,r,o,n,i,s,a=t._i,c=be.exec(a)||Me.exec(a);if(c){for(_(t).iso=!0,e=0,r=Ie.length;e<r;e++)if(Ie[e][1].exec(c[1])){n=Ie[e][0],o=!1!==Ie[e][2];break}if(null==n)return void(t._isValid=!1);if(c[3]){for(e=0,r=we.length;e<r;e++)if(we[e][1].exec(c[3])){i=(c[2]||" ")+we[e][0];break}if(null==i)return void(t._isValid=!1)}if(!o&&null!=i)return void(t._isValid=!1);if(c[4]){if(!Se.exec(c[4]))return void(t._isValid=!1);s="Z"}t._f=n+(i||"")+(s||""),$e(t)}else t._isValid=!1}function je(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Ne(t,e,r){return!t||ee.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(_(r).weekdayMismatch=!0,r._isValid=!1,!1)}function xe(t,e,r){if(t)return De[t];if(e)return 0;var o=parseInt(r,10),n=o%100;return(o-n)/100*60+n}function Be(t){var e,r,o,n,i,s,a,c,u=Ae.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){if(r=u[4],o=u[3],n=u[2],i=u[5],s=u[6],a=u[7],c=[je(r),xt.indexOf(o),parseInt(n,10),parseInt(i,10),parseInt(s,10)],a&&c.push(parseInt(a,10)),e=c,!Ne(u[1],e,t))return;t._a=e,t._tzm=xe(u[8],u[9],u[10]),t._d=Kt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),_(t).rfc2822=!0}else t._isValid=!1}function Le(t){var e=Ce.exec(t._i);null===e?(Te(t),!1===t._isValid&&(delete t._isValid,Be(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:n.createFromInputFallback(t)))):t._d=new Date(+e[1])}function qe(t,e,r){return null!=t?t:null!=e?e:r}function Fe(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ke(t){var e,r,o,n,i,s=[];if(!t._d){for(o=Fe(t),t._w&&null==t._a[St]&&null==t._a[Mt]&&Ue(t),null!=t._dayOfYear&&(i=qe(t._a[bt],o[bt]),(t._dayOfYear>Ht(i)||0===t._dayOfYear)&&(_(t)._overflowDayOfYear=!0),r=Kt(i,0,t._dayOfYear),t._a[Mt]=r.getUTCMonth(),t._a[St]=r.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[It]&&0===t._a[wt]&&0===t._a[Ct]&&0===t._a[At]&&(t._nextDay=!0,t._a[It]=0),t._d=(t._useUTC?Kt:Gt).apply(null,s),n=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[It]=24),t._w&&void 0!==t._w.d&&t._w.d!==n&&(_(t).weekdayMismatch=!0)}}function Ue(t){var e,r,o,n,i,s,a,c,u;null!=(e=t._w).GG||null!=e.W||null!=e.E?(i=1,s=4,r=qe(e.GG,t._a[bt],Jt(Je(),1,4).year),o=qe(e.W,1),((n=qe(e.E,1))<1||n>7)&&(c=!0)):(i=t._locale._week.dow,s=t._locale._week.doy,u=Jt(Je(),i,s),r=qe(e.gg,t._a[bt],u.year),o=qe(e.w,u.week),null!=e.d?((n=e.d)<0||n>6)&&(c=!0):null!=e.e?(n=e.e+i,(e.e<0||e.e>6)&&(c=!0)):n=i),o<1||o>zt(r,i,s)?_(t)._overflowWeeks=!0:null!=c?_(t)._overflowWeekday=!0:(a=Yt(r,o,n,i,s),t._a[bt]=a.year,t._dayOfYear=a.dayOfYear)}function $e(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],_(t).empty=!0;var e,r,o,i,s,a,c=""+t._i,u=c.length,p=0;for(o=F(t._f,t._locale).match(T)||[],e=0;e<o.length;e++)i=o[e],(r=(c.match(vt(i,t))||[])[0])&&((s=c.substr(0,c.indexOf(r))).length>0&&_(t).unusedInput.push(s),c=c.slice(c.indexOf(r)+r.length),p+=r.length),x[i]?(r?_(t).empty=!1:_(t).unusedTokens.push(i),Ot(i,r,t)):t._strict&&!r&&_(t).unusedTokens.push(i);_(t).charsLeftOver=u-p,c.length>0&&_(t).unusedInput.push(c),t._a[It]<=12&&!0===_(t).bigHour&&t._a[It]>0&&(_(t).bigHour=void 0),_(t).parsedDateParts=t._a.slice(0),_(t).meridiem=t._meridiem,t._a[It]=He(t._locale,t._a[It],t._meridiem),null!==(a=_(t).era)&&(t._a[bt]=t._locale.erasConvertYear(a,t._a[bt])),ke(t),Re(t)}else Be(t);else Te(t)}function He(t,e,r){var o;return null==r?e:null!=t.meridiemHour?t.meridiemHour(e,r):null!=t.isPM?((o=t.isPM(r))&&e<12&&(e+=12),o||12!==e||(e=0),e):e}function Ve(t){var e,r,o,n,i,s,a=!1;if(0===t._f.length)return _(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)i=0,s=!1,e=E({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],$e(e),y(e)&&(s=!0),i+=_(e).charsLeftOver,i+=10*_(e).unusedTokens.length,_(e).score=i,a?i<o&&(o=i,r=e):(null==o||i<o||s)&&(o=i,r=e,s&&(a=!0));d(t,r||e)}function Ge(t){if(!t._d){var e=H(t._i),r=void 0===e.day?e.date:e.day;t._a=f([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ke(t)}}function Ke(t){var e=t._i,r=t._f;return t._locale=t._locale||Oe(t._l),null===e||void 0===r&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),O(e)?new P(Re(e)):(l(e)?t._d=e:i(r)?Ve(t):r?$e(t):We(t),y(t)||(t._d=null),t))}function We(t){var e=t._i;u(e)?t._d=new Date(n.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Le(t):i(e)?(t._a=f(e.slice(0),function(t){return parseInt(t,10)}),ke(t)):s(e)?Ge(t):p(e)?t._d=new Date(e):n.createFromInputFallback(t)}function Ye(t,e,r,o,n){var a,u={};return!0!==e&&!1!==e||(o=e,e=void 0),!0!==r&&!1!==r||(o=r,r=void 0),(s(t)&&c(t)||i(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=n,u._l=r,u._i=t,u._f=e,u._strict=o,(a=new P(Re(Ke(u))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Je(t,e,r,o){return Ye(t,e,r,o,!1)}n.createFromInputFallback=b("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var ze=b("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Je.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()}),Qe=b("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Je.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()});function Ze(t,e){var r,o;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Je();for(r=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](r)||(r=e[o]);return r}var Xe=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tr(t){var e,r,o=!1;for(e in t)if(a(t,e)&&(-1===Rt.call(Xe,e)||null!=t[e]&&isNaN(t[e])))return!1;for(r=0;r<Xe.length;++r)if(t[Xe[r]]){if(o)return!1;parseFloat(t[Xe[r]])!==J(t[Xe[r]])&&(o=!0)}return!0}function er(t){var e=H(t),r=e.year||0,o=e.quarter||0,n=e.month||0,i=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,c=e.minute||0,u=e.second||0,p=e.millisecond||0;this._isValid=tr(e),this._milliseconds=+p+1e3*u+6e4*c+36e5*a,this._days=+s+7*i,this._months=+n+3*o+12*r,this._data={},this._locale=Oe(),this._bubble()}function rr(t){return t instanceof er}function or(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function nr(t,e,r){var o,n=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0;for(o=0;o<n;o++)(r&&t[o]!==e[o]||!r&&J(t[o])!==J(e[o]))&&s++;return s+i}function ir(t,e){B(t,0,0,function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+D(~~(t/60),2)+e+D(~~t%60,2)})}ir("Z",":"),ir("ZZ",""),yt("Z",ht),yt("ZZ",ht),Et(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=ar(ht,t)});var sr=/([\+\-]|\d\d)/gi;function ar(t,e){var r,o,n=(e||"").match(t);return null===n?null:0===(o=60*(r=((n[n.length-1]||[])+"").match(sr)||["-",0,0])[1]+J(r[2]))?0:"+"===r[0]?o:-o}function cr(t,e){var r,o;return e._isUTC?(r=e.clone(),o=(O(t)||l(t)?t.valueOf():Je(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+o),n.updateOffset(r,!1),r):Je(t).local()}function ur(t){return-Math.round(t._d.getTimezoneOffset())}function pr(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var lr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,fr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function dr(t,e){var r,o,n,i,s,c,u=t,l=null;return rr(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:p(t)||!isNaN(+t)?(u={},e?u[e]=+t:u.milliseconds=+t):(l=lr.exec(t))?(r="-"===l[1]?-1:1,u={y:0,d:J(l[St])*r,h:J(l[It])*r,m:J(l[wt])*r,s:J(l[Ct])*r,ms:J(or(1e3*l[At]))*r}):(l=fr.exec(t))?(r="-"===l[1]?-1:1,u={y:hr(l[2],r),M:hr(l[3],r),w:hr(l[4],r),d:hr(l[5],r),h:hr(l[6],r),m:hr(l[7],r),s:hr(l[8],r)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(i=Je(u.from),s=Je(u.to),n=i.isValid()&&s.isValid()?(s=cr(s,i),i.isBefore(s)?c=_r(i,s):((c=_r(s,i)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(u={}).ms=n.milliseconds,u.M=n.months),o=new er(u),rr(t)&&a(t,"_locale")&&(o._locale=t._locale),rr(t)&&a(t,"_isValid")&&(o._isValid=t._isValid),o}function hr(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function _r(t,e){var r={};return r.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function yr(t,e){return function(r,o){var n;return null===o||isNaN(+o)||(I(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=r,r=o,o=n),vr(this,dr(r,o),t),this}}function vr(t,e,r,o){var i=e._milliseconds,s=or(e._days),a=or(e._months);t.isValid()&&(o=null==o||o,a&&kt(t,Q(t,"Month")+a*r),s&&Z(t,"Date",Q(t,"Date")+s*r),i&&t._d.setTime(t._d.valueOf()+i*r),o&&n.updateOffset(t,s||a))}dr.fn=er.prototype,dr.invalid=function(){return dr(NaN)};var gr=yr(1,"add"),mr=yr(-1,"subtract");function Er(t){return"string"==typeof t||t instanceof String}function Pr(t){var e,r=s(t)&&!c(t),o=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<n.length;e+=1)o=o||a(t,n[e]);return r&&o}function Or(t){var e=i(t),r=!1;return e&&(r=0===t.filter(function(e){return!p(e)&&Er(t)}).length),e&&r}function Rr(t){var e,r=s(t)&&!c(t),o=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<n.length;e+=1)o=o||a(t,n[e]);return r&&o}function br(t,e){if(t.date()<e.date())return-br(e,t);var r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return-(r+(e-o<0?(e-o)/(o-t.clone().add(r-1,"months")):(e-o)/(t.clone().add(r+1,"months")-o)))||0}function Mr(t){var e;return void 0===t?this._locale._abbr:(null!=(e=Oe(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Sr=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Ir(){return this._locale}var wr=126227808e5;function Cr(t,e){return(t%e+e)%e}function Ar(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-wr:new Date(t,e,r).valueOf()}function Dr(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-wr:Date.UTC(t,e,r)}function Tr(t,e){return e.erasAbbrRegex(t)}function jr(){var t,e,r=[],o=[],n=[],i=[],s=this.eras();for(t=0,e=s.length;t<e;++t)o.push(gt(s[t].name)),r.push(gt(s[t].abbr)),n.push(gt(s[t].narrow)),i.push(gt(s[t].name)),i.push(gt(s[t].abbr)),i.push(gt(s[t].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+o.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function Nr(t,e){B(0,[t,t.length],0,e)}function xr(t,e,r,o,n){var i;return null==t?Jt(this,o,n).year:(e>(i=zt(t,o,n))&&(e=i),Br.call(this,t,e,r,o,n))}function Br(t,e,r,o,n){var i=Yt(t,e,r,o,n),s=Kt(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),yt("N",Tr),yt("NN",Tr),yt("NNN",Tr),yt("NNNN",function(t,e){return e.erasNameRegex(t)}),yt("NNNNN",function(t,e){return e.erasNarrowRegex(t)}),Et(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,o){var n=r._locale.erasParse(t,o,r._strict);n?_(r).era=n:_(r).invalidEra=t}),yt("y",lt),yt("yy",lt),yt("yyy",lt),yt("yyyy",lt),yt("yo",function(t,e){return e._eraYearOrdinalRegex||lt}),Et(["y","yy","yyy","yyyy"],bt),Et(["yo"],function(t,e,r){var o;r._locale._eraYearOrdinalRegex&&(o=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[bt]=r._locale.eraYearOrdinalParse(t,o):e[bt]=parseInt(t,10)}),B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Nr("gggg","weekYear"),Nr("ggggg","weekYear"),Nr("GGGG","isoWeekYear"),Nr("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),G("weekYear",1),G("isoWeekYear",1),yt("G",ft),yt("g",ft),yt("GG",it,et),yt("gg",it,et),yt("GGGG",ut,ot),yt("gggg",ut,ot),yt("GGGGG",pt,nt),yt("ggggg",pt,nt),Pt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,o){e[o.substr(0,2)]=J(t)}),Pt(["gg","GG"],function(t,e,r,o){e[o]=n.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),U("quarter","Q"),G("quarter",7),yt("Q",tt),Et("Q",function(t,e){e[Mt]=3*(J(t)-1)}),B("D",["DD",2],"Do","date"),U("date","D"),G("date",9),yt("D",it),yt("DD",it,et),yt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),Et(["D","DD"],St),Et("Do",function(t,e){e[St]=J(t.match(it)[0])});var Lr=z("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),G("dayOfYear",4),yt("DDD",ct),yt("DDDD",rt),Et(["DDD","DDDD"],function(t,e,r){r._dayOfYear=J(t)}),B("m",["mm",2],0,"minute"),U("minute","m"),G("minute",14),yt("m",it),yt("mm",it,et),Et(["m","mm"],wt);var qr=z("Minutes",!1);B("s",["ss",2],0,"second"),U("second","s"),G("second",15),yt("s",it),yt("ss",it,et),Et(["s","ss"],Ct);var Fr,kr,Ur=z("Seconds",!1);for(B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),U("millisecond","ms"),G("millisecond",16),yt("S",ct,tt),yt("SS",ct,et),yt("SSS",ct,rt),Fr="SSSS";Fr.length<=9;Fr+="S")yt(Fr,lt);function $r(t,e){e[At]=J(1e3*("0."+t))}for(Fr="S";Fr.length<=9;Fr+="S")Et(Fr,$r);kr=z("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var Hr=P.prototype;function Vr(t){return t}Hr.add=gr,Hr.calendar=function(t,e){var r;1===arguments.length&&(arguments[0]?O(r=arguments[0])||l(r)||Er(r)||p(r)||Or(r)||Pr(r)||null==r?(t=arguments[0],e=void 0):Rr(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var o=t||Je(),i=cr(o,this).startOf("day"),s=n.calendarFormat(this,i)||"sameElse",a=e&&(w(e[s])?e[s].call(this,o):e[s]);return this.format(a||this.localeData().calendar(s,this,Je(o)))},Hr.clone=function(){return new P(this)},Hr.diff=function(t,e,r){var o,n,i;if(!this.isValid())return NaN;if(!(o=cr(t,this)).isValid())return NaN;switch(n=6e4*(o.utcOffset()-this.utcOffset()),e=$(e)){case"year":i=br(this,o)/12;break;case"month":i=br(this,o);break;case"quarter":i=br(this,o)/3;break;case"second":i=(this-o)/1e3;break;case"minute":i=(this-o)/6e4;break;case"hour":i=(this-o)/36e5;break;case"day":i=(this-o-n)/864e5;break;case"week":i=(this-o-n)/6048e5;break;default:i=this-o}return r?i:Y(i)},Hr.endOf=function(t){var e,r;if(void 0===(t=$(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?Dr:Ar,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Cr(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Cr(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Cr(e,1e3)-1}return this._d.setTime(e),n.updateOffset(this,!0),this},Hr.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=q(this,t);return this.localeData().postformat(e)},Hr.from=function(t,e){return this.isValid()&&(O(t)&&t.isValid()||Je(t).isValid())?dr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Hr.fromNow=function(t){return this.from(Je(),t)},Hr.to=function(t,e){return this.isValid()&&(O(t)&&t.isValid()||Je(t).isValid())?dr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Hr.toNow=function(t){return this.to(Je(),t)},Hr.get=function(t){return w(this[t=$(t)])?this[t]():this},Hr.invalidAt=function(){return _(this).overflow},Hr.isAfter=function(t,e){var r=O(t)?t:Je(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=$(e)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf())},Hr.isBefore=function(t,e){var r=O(t)?t:Je(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=$(e)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf())},Hr.isBetween=function(t,e,r,o){var n=O(t)?t:Je(t),i=O(e)?e:Je(e);return!!(this.isValid()&&n.isValid()&&i.isValid())&&("("===(o=o||"()")[0]?this.isAfter(n,r):!this.isBefore(n,r))&&(")"===o[1]?this.isBefore(i,r):!this.isAfter(i,r))},Hr.isSame=function(t,e){var r,o=O(t)?t:Je(t);return!(!this.isValid()||!o.isValid())&&("millisecond"===(e=$(e)||"millisecond")?this.valueOf()===o.valueOf():(r=o.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf()))},Hr.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Hr.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Hr.isValid=function(){return y(this)},Hr.lang=Sr,Hr.locale=Mr,Hr.localeData=Ir,Hr.max=Qe,Hr.min=ze,Hr.parsingFlags=function(){return d({},_(this))},Hr.set=function(t,e){if("object"==typeof t){var r,o=K(t=H(t));for(r=0;r<o.length;r++)this[o[r].unit](t[o[r].unit])}else if(w(this[t=$(t)]))return this[t](e);return this},Hr.startOf=function(t){var e,r;if(void 0===(t=$(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?Dr:Ar,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Cr(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Cr(e,6e4);break;case"second":e=this._d.valueOf(),e-=Cr(e,1e3)}return this._d.setTime(e),n.updateOffset(this,!0),this},Hr.subtract=mr,Hr.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Hr.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Hr.toDate=function(){return new Date(this.valueOf())},Hr.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?q(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):w(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+6e4*this.utcOffset()).toISOString().replace("Z",q(r,"Z")):q(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Hr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,r,o="moment",n="";return this.isLocal()||(o=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),t="["+o+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=n+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Hr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Hr.toJSON=function(){return this.isValid()?this.toISOString():null},Hr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Hr.unix=function(){return Math.floor(this.valueOf()/1e3)},Hr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Hr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Hr.eraName=function(){var t,e,r,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),o[t].since<=r&&r<=o[t].until)return o[t].name;if(o[t].until<=r&&r<=o[t].since)return o[t].name}return""},Hr.eraNarrow=function(){var t,e,r,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),o[t].since<=r&&r<=o[t].until)return o[t].narrow;if(o[t].until<=r&&r<=o[t].since)return o[t].narrow}return""},Hr.eraAbbr=function(){var t,e,r,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),o[t].since<=r&&r<=o[t].until)return o[t].abbr;if(o[t].until<=r&&r<=o[t].since)return o[t].abbr}return""},Hr.eraYear=function(){var t,e,r,o,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,o=this.clone().startOf("day").valueOf(),i[t].since<=o&&o<=i[t].until||i[t].until<=o&&o<=i[t].since)return(this.year()-n(i[t].since).year())*r+i[t].offset;return this.year()},Hr.year=Vt,Hr.isLeapYear=function(){return W(this.year())},Hr.weekYear=function(t){return xr.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Hr.isoWeekYear=function(t){return xr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Hr.quarter=Hr.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Hr.month=Ut,Hr.daysInMonth=function(){return jt(this.year(),this.month())},Hr.week=Hr.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Hr.isoWeek=Hr.isoWeeks=function(t){var e=Jt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Hr.weeksInYear=function(){var t=this.localeData()._week;return zt(this.year(),t.dow,t.doy)},Hr.weeksInWeekYear=function(){var t=this.localeData()._week;return zt(this.weekYear(),t.dow,t.doy)},Hr.isoWeeksInYear=function(){return zt(this.year(),1,4)},Hr.isoWeeksInISOWeekYear=function(){return zt(this.isoWeekYear(),1,4)},Hr.date=Lr,Hr.day=Hr.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Qt(t,this.localeData()),this.add(t-e,"d")):e},Hr.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Hr.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Zt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},Hr.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Hr.hour=Hr.hours=fe,Hr.minute=Hr.minutes=qr,Hr.second=Hr.seconds=Ur,Hr.millisecond=Hr.milliseconds=kr,Hr.utcOffset=function(t,e,r){var o,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=ar(ht,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&e&&(o=ur(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==t&&(!e||this._changeInProgress?vr(this,dr(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:ur(this)},Hr.utc=function(t){return this.utcOffset(0,t)},Hr.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ur(this),"m")),this},Hr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=ar(dt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},Hr.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Je(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Hr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Hr.isLocal=function(){return!!this.isValid()&&!this._isUTC},Hr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Hr.isUtc=pr,Hr.isUTC=pr,Hr.zoneAbbr=function(){return this._isUTC?"UTC":""},Hr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Hr.dates=b("dates accessor is deprecated. Use date instead.",Lr),Hr.months=b("months accessor is deprecated. Use month instead",Ut),Hr.years=b("years accessor is deprecated. Use year instead",Vt),Hr.zone=b("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),Hr.isDSTShifted=b("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return E(e,this),(e=Ke(e))._a?(t=e._isUTC?h(e._a):Je(e._a),this._isDSTShifted=this.isValid()&&nr(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Gr=A.prototype;function Kr(t,e,r,o){var n=Oe(),i=h().set(o,e);return n[r](i,t)}function Wr(t,e,r){if(p(t)&&(e=t,t=void 0),t=t||"",null!=e)return Kr(t,e,r,"month");var o,n=[];for(o=0;o<12;o++)n[o]=Kr(t,o,r,"month");return n}function Yr(t,e,r,o){"boolean"==typeof t?(p(e)&&(r=e,e=void 0),e=e||""):(r=e=t,t=!1,p(e)&&(r=e,e=void 0),e=e||"");var n,i=Oe(),s=t?i._week.dow:0,a=[];if(null!=r)return Kr(e,(r+s)%7,o,"day");for(n=0;n<7;n++)a[n]=Kr(e,(n+s)%7,o,"day");return a}Gr.calendar=function(t,e,r){var o=this._calendar[t]||this._calendar.sameElse;return w(o)?o.call(e,r):o},Gr.longDateFormat=function(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(T).map(function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t}).join(""),this._longDateFormat[t])},Gr.invalidDate=function(){return this._invalidDate},Gr.ordinal=function(t){return this._ordinal.replace("%d",t)},Gr.preparse=Vr,Gr.postformat=Vr,Gr.relativeTime=function(t,e,r,o){var n=this._relativeTime[r];return w(n)?n(t,e,r,o):n.replace(/%d/i,t)},Gr.pastFuture=function(t,e){var r=this._relativeTime[t>0?"future":"past"];return w(r)?r(e):r.replace(/%s/i,e)},Gr.set=function(t){var e,r;for(r in t)a(t,r)&&(w(e=t[r])?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Gr.eras=function(){var t,e,r,o=this._eras||Oe("en")._eras;for(t=0,e=o.length;t<e;++t){switch(typeof o[t].since){case"string":r=n(o[t].since).startOf("day"),o[t].since=r.valueOf()}switch(typeof o[t].until){case"undefined":o[t].until=1/0;break;case"string":r=n(o[t].until).startOf("day").valueOf(),o[t].until=r.valueOf()}}return o},Gr.erasParse=function(t,e,r){var o,n,i,s,a,c=this.eras();for(t=t.toUpperCase(),o=0,n=c.length;o<n;++o)if(i=c[o].name.toUpperCase(),s=c[o].abbr.toUpperCase(),a=c[o].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(s===t)return c[o];break;case"NNNN":if(i===t)return c[o];break;case"NNNNN":if(a===t)return c[o]}else if([i,s,a].indexOf(t)>=0)return c[o]},Gr.erasConvertYear=function(t,e){var r=t.since<=t.until?1:-1;return void 0===e?n(t.since).year():n(t.since).year()+(e-t.offset)*r},Gr.erasAbbrRegex=function(t){return a(this,"_erasAbbrRegex")||jr.call(this),t?this._erasAbbrRegex:this._erasRegex},Gr.erasNameRegex=function(t){return a(this,"_erasNameRegex")||jr.call(this),t?this._erasNameRegex:this._erasRegex},Gr.erasNarrowRegex=function(t){return a(this,"_erasNarrowRegex")||jr.call(this),t?this._erasNarrowRegex:this._erasRegex},Gr.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Bt).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},Gr.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Bt.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Gr.monthsParse=function(t,e,r){var o,n,i;if(this._monthsParseExact)return Ft.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(n=h([2e3,o]),r&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),r||this._monthsParse[o]||(i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[o]=new RegExp(i.replace(".",""),"i")),r&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(r&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!r&&this._monthsParse[o].test(t))return o}},Gr.monthsRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||$t.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=qt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},Gr.monthsShortRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||$t.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Lt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},Gr.week=function(t){return Jt(t,this._week.dow,this._week.doy).week},Gr.firstDayOfYear=function(){return this._week.doy},Gr.firstDayOfWeek=function(){return this._week.dow},Gr.weekdays=function(t,e){var r=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Xt(r,this._week.dow):t?r[t.day()]:r},Gr.weekdaysMin=function(t){return!0===t?Xt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},Gr.weekdaysShort=function(t){return!0===t?Xt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},Gr.weekdaysParse=function(t,e,r){var o,n,i;if(this._weekdaysParseExact)return se.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(n=h([2e3,1]).day(o),r&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[o]||(i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[o]=new RegExp(i.replace(".",""),"i")),r&&"dddd"===e&&this._fullWeekdaysParse[o].test(t))return o;if(r&&"ddd"===e&&this._shortWeekdaysParse[o].test(t))return o;if(r&&"dd"===e&&this._minWeekdaysParse[o].test(t))return o;if(!r&&this._weekdaysParse[o].test(t))return o}},Gr.weekdaysRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||ae.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=oe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},Gr.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||ae.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ne),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Gr.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||ae.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ie),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Gr.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Gr.meridiem=function(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"},Ee("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===J(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=b("moment.lang is deprecated. Use moment.locale instead.",Ee),n.langData=b("moment.langData is deprecated. Use moment.localeData instead.",Oe);var Jr=Math.abs;function zr(t,e,r,o){var n=dr(e,r);return t._milliseconds+=o*n._milliseconds,t._days+=o*n._days,t._months+=o*n._months,t._bubble()}function Qr(t){return t<0?Math.floor(t):Math.ceil(t)}function Zr(t){return 4800*t/146097}function Xr(t){return 146097*t/4800}function to(t){return function(){return this.as(t)}}var eo=to("ms"),ro=to("s"),oo=to("m"),no=to("h"),io=to("d"),so=to("w"),ao=to("M"),co=to("Q"),uo=to("y");function po(t){return function(){return this.isValid()?this._data[t]:NaN}}var lo=po("milliseconds"),fo=po("seconds"),ho=po("minutes"),_o=po("hours"),yo=po("days"),vo=po("months"),go=po("years"),mo=Math.round,Eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Po(t,e,r,o,n){return n.relativeTime(e||1,!!r,t,o)}function Oo(t,e,r,o){var n=dr(t).abs(),i=mo(n.as("s")),s=mo(n.as("m")),a=mo(n.as("h")),c=mo(n.as("d")),u=mo(n.as("M")),p=mo(n.as("w")),l=mo(n.as("y")),f=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||s<=1&&["m"]||s<r.m&&["mm",s]||a<=1&&["h"]||a<r.h&&["hh",a]||c<=1&&["d"]||c<r.d&&["dd",c];return null!=r.w&&(f=f||p<=1&&["w"]||p<r.w&&["ww",p]),(f=f||u<=1&&["M"]||u<r.M&&["MM",u]||l<=1&&["y"]||["yy",l])[2]=e,f[3]=+t>0,f[4]=o,Po.apply(null,f)}var Ro=Math.abs;function bo(t){return(t>0)-(t<0)||+t}function Mo(){if(!this.isValid())return this.localeData().invalidDate();var t,e,r,o,n,i,s,a,c=Ro(this._milliseconds)/1e3,u=Ro(this._days),p=Ro(this._months),l=this.asSeconds();return l?(t=Y(c/60),e=Y(t/60),c%=60,t%=60,r=Y(p/12),p%=12,o=c?c.toFixed(3).replace(/\.?0+$/,""):"",n=l<0?"-":"",i=bo(this._months)!==bo(l)?"-":"",s=bo(this._days)!==bo(l)?"-":"",a=bo(this._milliseconds)!==bo(l)?"-":"",n+"P"+(r?i+r+"Y":"")+(p?i+p+"M":"")+(u?s+u+"D":"")+(e||t||c?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(c?a+o+"S":"")):"P0D"}var So=er.prototype;return So.isValid=function(){return this._isValid},So.abs=function(){var t=this._data;return this._milliseconds=Jr(this._milliseconds),this._days=Jr(this._days),this._months=Jr(this._months),t.milliseconds=Jr(t.milliseconds),t.seconds=Jr(t.seconds),t.minutes=Jr(t.minutes),t.hours=Jr(t.hours),t.months=Jr(t.months),t.years=Jr(t.years),this},So.add=function(t,e){return zr(this,t,e,1)},So.subtract=function(t,e){return zr(this,t,e,-1)},So.as=function(t){if(!this.isValid())return NaN;var e,r,o=this._milliseconds;if("month"===(t=$(t))||"quarter"===t||"year"===t)switch(e=this._days+o/864e5,r=this._months+Zr(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(Xr(this._months)),t){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return 24*e+o/36e5;case"minute":return 1440*e+o/6e4;case"second":return 86400*e+o/1e3;case"millisecond":return Math.floor(864e5*e)+o;default:throw new Error("Unknown unit "+t)}},So.asMilliseconds=eo,So.asSeconds=ro,So.asMinutes=oo,So.asHours=no,So.asDays=io,So.asWeeks=so,So.asMonths=ao,So.asQuarters=co,So.asYears=uo,So.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*J(this._months/12):NaN},So._bubble=function(){var t,e,r,o,n,i=this._milliseconds,s=this._days,a=this._months,c=this._data;return i>=0&&s>=0&&a>=0||i<=0&&s<=0&&a<=0||(i+=864e5*Qr(Xr(a)+s),s=0,a=0),c.milliseconds=i%1e3,t=Y(i/1e3),c.seconds=t%60,e=Y(t/60),c.minutes=e%60,r=Y(e/60),c.hours=r%24,s+=Y(r/24),a+=n=Y(Zr(s)),s-=Qr(Xr(n)),o=Y(a/12),a%=12,c.days=s,c.months=a,c.years=o,this},So.clone=function(){return dr(this)},So.get=function(t){return t=$(t),this.isValid()?this[t+"s"]():NaN},So.milliseconds=lo,So.seconds=fo,So.minutes=ho,So.hours=_o,So.days=yo,So.weeks=function(){return Y(this.days()/7)},So.months=vo,So.years=go,So.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var r,o,n=!1,i=Eo;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(n=t),"object"==typeof e&&(i=Object.assign({},Eo,e),null!=e.s&&null==e.ss&&(i.ss=e.s-1)),o=Oo(this,!n,i,r=this.localeData()),n&&(o=r.pastFuture(+this,o)),r.postformat(o)},So.toISOString=Mo,So.toString=Mo,So.toJSON=Mo,So.locale=Mr,So.localeData=Ir,So.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mo),So.lang=Sr,B("X",0,0,"unix"),B("x",0,0,"valueOf"),yt("x",ft),yt("X",/[+-]?\d+(\.\d{1,3})?/),Et("X",function(t,e,r){r._d=new Date(1e3*parseFloat(t))}),Et("x",function(t,e,r){r._d=new Date(J(t))}),n.version="2.29.1",r=Je,n.fn=Hr,n.min=function(){return Ze("isBefore",[].slice.call(arguments,0))},n.max=function(){return Ze("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=h,n.unix=function(t){return Je(1e3*t)},n.months=function(t,e){return Wr(t,e,"months")},n.isDate=l,n.locale=Ee,n.invalid=v,n.duration=dr,n.isMoment=O,n.weekdays=function(t,e,r){return Yr(t,e,r,"weekdays")},n.parseZone=function(){return Je.apply(null,arguments).parseZone()},n.localeData=Oe,n.isDuration=rr,n.monthsShort=function(t,e){return Wr(t,e,"monthsShort")},n.weekdaysMin=function(t,e,r){return Yr(t,e,r,"weekdaysMin")},n.defineLocale=Pe,n.updateLocale=function(t,e){if(null!=e){var r,o,n=de;null!=he[t]&&null!=he[t].parentLocale?he[t].set(C(he[t]._config,e)):(null!=(o=me(t))&&(n=o._config),e=C(n,e),null==o&&(e.abbr=t),(r=new A(e)).parentLocale=he[t],he[t]=r),Ee(t)}else null!=he[t]&&(null!=he[t].parentLocale?(he[t]=he[t].parentLocale,t===Ee()&&Ee(t)):null!=he[t]&&delete he[t]);return he[t]},n.locales=function(){return M(he)},n.weekdaysShort=function(t,e,r){return Yr(t,e,r,"weekdaysShort")},n.normalizeUnits=$,n.relativeTimeRounding=function(t){return void 0===t?mo:"function"==typeof t&&(mo=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==Eo[t]&&(void 0===e?Eo[t]:(Eo[t]=e,"s"===t&&(Eo.ss=e-1),!0))},n.calendarFormat=function(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},n.prototype=Hr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})},{}],35:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t("../validation");r.default=(t,e=1)=>{o.numberValidator(e).isInt().isPositive();const r=t.irwinHall(e);return()=>r()/e}},{"../validation":54}],36:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t("../validation");r.default=(t,e=.5)=>(o.numberValidator(e).greaterThanOrEqual(0).lessThan(1),()=>Math.floor(t.next()+e))},{"../validation":54}],37:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t("../validation");r.default=(t,e=1,r=.5)=>(o.numberValidator(e).isInt().isPositive(),o.numberValidator(r).greaterThanOrEqual(0).lessThan(1),()=>{let o=0,n=0;for(;o++<e;)t.next()<r&&n++;return n})},{"../validation":54}],38:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t("../validation");r.default=(t,e=1)=>(o.numberValidator(e).isPositive(),()=>-Math.log(1-t.next())/e)},{"../validation":54}],39:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t("../validation");r.default=(t,e=.5)=>{o.numberValidator(e).greaterThan(0).lessThan(1);const r=1/Math.log(1-e);return()=>Math.floor(1+Math.log(t.next())*r)}},{"../validation":54}],40:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t("../validation");r.default=(t,e=1)=>(o.numberValidator(e).isInt().greaterThanOrEqual(0),()=>{let r=0;for(let o=0;o<e;++o)r+=t.next();return r})},{"../validation":54}],41:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(t,e=0,r=1)=>{const o=t.normal(e,r);return()=>Math.exp(o())}},{}],42:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(t,e=0,r=1)=>()=>{let o,n,i;do{i=(o=2*t.next()-1)*o+(n=2*t.next()-1)*n}while(!i||i>1);return e+r*n*Math.sqrt(-2*Math.log(i)/i)}},{}],43:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t("../validation");r.default=(t,e=1)=>{o.numberValidator(e).greaterThanOrEqual(0);const r=1/e;return()=>1/Math.pow(1-t.next(),r)}},{"../validation":54}],44:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t("../validation"),n=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],i=t=>n[t];r.default=(t,e=1)=>{if(o.numberValidator(e).isPositive(),e<10){const r=Math.exp(-e);return()=>{let o=r,n=0,i=t.next();for(;i>o;)i-=o,o=e*o/++n;return n}}{const r=Math.sqrt(e),o=.931+2.53*r,n=.02483*o-.059,s=1.1239+1.1328/(o-3.4),a=.9277-3.6224/(o-2);return()=>{for(var c;;){let u,p=t.next();if(p<=.86*a)return u=p/a-.43,Math.floor((2*n/(.5-Math.abs(u))+o)*u+e+.445);p>=a?u=t.next()-.5:(u=((u=p/a-.93)<0?-.5:.5)-u,p=t.next()*a);const l=.5-Math.abs(u);if(l<.013&&p>l)continue;const f=Math.floor((2*n/l+o)*u+e+.445);if(p=p*s/(n/(l*l)+o),f>=10){const t=(f+.5)*Math.log(e/f)-e-.9189385332046727+f-(1/12-(1/360-1/(1260*f*f))/(f*f))/f;if(Math.log(p*r)<=t)return f}else if(f>=0){const t=null!==(c=i(f))&&void 0!==c?c:0;if(Math.log(p)<=f*Math.log(e)-e-t)return f}}}}}},{"../validation":54}],45:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=t=>()=>t.next()>=.5},{}],46:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t("../validation");r.default=(t,e=0,r=1)=>(void 0===r&&(r=void 0===e?1:e,e=0),o.numberValidator(e).isInt(),o.numberValidator(r).isInt(),()=>Math.floor(t.next()*(r-e+1)+e))},{"../validation":54}],47:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(t,e=0,r=1)=>()=>t.next()*(r-e)+e},{}],48:[function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const n=o(t("../rng"));class i extends n.default{constructor(t,e){super(),this.seed(t,e)}get name(){return"function"}next(){return this._rng()}seed(t,e){this._rng=t}clone(t,e){return new i(this._rng,e)}}r.default=i},{"../rng":53}],49:[function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const n=o(t("../rng"));class i extends n.default{get name(){return"default"}next(){return Math.random()}seed(t,e){}clone(){return new i}}r.default=i},{"../rng":53}],50:[function(t,e,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,r,o){void 0===o&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||o(e,t,r)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const s=i(t("./random"));n(t("./random"),r),r.default=s.default,e.exports=t("./random").default},{"./random":51}],51:[function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Random=r.RNGFactory=r.RNG=void 0;const n=o(t("./rng"));r.RNG=n.default;const i=o(t("./rng-factory"));r.RNGFactory=i.default;const s=o(t("./distributions/uniform")),a=o(t("./distributions/uniform-int")),c=o(t("./distributions/uniform-boolean")),u=o(t("./distributions/normal")),p=o(t("./distributions/log-normal")),l=o(t("./distributions/bernoulli")),f=o(t("./distributions/binomial")),d=o(t("./distributions/geometric")),h=o(t("./distributions/poisson")),_=o(t("./distributions/exponential")),y=o(t("./distributions/irwin-hall")),v=o(t("./distributions/bates")),g=o(t("./distributions/pareto")),m=o(t("./generators/math-random"));class E{constructor(t){this._cache={},this.next=()=>this._rng.next(),this.float=(t,e)=>this.uniform(t,e)(),this.int=(t,e)=>this.uniformInt(t,e)(),this.integer=(t,e)=>this.uniformInt(t,e)(),this.bool=()=>this.uniformBoolean()(),this.boolean=()=>this.uniformBoolean()(),this.uniform=(t,e)=>this._memoize("uniform",s.default,t,e),this.uniformInt=(t,e)=>this._memoize("uniformInt",a.default,t,e),this.uniformBoolean=()=>this._memoize("uniformBoolean",c.default),this.normal=(t,e)=>u.default(this,t,e),this.logNormal=(t,e)=>p.default(this,t,e),this.bernoulli=t=>l.default(this,t),this.binomial=(t,e)=>f.default(this,t,e),this.geometric=t=>d.default(this,t),this.poisson=t=>h.default(this,t),this.exponential=t=>_.default(this,t),this.irwinHall=t=>y.default(this,t),this.bates=t=>v.default(this,t),this.pareto=t=>g.default(this,t),t&&t instanceof n.default?this.use(t):this.use(new m.default),this._cache={}}get rng(){return this._rng}clone(...t){return t.length?new E(i.default(...t)):new E(this.rng.clone())}use(...t){this._rng=i.default(...t)}patch(){if(this._patch)throw new Error("Math.random already patched");this._patch=Math.random,Math.random=this.uniform()}unpatch(){this._patch&&(Math.random=this._patch,delete this._patch)}_memoize(t,e,...r){const o=`${r.join(";")}`;let n=this._cache[t];return void 0!==n&&n.key===o||(n={key:o,distribution:e(this,...r)},this._cache[t]=n),n.distribution}}r.Random=E,r.default=new E},{"./distributions/bates":35,"./distributions/bernoulli":36,"./distributions/binomial":37,"./distributions/exponential":38,"./distributions/geometric":39,"./distributions/irwin-hall":40,"./distributions/log-normal":41,"./distributions/normal":42,"./distributions/pareto":43,"./distributions/poisson":44,"./distributions/uniform":47,"./distributions/uniform-boolean":45,"./distributions/uniform-int":46,"./generators/math-random":49,"./rng":53,"./rng-factory":52}],52:[function(t,e,r){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const n=o(t("seedrandom")),i=o(t("./rng")),s=o(t("./generators/function"));r.default=(...t)=>{const[e="default",...r]=t;switch(typeof e){case"object":if(e instanceof i.default)return e;break;case"function":return new s.default(e);case"number":case"string":return new s.default(n.default(...r))}throw new Error(`invalid RNG "${e}"`)}},{"./generators/function":48,"./rng":53,seedrandom:55}],53:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{_seed(t,e){if(t===(t||0))return t;{const e=""+t;let r=0;for(let t=0;t<e.length;++t)r^=0|e.charCodeAt(t);return r}}}},{}],54:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NumberValidator=r.numberValidator=void 0,r.numberValidator=function(t){return new o(t)};class o{constructor(t){this.isInt=()=>{if(Number.isInteger(this.n))return this;throw new Error(`Expected number to be an integer, got ${this.n}`)},this.isPositive=()=>{if(this.n>0)return this;throw new Error(`Expected number to be positive, got ${this.n}`)},this.lessThan=t=>{if(this.n<t)return this;throw new Error(`Expected number to be less than ${t}, got ${this.n}`)},this.greaterThanOrEqual=t=>{if(this.n>=t)return this;throw new Error(`Expected number to be greater than or equal to ${t}, got ${this.n}`)},this.greaterThan=t=>{if(this.n>t)return this;throw new Error(`Expected number to be greater than ${t}, got ${this.n}`)},this.n=t}}r.NumberValidator=o},{}],55:[function(t,e){var r=t("./lib/alea"),o=t("./lib/xor128"),n=t("./lib/xorwow"),i=t("./lib/xorshift7"),s=t("./lib/xor4096"),a=t("./lib/tychei"),c=t("./seedrandom");c.alea=r,c.xor128=o,c.xorwow=n,c.xorshift7=i,c.xor4096=s,c.tychei=a,e.exports=c},{"./lib/alea":56,"./lib/tychei":57,"./lib/xor128":58,"./lib/xor4096":59,"./lib/xorshift7":60,"./lib/xorwow":61,"./seedrandom":62}],56:[function(t,e){(function(t,e,r){function o(t){var e,r=this,o=(e=4022871197,function(t){t=String(t);for(var r=0;r<t.length;r++){var o=.02519603282416938*(e+=t.charCodeAt(r));o-=e=o>>>0,e=(o*=e)>>>0,e+=4294967296*(o-=e)}return 2.3283064365386963e-10*(e>>>0)});r.next=function(){var t=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=t-(r.c=0|t)},r.c=1,r.s0=o(" "),r.s1=o(" "),r.s2=o(" "),r.s0-=o(t),r.s0<0&&(r.s0+=1),r.s1-=o(t),r.s1<0&&(r.s1+=1),r.s2-=o(t),r.s2<0&&(r.s2+=1),o=null}function n(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function i(t,e){var r=new o(t),i=e&&e.state,s=r.next;return s.int32=function(){return 4294967296*r.next()|0},s.double=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.quick=s,i&&("object"==typeof i&&n(i,r),s.state=function(){return n(r,{})}),s}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.alea=i})(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],57:[function(t,e){(function(t,e,r){function o(t){var e=this,r="";e.next=function(){var t=e.b,r=e.c,o=e.d,n=e.a;return t=t<<25^t>>>7^r,r=r-o|0,o=o<<24^o>>>8^n,n=n-t|0,e.b=t=t<<20^t>>>12^r,e.c=r=r-o|0,e.d=o<<16^r>>>16^n,e.a=n-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):r+=t;for(var o=0;o<r.length+20;o++)e.b^=0|r.charCodeAt(o),e.next()}function n(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function i(t,e){var r=new o(t),i=e&&e.state,s=function(){return(r.next()>>>0)/4294967296};return s.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=r.next,s.quick=s,i&&("object"==typeof i&&n(i,r),s.state=function(){return n(r,{})}),s}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.tychei=i})(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],58:[function(t,e){(function(t,e,r){function o(t){var e=this,r="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:r+=t;for(var o=0;o<r.length+64;o++)e.x^=0|r.charCodeAt(o),e.next()}function n(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function i(t,e){var r=new o(t),i=e&&e.state,s=function(){return(r.next()>>>0)/4294967296};return s.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=r.next,s.quick=s,i&&("object"==typeof i&&n(i,r),s.state=function(){return n(r,{})}),s}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.xor128=i})(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],59:[function(t,e){(function(t,e,r){function o(t){var e=this;e.next=function(){var t,r,o=e.w,n=e.X,i=e.i;return e.w=o=o+1640531527|0,r=n[i+34&127],t=n[i=i+1&127],r^=r<<13,t^=t<<17,r^=r>>>15,t^=t>>>12,r=n[i]=r^t,e.i=i,r+(o^o>>>16)|0},function(t,e){var r,o,n,i,s,a=[],c=128;for(e===(0|e)?(o=e,e=null):(e+="\0",o=0,c=Math.max(c,e.length)),n=0,i=-32;i<c;++i)e&&(o^=e.charCodeAt((i+32)%e.length)),0===i&&(s=o),o^=o<<10,o^=o>>>15,o^=o<<4,o^=o>>>13,i>=0&&(s=s+1640531527|0,n=0==(r=a[127&i]^=o+s)?n+1:0);for(n>=128&&(a[127&(e&&e.length||0)]=-1),n=127,i=512;i>0;--i)o=a[n+34&127],r=a[n=n+1&127],o^=o<<13,r^=r<<17,o^=o>>>15,r^=r>>>12,a[n]=o^r;t.w=s,t.X=a,t.i=n}(e,t)}function n(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function i(t,e){null==t&&(t=+new Date);var r=new o(t),i=e&&e.state,s=function(){return(r.next()>>>0)/4294967296};return s.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=r.next,s.quick=s,i&&(i.X&&n(i,r),s.state=function(){return n(r,{})}),s}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.xor4096=i})(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],60:[function(t,e){(function(t,e,r){function o(t){var e=this;e.next=function(){var t,r,o=e.x,n=e.i;return t=o[n],r=(t^=t>>>7)^t<<24,r^=(t=o[n+1&7])^t>>>10,r^=(t=o[n+3&7])^t>>>3,r^=(t=o[n+4&7])^t<<7,t=o[n+7&7],r^=(t^=t<<13)^t<<9,o[n]=r,e.i=n+1&7,r},function(t,e){var r,o=[];if(e===(0|e))o[0]=e;else for(e=""+e,r=0;r<e.length;++r)o[7&r]=o[7&r]<<15^e.charCodeAt(r)+o[r+1&7]<<13;for(;o.length<8;)o.push(0);for(r=0;r<8&&0===o[r];++r);for(8==r?o[7]=-1:o[r],t.x=o,t.i=0,r=256;r>0;--r)t.next()}(e,t)}function n(t,e){return e.x=t.x.slice(),e.i=t.i,e}function i(t,e){null==t&&(t=+new Date);var r=new o(t),i=e&&e.state,s=function(){return(r.next()>>>0)/4294967296};return s.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=r.next,s.quick=s,i&&(i.x&&n(i,r),s.state=function(){return n(r,{})}),s}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.xorshift7=i})(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],61:[function(t,e){(function(t,e,r){function o(t){var e=this,r="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:r+=t;for(var o=0;o<r.length+64;o++)e.x^=0|r.charCodeAt(o),o==r.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function n(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function i(t,e){var r=new o(t),i=e&&e.state,s=function(){return(r.next()>>>0)/4294967296};return s.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=r.next,s.quick=s,i&&("object"==typeof i&&n(i,r),s.state=function(){return n(r,{})}),s}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.xorwow=i})(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],62:[function(t,e){(function(r,o,n){var i,s=256,a=6,c="random",u=n.pow(s,a),p=n.pow(2,52),l=2*p,f=s-1;function d(t,e,r){var i=[],f=v(y((e=1==e?{entropy:!0}:e||{}).entropy?[t,m(o)]:null==t?g():t,3),i),d=new h(i),E=function(){for(var t=d.g(a),e=u,r=0;t<p;)t=(t+r)*s,e*=s,r=d.g(1);for(;t>=l;)t/=2,e/=2,r>>>=1;return(t+r)/e};return E.int32=function(){return 0|d.g(4)},E.quick=function(){return d.g(4)/4294967296},E.double=E,v(m(d.S),o),(e.pass||r||function(t,e,r,o){return o&&(o.S&&_(o,d),t.state=function(){return _(d,{})}),r?(n[c]=t,e):t})(E,f,"global"in e?e.global:this==n,e.state)}function h(t){var e,r=t.length,o=this,n=0,i=o.i=o.j=0,a=o.S=[];for(r||(t=[r++]);n<s;)a[n]=n++;for(n=0;n<s;n++)a[n]=a[i=f&i+t[n%r]+(e=a[n])],a[i]=e;(o.g=function(t){for(var e,r=0,n=o.i,i=o.j,a=o.S;t--;)e=a[n=f&n+1],r=r*s+a[f&(a[n]=a[i=f&i+e])+(a[i]=e)];return o.i=n,o.j=i,r})(s)}function _(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function y(t,e){var r,o=[],n=typeof t;if(e&&"object"==n)for(r in t)try{o.push(y(t[r],e-1))}catch(i){}return o.length?o:"string"==n?t:t+"\0"}function v(t,e){for(var r,o=t+"",n=0;n<o.length;)e[f&n]=f&(r^=19*e[f&n])+o.charCodeAt(n++);return m(e)}function g(){try{var t;return i&&(t=i.randomBytes)?t=t(s):(t=new Uint8Array(s),(r.crypto||r.msCrypto).getRandomValues(t)),m(t)}catch(a){var e=r.navigator,n=e&&e.plugins;return[+new Date,r,n,r.screen,m(o)]}}function m(t){return String.fromCharCode.apply(0,t)}if(v(n.random(),o),"object"==typeof e&&e.exports){e.exports=d;try{i=t("crypto")}catch(E){}}else"function"==typeof define&&define.amd?define(function(){return d}):n["seed"+c]=d})("undefined"!=typeof self?self:this,[],Math)},{crypto:1}],GachaShipListItem:[function(t,e,r){"use strict";cc._RF.push(e,"fa4b4YQA49NToQfa+oNPsZa","GachaShipListItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.GachaShipListItem=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./RandomItem").RandomItem);r.GachaShipListItem=i,cc._RF.pop()},{"./RandomItem":"RandomItem"}],GameDataInvalidDataTypeError:[function(t,e,r){"use strict";cc._RF.push(e,"cedcaZmrxNOo5nOooW6TwIM","GameDataInvalidDataTypeError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.GameDataInvalidDataTypeError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.GAMED_DATA_INVALID_DATA_TYPE,"GAMED_DATA_INVALID_DATA_TYPE")||this}return n(e,t),e}(s.default);r.GameDataInvalidDataTypeError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],GameDataItemTypes:[function(t,e,r){"use strict";cc._RF.push(e,"3c54d4YAD1P46DjRHc8vT9V","GameDataItemTypes"),Object.defineProperty(r,"__esModule",{value:!0}),r.GameDataItemTypes=void 0,r.GameDataItemTypes={AVATAR:"avatars",CONFIG:"configs",RESOURCE_TYPE:"resourceTypes",SHIP:"ships",SHIP_TYPE:"shipTypesData",ISLAND:"islands",EQUIPMENT_TYPE:"equipmentTypes",EQUIPMENT:"equipments",SHOP:"shops",ITEM:"items",MONSTER:"monsters",PORT:"ports"},cc._RF.pop()},{}],GameData:[function(t,e,r){"use strict";cc._RF.push(e,"dcce2N/A2dGlblxkOqNaYiz","GameData"),Object.defineProperty(r,"__esModule",{value:!0}),r.GameData=void 0;r.GameData=function(){},cc._RF.pop()},{}],GameManager:[function(t,e,r){"use strict";cc._RF.push(e,"f41b1yQkzlG9a8xMg92vtC3","GameManager");var o=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.Data=void 0;var n=t("./../../pirate-king-nft-core/pk/dataLoader/DataLoader"),i=cc._decorator,s=i.ccclass,a=(i.property,t("seedrandom"));r.Data=function(){};var c=function(){function t(){this.data=null,this.client=null,this.user=null,this.pvp=null,this.leaderboard=[],this.pvpData=null,this.island=null,this.atlas=null,this.notify=null,this.resultSpinItem=null,this.isDelay=!1,this.spinShop=null,this.mapIds=null,this.gameAssets=null,this.gameAssets=new Map,this.mapIds=new Map,this.mapIds.set(31,"sail5"),this.mapIds.set(89,"sail6"),this.mapIds.set(90,"sail4"),this.mapIds.set(91,"sail3"),this.mapIds.set(92,"sail2"),this.mapIds.set(97,"head2"),this.mapIds.set(100,"head3"),this.mapIds.set(99,"head4"),this.mapIds.set(33,"head5"),this.mapIds.set(98,"head6")}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rnd",{get:function(){return null!=this._rnd&&null!=this._rnd||(this._rnd=a(this.data.code)),this._rnd},set:function(t){this._rnd=t},enumerable:!1,configurable:!0}),t.prototype.getEquipType=function(t){var e=n.dataLoader.getEquipmentData(t);return null!=e?e.equipmentTypeDataId:0},t.prototype.getSpriteById=function(t){return this.atlas.itemId.getSpriteFrame("i-"+t)},t.prototype.getVisualById=function(t){return this.atlas.visual.getSpriteFrame("visual-"+t)},t.prototype.cdTimer=function(t,e,r){var o=this,n=t;n.countDownTimerVar&&clearInterval(n.countDownTimerVar);var i=function(){if(n.parent){var t=(new Date).getTime(),i=e-t,s=o.secondsToTimeCountdown(Math.floor(i/1e3));n.getComponent(cc.Label).string=s,i<=0&&(clearInterval(n.countDownTimerVar),n.countDownTimerVar=0,r&&r())}else clearInterval(n.countDownTimerVar)};n.countDownTimerVar=setInterval(i,500),i()},t.prototype.secondsToTimeCountdown=function(t){if(t<=0)return"00:00";var e=Math.floor(t/3600),r=Math.floor(t%3600/60),o=t%60,n=e+":";return(n+=r<10?"0"+r+":":r+":")+(o<10?"0"+o:o)},t.prototype.getPrefabAssetById=function(t){var e=this.gameAssets.get(t);return cc.assetManager.assets.get(e)},t._instance=null,e=o([s],t)}();r.default=c,cc._RF.pop()},{"./../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader",seedrandom:55}],GameScene:[function(t,e,r){"use strict";cc._RF.push(e,"a1733KhUlpAK44bS0tnfh4j","GameScene");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(t,e,r,o){void 0===o&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var p=t("./../../../pirate-king-nft-core/pk/entity/PKConstants"),l=t("./../../Common/Config"),f=c(t("./../../Common/Constants")),d=u(t("../../Common/AnimPopup")),h=t("../../Common/Toast"),_=u(t("../../Manager/GameManager")),y=u(t("./Bullet")),v=u(t("./ShipCell")),g=u(t("./Target")),m=t("./../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),E=t("../../Common/CustomEventListener"),P=cc._decorator,O=P.ccclass,R=P.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rewardLb=null,e.spinLb=null,e.iconBullet=null,e.priceReload=null,e.timeCd=null,e.reloadBtn=null,e.prefab=null,e.parent=null,e.canon=null,e.finish=null,e.pageView=null,e.prefabView=null,e.overlay=null,e.velocityAngel=20,e.targets=[],e.spawnPos=cc.v2(0,-308),e.target=null,e.spin=5,e.listShip=[],e.listShipData=[],e.curPage=0,e.user=null,e.curCannon=null,e.cdFunc=null,e}return n(e,t),e.prototype.onEnable=function(){this.loadUI(),E.CustomEventListener.on(f.default.EventName.RELOAD_SHIP,this.reloadShip,this)},e.prototype.onDisable=function(){E.CustomEventListener.off(f.default.EventName.RELOAD_SHIP,this.reloadShip,this)},e.prototype.onLoad=function(){var t=this;this.user=_.default.instance.user,this.targets=this.parent.getComponentsInChildren(g.default),this.canon.setEventListener(function(){t.shot(t.target)})},e.prototype.reloadShip=function(){h.Toast.instance.showText("Buy bullets for ships successfully");for(var t=0;t<this.listShip.length;t++)this.listShip[t].setData(this.listShipData[t],t);this.checkReloadShip()},e.prototype.checkReloadShip=function(){for(var t=m.dataLoader.getShipConfig(),e=0,r=0;r<this.listShipData.length;r++)(Date.now()-this.listShipData[r].bullet.lastRecoveryTime)/1e3>t.reloadCountdown&&e++;this.reloadBtn.interactable=e>0,this.priceReload.string=(t.reloadGoldRequirePerShip*e).toString()},e.prototype.loadUI=function(){var t=this;this.listShip=[],this.pageView.removeAllPages(),this.targets.map(function(t){return t.skeleton.setAnimation(0,"idle",!0)}),this.overlay.active=!1,this.listShipData=this.user.ships.filter(function(t){return t.durability>0}),this.checkReloadShip();for(var e=0;e<this.listShipData.length;e++){var r=this.listShipData[e],o=cc.instantiate(t.prefabView.data),n=o.getComponent(v.default);n.setData(r,e),n.callback=function(e){t.curPage=e,t.loadCanon()},t.listShip.push(n),t.pageView.addPage(o)}this.pageView.getPages().length>0&&(this.curPage>0?this.pageView.scrollToPage(this.curPage,1):this.onPageEvent(this.pageView,cc.PageView.EventType.PAGE_TURNING))},e.prototype.onPageEvent=function(t,e){e===cc.PageView.EventType.PAGE_TURNING&&(this.curPage=t.getCurrentPageIndex(),this.loadCanon())},e.prototype.loadCanon=function(){if(null!=this.listShipData[this.curPage]&&null!=this.listShipData[this.curPage]){var t=m.dataLoader.getShipConfig();this.spinLb.string=this.listShipData[this.curPage].bullet.quantity.toString(),null!=this.listShipData[this.curPage].bullet.lastRecoveryTime&&null!=this.listShipData[this.curPage].bullet.lastRecoveryTime||(this.listShipData[this.curPage].bullet.lastRecoveryTime=0);var e=(Date.now()-this.listShipData[this.curPage].bullet.lastRecoveryTime)/1e3;if(this.timeCd.node.active=e<t.reloadCountdown,e<t.reloadCountdown&&this.countTime(t.reloadCountdown-e),null!=this.listShip&&this.listShip.length>0)for(var r=0;r<this.listShip.length;r++){var o=this.listShip[r];o.selected.active=o.data.uid==this.listShipData[this.curPage].uid}var n=this.listShipData[this.curPage].equipments.find(function(t){return _.default.instance.getEquipType(t.dataId)==f.EquipType.Cannon}),i=null!=n?n.dataId:p.PKConstants.Default.DefaultCannonDataId;this.curCannon=l.Config.cannon.find(function(t){return t.dataId==i}),this.canon.setSkin(this.curCannon.model),this.iconBullet.spriteFrame=_.default.instance.getSpriteById(this.curCannon.bullet)}},e.prototype.onNext=function(){this.curPage=this.pageView.getCurrentPageIndex(),this.curPage++,this.curPage==this.listShipData.length-1?this.loadCanon():this.pageView.scrollToPage(this.curPage,1)},e.prototype.onPrevious=function(){this.curPage--,this.curPage<0&&(this.curPage=0),this.curPage==this.listShipData.length-2?this.loadCanon():this.pageView.scrollToPage(this.curPage,1)},e.prototype.onReloadBullet=function(){_.default.instance.client.reloadShip()},e.prototype.onTarget=function(t){var e=this;if(0!=this.listShipData[this.curPage].bullet.quantity){_.default.instance.client.pveStart(this.listShipData[this.curPage].uid,function(t){e.battleData=t}),this.overlay.active=!0;var r=t.currentTarget.getComponent(g.default);this.target=r;var o=r.node.getPosition(),n=this.getAngle(this.canon.node.getPosition(),cc.v2(o.x,o.y+500))-90,i=Math.abs(n-this.canon.node.angle);cc.tween(this.canon.node).to(i/this.velocityAngel,{angle:n}).call(function(){e.canon.setAnimation(0,"attack",!1)}).start()}else h.Toast.instance.showText("No spin!")},e.prototype.shot=function(t){var e=this,r=cc.instantiate(this.prefab.data);r.setParent(this.parent),r.setPosition(this.canon.node.getPosition()),r.getComponent(y.default).create(t,e.curCannon.bullet,function(){e.scheduleOnce(function(){_.default.instance.client.pveFinish(e.battleData.data.uid,function(t){e.rewardLb.string="x"+t.data.goldReward,e.finish.showPopup(),e.overlay.active=!1})},1)})},e.prototype.getDistance=function(t,e){var r=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(r.x*r.x+r.y*r.y)},e.prototype.getAngle=function(t,e){var r=e.x-t.x,o=e.y-t.y;return-cc.v2(r,o).signAngle(cc.v2(1,0))/Math.PI*180},e.prototype.onClose=function(){null!=this.cdFunc&&clearInterval(this.cdFunc),this.targets.map(function(t){return t.skeleton.setAnimation(0,"idle",!0)}),this.loadCanon(),this.finish.hidePopup()},e.prototype.countTime=function(t){var e=this,r=t;null!=this.cdFunc&&clearInterval(this.cdFunc),this.timeCd.node.active=!0,this.cdFunc=setInterval(function(){var t=Math.floor(r%86400/3600),o=Math.floor(r%3600/60),n="";n+=t>9?t:"0"+t,n+=":",n+=o>9?o:"0"+o,e.timeCd.string=n,r<0&&(e.timeCd.node.active=!1,clearInterval(e.cdFunc),e.loadCanon())},1e3)},a([R(cc.Label)],e.prototype,"rewardLb",void 0),a([R(cc.Label)],e.prototype,"spinLb",void 0),a([R(cc.Sprite)],e.prototype,"iconBullet",void 0),a([R(cc.Label)],e.prototype,"priceReload",void 0),a([R(cc.Label)],e.prototype,"timeCd",void 0),a([R(cc.Button)],e.prototype,"reloadBtn",void 0),a([R(cc.Prefab)],e.prototype,"prefab",void 0),a([R(cc.Node)],e.prototype,"parent",void 0),a([R(sp.Skeleton)],e.prototype,"canon",void 0),a([R(d.default)],e.prototype,"finish",void 0),a([R(cc.PageView)],e.prototype,"pageView",void 0),a([R(cc.Prefab)],e.prototype,"prefabView",void 0),a([R(cc.Node)],e.prototype,"overlay",void 0),a([O],e)}(cc.Component);r.default=b,cc._RF.pop()},{"../../Common/AnimPopup":"AnimPopup","../../Common/CustomEventListener":"CustomEventListener","../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager","./../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","./../../../pirate-king-nft-core/pk/entity/PKConstants":"PKConstants","./../../Common/Config":"Config","./../../Common/Constants":"Constants","./Bullet":"Bullet","./ShipCell":"ShipCell","./Target":"Target"}],HexAddressValidate:[function(t,e,r){"use strict";cc._RF.push(e,"dc491HdYC9ORJdzUzWkJNvD","HexAddressValidate"),Object.defineProperty(r,"__esModule",{value:!0}),r.md5Validate=r.transactionUidValidate=r.walletUidValidate=r.WALLET_UID_REGEX=void 0,r.WALLET_UID_REGEX=/^0x([A-Fa-f0-9]{40})$/;var o=/^0x([A-Fa-f0-9]{64})$/,n=/^([A-Fa-f0-9]{32})$/;r.walletUidValidate=function(t){return t.match(r.WALLET_UID_REGEX)},r.transactionUidValidate=function(t){return t.match(o)},r.md5Validate=function(t){return t.match(n)},cc._RF.pop()},{}],HomeScene:[function(t,e,r){"use strict";cc._RF.push(e,"4ce5aGR1pZDYpc2IEvIQXx2","HomeScene");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Common/AnimPopup")),c=s(t("../../Common/Constants")),u=t("../../Common/CustomEventListener"),p=t("../../Common/Toast"),l=s(t("../../Manager/GameManager")),f=cc._decorator,d=f.ccclass,h=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameScene=null,e.botPanel=null,e.myMessages=null,e.userName=null,e.goldLb=null,e.tokenLb=null,e.avatar=null,e.changeInfoNode=null,e}return n(e,t),e.prototype.onLoad=function(){this.loadUI()},e.prototype.onEnable=function(){u.CustomEventListener.on(c.default.EventName.UPDATE_RESOURCE,this.updateResource,this),u.CustomEventListener.on(c.default.EventName.UPDATE_USERINFO,this.updateUserInfo,this)},e.prototype.onDisable=function(){u.CustomEventListener.off(c.default.EventName.UPDATE_RESOURCE,this.updateResource,this),u.CustomEventListener.on(c.default.EventName.UPDATE_USERINFO,this.updateUserInfo,this)},e.prototype.updateResource=function(){var t=l.default.instance.user;this.goldLb.string=t.gold.quantity.toString(),null!=t.resources[c.default.GOLD_ID]&&null!=t.resources[c.default.GOLD_ID]&&(this.tokenLb.string=t.resources[c.default.GOLD_ID].quantity.toString())},e.prototype.updateUserInfo=function(){var t=l.default.instance.user;this.userName.string=t.username;var e=this,r="Avatar/"+t.avatarId;cc.loader.loadRes(r,cc.SpriteFrame,function(t,r){e.avatar.spriteFrame=r}),this.changeInfoNode.active=!1},e.prototype.loadUI=function(){var t=this,e=l.default.instance.user;null==e.username||null==e.username||""==e.username?this.changeInfoNode.active=!0:(this.changeInfoNode.active=!1,this.updateUserInfo()),l.default.instance.avataID=e.avatarId,this.updateResource(),l.default.instance.client.getMyMessager(function(e){console.log("\ud83d\ude80 ~ file: MyMessager.ts ~ line 19 ~ MyMessager ~ GameManager.instance.client.getMyMessager ~ data",e.data.messages),l.default.instance.myMessages=e.data.messages,l.default.instance.myMessages.length>0&&t.myMessages.showPopup()})},e.prototype.onPVE=function(){console.log("======> onPVE"),l.default.instance.user.ships.length>0?(this.botPanel.hideBottom(),this.gameScene.showFadePopup()):p.Toast.instance.showText("No Ship!")},e.prototype.onBattleShip=function(){console.log("======> onBattleShip")},e.prototype.onMake=function(){console.log("======> onMake")},e.prototype.onItems=function(){console.log("======> onItems")},e.prototype.onShop=function(){console.log("======> onShop")},e.prototype.onWallet=function(){console.log("======> onWallet")},e.prototype.onWarBoss=function(){console.log("======> onWarBoss")},e.prototype.onIsLand=function(){console.log("======> onIsLand")},i([h(a.default)],e.prototype,"gameScene",void 0),i([h(a.default)],e.prototype,"botPanel",void 0),i([h(a.default)],e.prototype,"myMessages",void 0),i([h(cc.Label)],e.prototype,"userName",void 0),i([h(cc.Label)],e.prototype,"goldLb",void 0),i([h(cc.Label)],e.prototype,"tokenLb",void 0),i([h(cc.Sprite)],e.prototype,"avatar",void 0),i([h(cc.Node)],e.prototype,"changeInfoNode",void 0),i([d],e)}(cc.Component);r.default=_,cc._RF.pop()},{"../../Common/AnimPopup":"AnimPopup","../../Common/Constants":"Constants","../../Common/CustomEventListener":"CustomEventListener","../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager"}],InvalidActionError:[function(t,e,r){"use strict";cc._RF.push(e,"6845fnIE39E+YAH9L/3dE33","InvalidActionError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidActionError=void 0;var s=i(t("./BaseError")),a=t("./ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.INVALID_ACTION,"Invalid action")||this}return n(e,t),e}(s.default);r.InvalidActionError=c,cc._RF.pop()},{"./BaseError":"BaseError","./ErrorCode":"ErrorCode"}],InvalidNumberValueError:[function(t,e,r){"use strict";cc._RF.push(e,"bff26skt1lFyYHnMQBZssP6","InvalidNumberValueError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidNumberValueError=void 0;var s=t("./ErrorCode"),a=function(t){function e(){return t.call(this,s.ErrorCode.INVALID_NUMBER_VALUE,"INVALID_NUMBER_VALUE")||this}return n(e,t),e}(i(t("./BaseError")).default);r.InvalidNumberValueError=a,cc._RF.pop()},{"./BaseError":"BaseError","./ErrorCode":"ErrorCode"}],InvalidSignatureError:[function(t,e,r){"use strict";cc._RF.push(e,"d3798/+Z/BIwZVuL3j/KO/f","InvalidSignatureError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidSignatureError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.INVALID_SIGNATURE_HASH,"Invalid signature")||this}return n(e,t),e}(s.default);r.InvalidSignatureError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],InvalidTokenError:[function(t,e,r){"use strict";cc._RF.push(e,"98446RJ4TFAS5tWBKRM/JXR","InvalidTokenError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidTokenError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.INVALID_TOKEN,"Invalid token")||this}return n(e,t),e}(s.default);r.InvalidTokenError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],InvalidTransactionUidError:[function(t,e,r){"use strict";cc._RF.push(e,"41c5aUjNQ1OEIKpIQ6kJ7ne","InvalidTransactionUidError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidTransactionUidError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.INVALID_TRANSACTION_HASH)||this}return n(e,t),e}(s.default);r.InvalidTransactionUidError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],InvalidWalletUidError:[function(t,e,r){"use strict";cc._RF.push(e,"29800uf2SREs6R44LrC44Px","InvalidWalletUidError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidWalletUidError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.INVALID_WALLET_UID,"Invalid wallet id")||this}return n(e,t),e}(s.default);r.InvalidWalletUidError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Island.state":[function(t,e,r){"use strict";cc._RF.push(e,"7e4a03tCpRMdae2qWh0j3BF","Island.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.IslandState=r.IslandPathsState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),i([s.type("number")],e.prototype,"castleLevel",void 0),i([s.type("number")],e.prototype,"petLevel",void 0),i([s.type("number")],e.prototype,"treeLevel",void 0),i([s.type("number")],e.prototype,"shipLevel",void 0),e}(s.Schema);r.IslandPathsState=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),i([s.type("number")],e.prototype,"level",void 0),i([s.type(a)],e.prototype,"paths",void 0),e}(s.Schema);r.IslandState=c,cc._RF.pop()},{"@colyseus/schema":3}],IslandData:[function(t,e,r){"use strict";cc._RF.push(e,"5b865lCBntOQLES38o1ZLWL","IslandData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.IslandData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.IslandData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],IslandItem:[function(t,e,r){"use strict";cc._RF.push(e,"0888bNMVAxPp42GBq0uSmh0","IslandItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.point=null,e.model=null,e.icon=null,e.price=null,e.box=null,e.btn=null,e.sBox=[],e.sBtn=[],e._isShow=!1,e}return n(e,t),e.prototype.setData=function(t,e,r,o){if(this._isShow=r,this.type=o,this.price.string=e.toString(),this.icon.spriteFrame=a.default.instance.getSpriteById(t),r){this.box.spriteFrame=this.sBox[1],this.btn.spriteFrame=this.sBtn[1],this.price.string="",this.model.node.active=!0,this.model.node.destroyAllChildren();var n=a.default.instance.getPrefabAssetById(t),i=cc.instantiate(n.data);this.model.node.addChild(i),this.point.node.active=!1}else this.box.spriteFrame=this.sBox[0],this.btn.spriteFrame=this.sBtn[0],this.point.node.active=!0,this.model.node.active=!1},e.prototype.onBuy=function(){var t=this;this._isShow||(a.default.instance.island.animUp.node.active=!1,a.default.instance.island.animUp.node.position=this.model.node.position,a.default.instance.island.animUp.node.active=!0,a.default.instance.island.animUp.setAnimation(0,"idle",!0),this.scheduleOnce(function(){a.default.instance.client.updateIslandPath(t.type),a.default.instance.island.animUp.node.active=!1},2))},i([p(cc.Sprite)],e.prototype,"point",void 0),i([p(cc.Sprite)],e.prototype,"model",void 0),i([p(cc.Sprite)],e.prototype,"icon",void 0),i([p(cc.Label)],e.prototype,"price",void 0),i([p(cc.Sprite)],e.prototype,"box",void 0),i([p(cc.Sprite)],e.prototype,"btn",void 0),i([p(cc.SpriteFrame)],e.prototype,"sBox",void 0),i([p(cc.SpriteFrame)],e.prototype,"sBtn",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../../Manager/GameManager":"GameManager"}],IslandLevelConfigData:[function(t,e,r){"use strict";cc._RF.push(e,"56e0chN9OJLx4ABBbupOAnq","IslandLevelConfigData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.IslandLevelConfigData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.IslandLevelConfigData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],IslandPathData:[function(t,e,r){"use strict";cc._RF.push(e,"5d482LA7C5MbLpjUYzdlILr","IslandPathData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.IslandPathKey=r.IslandPathData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.IslandPathData=i,r.IslandPathKey=["castle","pet","ship","tree"],cc._RF.pop()},{"./BaseData":"BaseData"}],IslandUI:[function(t,e,r){"use strict";cc._RF.push(e,"279fehysnRL9pd3h2fFOSal","IslandUI");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),c=s(t("../../Common/AnimPopup")),u=t("../../Common/Config"),p=s(t("../../Common/Constants")),l=t("../../Common/CustomEventListener"),f=t("../../Common/Toast"),d=s(t("../../Manager/GameManager")),h=s(t("./IslandItem")),_=cc._decorator,y=_.ccclass,v=_.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.avatar=null,e.userName=null,e.levelIsland=null,e.levelUpPopup=null,e.ship=null,e.pet=null,e.castle=null,e.tree=null,e.curLvUp=null,e.curIsland=null,e.nextIsland=null,e.curLevel=null,e.nextLevel=null,e.priceLevelUp=null,e.btnLevelUp=null,e.wheelPopup=null,e.animUp=null,e.totalToken=null,e.ticketToken=null,e.rewardToken=null,e.timecd=null,e.btnJoin=null,e.btnReward=null,e}return n(e,t),e.prototype.onLoad=function(){d.default.instance.island=this},e.prototype.onEnable=function(){this.loadUI(),l.CustomEventListener.on(p.default.EventName.UPDATE_ISLAND,this.onUpdateIsland,this),l.CustomEventListener.on(p.default.EventName.UPDATE_ISLAND_PATH,this.loadUI,this)},e.prototype.onDisable=function(){l.CustomEventListener.off(p.default.EventName.UPDATE_ISLAND,this.onUpdateIsland,this),l.CustomEventListener.off(p.default.EventName.UPDATE_ISLAND_PATH,this.loadUI,this)},e.prototype.onUpdateIsland=function(){d.default.instance.notify.showText("CONGRATULATIONS,\nYOU HAVE PROMOTED\nTHE ISLAND TO LEVEL "+d.default.instance.user.island.level),this.loadUI()},e.prototype.loadUI=function(){var t=this,e=d.default.instance,r=e.user,o=e.pvp;console.log("\ud83d\ude80 ~ file: IslandUI.ts ~ line 100 ~ NewClass ~ loadUI ~ pvp",o);var n=a.dataLoader.getPvpConfig(),i=n.islandLevelTable[r.island.level];cc.resources.load("bg/island_bg_"+r.island.level,cc.SpriteFrame,function(e,r){t.bg.spriteFrame=r}),this.btnLevelUp.interactable=this.isLevelUp(),this.levelIsland.string="ISLAND LEVEL "+r.island.level,this.ship.setData(i.paths.ship.dataId,i.paths.ship.upgradePrice,r.island.paths.shipLevel==r.island.level,"ship",u.Config.posIsland[r.island.level-1].ship),this.pet.setData(i.paths.pet.dataId,i.paths.pet.upgradePrice,r.island.paths.petLevel==r.island.level,"pet",u.Config.posIsland[r.island.level-1].pet),this.castle.setData(i.paths.castle.dataId,i.paths.castle.upgradePrice,r.island.paths.castleLevel==r.island.level,"castle",u.Config.posIsland[r.island.level-1].castle),this.tree.setData(i.paths.tree.dataId,i.paths.tree.upgradePrice,r.island.paths.treeLevel==r.island.level,"tree",u.Config.posIsland[r.island.level-1].tree);var s=0;r.island.paths.shipLevel==r.island.level&&s++,r.island.paths.petLevel==r.island.level&&s++,r.island.paths.castleLevel==r.island.level&&s++,r.island.paths.treeLevel==r.island.level&&s++,this.curLvUp.string=s+"/4",this.curIsland.spriteFrame=d.default.instance.getVisualById(i.dataId),r.island.level<p.default.LEVEL_MAX_ISLAND?(this.curLevel.string="LEVEL "+r.island.level,this.nextLevel.string="LEVEL "+(r.island.level+1),this.nextIsland.spriteFrame=d.default.instance.getVisualById(n.islandLevelTable[r.island.level+1].dataId),this.priceLevelUp.string=n.islandLevelTable[r.island.level+1].upgradePrice):(this.curLevel.string="MAX",this.nextLevel.string="MAX",this.priceLevelUp.string="",this.nextIsland.spriteFrame=d.default.instance.getVisualById(i.dataId)),this.userName.string=r.username+" - Level "+r.island.level;var c="Avatar/"+r.avatarId;cc.loader.loadRes(c,cc.SpriteFrame,function(e,r){t.avatar.spriteFrame=r});var l=a.dataLoader.getPvpConfig();this.totalToken.string=Math.floor(o.prizePool).toString(),this.ticketToken.string=l.pvpSession.ticketPrice.quantity.toString();var f=o.members.find(function(t){return t===d.default.instance.data.wallet.toLowerCase()});this.btnJoin.interactable=null==f,this.btnReward.interactable=Date.now()>o.prizeDistributionTime,this.checkTimePVP()},e.prototype.checkTimePVP=function(){var t=d.default.instance.pvp,e=Date.now();e<t.fightingEndTime?d.default.instance.cdTimer(this.timecd.node,t.fightingEndTime,this.checkTimePVP):e<t.prizeDistributionTime?d.default.instance.cdTimer(this.timecd.node,t.prizeDistributionTime,this.checkTimePVP):e<t.endTime&&d.default.instance.cdTimer(this.timecd.node,t.endTime,null)},e.prototype.isLevelUp=function(){var t=d.default.instance.user,e=!0;return t.island.paths.shipLevel!=t.island.level&&(e=!1),t.island.paths.petLevel!=t.island.level&&(e=!1),t.island.paths.castleLevel!=t.island.level&&(e=!1),t.island.paths.treeLevel!=t.island.level&&(e=!1),5==t.island.level&&(e=!1),e},e.prototype.onWheel=function(){this.wheelPopup.showPopup(),console.log("onWheel")},e.prototype.onBoat=function(){console.log("onBoat"),f.Toast.instance.showText("Coming soon!")},e.prototype.onBattleResult=function(){console.log("onBattleResult"),f.Toast.instance.showText("Coming soon!")},e.prototype.onLevelUp=function(){this.levelUpPopup.hidePopup(),d.default.instance.client.updateIsland()},e.prototype.onJoinPVP=function(){var t=this;d.default.instance.client.joinSession(function(){t.btnJoin.interactable=!1,f.Toast.instance.showText("Congratulations on your successful joining!")})},e.prototype.claimSessionReward=function(){d.default.instance.client.claimSessionReward(function(){console.log("Claim success!")})},i([v(cc.Sprite)],e.prototype,"bg",void 0),i([v(cc.Sprite)],e.prototype,"avatar",void 0),i([v(cc.Label)],e.prototype,"userName",void 0),i([v(cc.Label)],e.prototype,"levelIsland",void 0),i([v(c.default)],e.prototype,"levelUpPopup",void 0),i([v(h.default)],e.prototype,"ship",void 0),i([v(h.default)],e.prototype,"pet",void 0),i([v(h.default)],e.prototype,"castle",void 0),i([v(h.default)],e.prototype,"tree",void 0),i([v(cc.Label)],e.prototype,"curLvUp",void 0),i([v(cc.Sprite)],e.prototype,"curIsland",void 0),i([v(cc.Sprite)],e.prototype,"nextIsland",void 0),i([v(cc.Label)],e.prototype,"curLevel",void 0),i([v(cc.Label)],e.prototype,"nextLevel",void 0),i([v(cc.Label)],e.prototype,"priceLevelUp",void 0),i([v(cc.Button)],e.prototype,"btnLevelUp",void 0),i([v(c.default)],e.prototype,"wheelPopup",void 0),i([v(sp.Skeleton)],e.prototype,"animUp",void 0),i([v(cc.Label)],e.prototype,"totalToken",void 0),i([v(cc.Label)],e.prototype,"ticketToken",void 0),i([v(cc.Label)],e.prototype,"rewardToken",void 0),i([v(cc.Label)],e.prototype,"timecd",void 0),i([v(cc.Button)],e.prototype,"btnJoin",void 0),i([v(cc.Button)],e.prototype,"btnReward",void 0),i([y],e)}(cc.Component);r.default=g,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../Common/AnimPopup":"AnimPopup","../../Common/Config":"Config","../../Common/Constants":"Constants","../../Common/CustomEventListener":"CustomEventListener","../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager","./IslandItem":"IslandItem"}],"Item.UnusableError":[function(t,e,r){"use strict";cc._RF.push(e,"ee645io8R1ODY4jpk8pernk","Item.UnusableError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ItemUnusableError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.ITEM_UNUSABLE,"ITEM_UNUSABLE")||this}return n(e,t),e}(s.default);r.ItemUnusableError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Item.state":[function(t,e,r){"use strict";cc._RF.push(e,"cdd77e74ONG25VFwHwahUEd","Item.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ItemState=void 0;var a=t("@colyseus/schema"),c=t("./Resource.state"),u=s(t("moment")),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createdAt=u.default().valueOf(),e.boughtAt=u.default().valueOf(),e}return n(e,t),i([a.type("number")],e.prototype,"uid",void 0),i([a.type("string")],e.prototype,"characterWalletUid",void 0),i([a.type("number")],e.prototype,"createdAt",void 0),i([a.type("number")],e.prototype,"boughtAt",void 0),i([a.type("number")],e.prototype,"itemTypeId",void 0),e}(c.ResourceState);r.ItemState=p,cc._RF.pop()},{"./Resource.state":"Resource.state","@colyseus/schema":3,moment:34}],ItemData:[function(t,e,r){"use strict";cc._RF.push(e,"dd49bjHqAxBVKWHibDkhiWa","ItemData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ItemData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.ItemData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],ItemViewAnim:[function(t,e,r){"use strict";cc._RF.push(e,"6f0856VQu9Ku4eL7LCW7HvR","ItemViewAnim");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.quantity=null,e.img=null,e}return n(e,t),e.prototype.setData=function(t,e){void 0===e&&(e=0),this.quantity.node.active=0!=e,this.quantity.string="+"+e,this.img.spriteFrame=a.default.instance.getSpriteById(t),this.getComponent(cc.Animation).play("ItemView")},e.prototype.onFinish=function(){this.node.parent.destroy()},i([p(cc.Label)],e.prototype,"quantity",void 0),i([p(cc.Sprite)],e.prototype,"img",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../Manager/GameManager":"GameManager"}],LeadboardItem:[function(t,e,r){"use strict";cc._RF.push(e,"a14275fhF1FpaSwMjDWwXzm","LeadboardItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rank=null,e.userName=null,e.point=null,e}return n(e,t),e.prototype.setData=function(t,e,r){this.rank.string=t.toString(),this.userName.string=e,this.point.string=r.toString()},i([c(cc.Label)],e.prototype,"rank",void 0),i([c(cc.Label)],e.prototype,"userName",void 0),i([c(cc.Label)],e.prototype,"point",void 0),i([a],e)}(cc.Component);r.default=u,cc._RF.pop()},{}],LeadboardPVP:[function(t,e,r){"use strict";cc._RF.push(e,"40318pzEt5GlJKeQuHteUbH","LeadboardPVP");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=s(t("./LeadboardItem")),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.parent=null,e}return n(e,t),e.prototype.onEnable=function(){this.loadUI()},e.prototype.onDisable=function(){},e.prototype.loadUI=function(){this.parent.destroyAllChildren();for(var t=0;t<a.default.instance.leaderboard.length;t++){var e=a.default.instance.leaderboard[t],r=cc.instantiate(this.prefab.data);this.parent.addChild(r),r.getComponent(c.default).setData(t+1,e.username,e.score)}},i([l(cc.Prefab)],e.prototype,"prefab",void 0),i([l(cc.Node)],e.prototype,"parent",void 0),i([p],e)}(cc.Component);r.default=f,cc._RF.pop()},{"../../Manager/GameManager":"GameManager","./LeadboardItem":"LeadboardItem"}],LoadingScene:[function(t,e,r){"use strict";cc._RF.push(e,"d09d5RW+HZIWYBOBHvnEA35","LoadingScene");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))(function(n,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var r,o,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var u=t("./../../Common/Toast"),p=c(t("../../Common/Constants")),l=t("../../Common/Utils"),f=c(t("../../Manager/GameManager")),d=cc._decorator,h=d.ccclass,_=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.waitLabel=null,e.loadingProgressBar=null,e.dieuKhoan=null,e._isFirstLoad=!0,e._isFetched=!1,e._isLoaded=!1,e.count=0,e.length=20,e}return n(e,t),e.prototype.onLoad=function(){return s(this,void 0,void 0,function(){var t,e;return a(this,function(r){switch(r.label){case 0:for(t=[],e=48;e<68;e++)t.push(this.loadAsset(e));return[4,Promise.all(t)];case 1:return r.sent(),this.onLoadScene(),[2]}})})},e.prototype.loadAsset=function(t){var e=this;return new Promise(function(r,o){cc.resources.load("island/"+t,function(n,i){if(n)o(n);else{var s=i._uuid;i.addRef(),f.default.instance.gameAssets.set(t,s),e.count++;var a=e.count/e.length;e.loadingProgressBar.progress=a,e.waitLabel.string="Loading Resource: "+Math.round(100*a)+"%",r(i)}})})},e.prototype.onLoadScene=function(){var t=this;cc.director.preloadScene(p.default.HOME_SCENE,function(e,r){t.loadingProgressBar.node.active=!0;var o=t.loadingProgressBar.progress,n=e/r;t.waitLabel.string="Loading Game: "+Math.round(100*n)+"%",o<n&&(t.loadingProgressBar.progress=n)},function(e){e?l.Utils.log("onload > preloadScene: "+JSON.stringify(e)):(t._isLoaded=!0,t.dieuKhoan.active=!0)})},e.prototype.ClickOK=function(){null==f.default.instance.user||null==f.default.instance.user?u.Toast.instance.showText("please login again!"):cc.director.loadScene(p.default.HOME_SCENE)},i([_(cc.Label)],e.prototype,"waitLabel",void 0),i([_(cc.ProgressBar)],e.prototype,"loadingProgressBar",void 0),i([_(cc.Node)],e.prototype,"dieuKhoan",void 0),i([h],e)}(cc.Component);r.default=y,cc._RF.pop()},{"../../Common/Constants":"Constants","../../Common/Utils":"Utils","../../Manager/GameManager":"GameManager","./../../Common/Toast":"Toast"}],LoginCodeExpiredError:[function(t,e,r){"use strict";cc._RF.push(e,"c275b5O9H5GjLJ/vpi6Od8/","LoginCodeExpiredError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.LoginCodeExpiredError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.LOGIN_CODE_EXPIRED,"Login code expired")||this}return n(e,t),e}(s.default);r.LoginCodeExpiredError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],MakeBoatUI:[function(t,e,r){"use strict";cc._RF.push(e,"74af7kwxe9KNakkpMecZPq7","MakeBoatUI");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),c=s(t("../../Common/Constants")),u=t("../../Common/CustomEventListener"),p=t("../../Common/Toast"),l=s(t("../../Manager/GameManager")),f=s(t("../../Manager/PoolManager")),d=s(t("./BoatCell")),h=cc._decorator,_=h.ccclass,y=h.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.goldLb=null,e.group=null,e.btnSpin=null,e.btnClose=null,e.prefab=null,e.avatar=null,e.time=.3,e.startPos=-150,e.offset=50,e.itemSize=300,e.totalShip=15,e.config=null,e.result=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this.getComponent(cc.Layout);null!=t&&(this.offset=t.spacingX),this.startPos=this.group.position.x},e.prototype.onEnable=function(){this.loadUI(),u.CustomEventListener.on(c.default.EventName.UPDATE_SPIN,this.updateSpin,this)},e.prototype.onDisable=function(){u.CustomEventListener.off(c.default.EventName.UPDATE_SPIN,this.updateSpin,this)},e.prototype.updateSpin=function(){this.btnSpin.interactable=!0,this.btnClose.interactable=!0},e.prototype.loadUI=function(){null==this.config&&(this.config=a.dataLoader.getShipConfig()),this.goldLb.string=this.config.gachaPrice.toString(),this.group.destroyAllChildren(),this.group.setPosition(this.startPos,0),this.totalShip=15+Math.floor(10*Math.random());var t=[];this.config.gachaShipList.map(function(e){return e.shipList.map(function(e){return t.push(e)})});for(var e=0,r=0;r<this.totalShip;r++){var o=cc.instantiate(this.prefab.data);o.setParent(this.group);var n=o.getComponent(d.default);0!=r?n.setData(t[e].dataId):n.setData(9),++e==t.length&&(e=0),r==this.totalShip-1&&(this.result=n)}},e.prototype.gacha=function(){var t=this;l.default.instance.user.gold.quantity<this.config.gachaPrice?p.Toast.instance.showText("Not Enough Gold!"):(this.btnSpin.interactable=!1,this.btnClose.interactable=!1,l.default.instance.client.gacha(function(e){var r=a.dataLoader.getShipData(e.data.newShips[0].dataId);if(console.log("\ud83d\ude80 ~ file: MakeBoatUI.ts ~ line 93 ~ MakeBoatUI ~ GameManager.instance.client.gacha ~ data.data.newShips[0].dataId",e.data.newShips[0].dataId),null==r)return t.btnSpin.interactable=!0,void(t.btnClose.interactable=!0);t.group.setPosition(t.startPos,0),t.result.setData(e.data.newShips[0].dataId);var o=t.itemSize*t.totalShip+t.offset*(t.totalShip-1)+t.startPos;cc.tween(t.group).to(t.totalShip*t.time,{position:cc.v3(-o,0,0)},{easing:"quadOut"}).call(function(){t.btnSpin.interactable=!0,t.btnClose.interactable=!0,t.avatar.destroyAllChildren(),t.avatar.parent.active=!0;var e=f.default.instance.get(r.dataId);t.avatar.addChild(e),e.setPosition(cc.Vec3.ZERO),p.Toast.instance.showText("Congratulations on get the "+r.name)}).start()}))},e.prototype.hideFinish=function(){this.avatar.parent.active=!1},i([y(cc.Label)],e.prototype,"goldLb",void 0),i([y(cc.Node)],e.prototype,"group",void 0),i([y(cc.Button)],e.prototype,"btnSpin",void 0),i([y(cc.Button)],e.prototype,"btnClose",void 0),i([y(cc.Prefab)],e.prototype,"prefab",void 0),i([y(cc.Node)],e.prototype,"avatar",void 0),i([_],e)}(cc.Component);r.default=v,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../Common/Constants":"Constants","../../Common/CustomEventListener":"CustomEventListener","../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager","../../Manager/PoolManager":"PoolManager","./BoatCell":"BoatCell"}],"Market.InvalidParams.Error":[function(t,e,r){"use strict";cc._RF.push(e,"c359eGfwkNKsqum2eV1gd6l","Market.InvalidParams.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_INVALID_PARAM)||this}return n(e,t),e}(s.default);r.MarketInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Market.Sell.NotEnoughMarketTicket.Error":[function(t,e,r){"use strict";cc._RF.push(e,"1d5d6YbWPhOnooE7AaRG9ho","Market.Sell.NotEnoughMarketTicket.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketSellNotEnoughMarketTicketError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_SELL_NOT_ENOUGH_MARKET_TICKET)||this}return n(e,t),e}(s.default);r.MarketSellNotEnoughMarketTicketError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Market.Sell.NotOwnShip.Error":[function(t,e,r){"use strict";cc._RF.push(e,"3d7517mJ7NHYIk4wh66b9BS","Market.Sell.NotOwnShip.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketSellNotOwnShipError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_SELL_NOT_OWN_SHIP)||this}return n(e,t),e}(s.default);r.MarketSellNotOwnShipError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Market.Sell.PortRequired.Error":[function(t,e,r){"use strict";cc._RF.push(e,"7ba9btS+E5KzKJaq163+KhV","Market.Sell.PortRequired.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketSellPortRequiredError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_SELL_PORT_REQUIRED)||this}return n(e,t),e}(s.default);r.MarketSellPortRequiredError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Market.Sell.ShipBroken.Error":[function(t,e,r){"use strict";cc._RF.push(e,"7bd1bZEtitM6Y2oNr5Mq/Cn","Market.Sell.ShipBroken.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketSellShipBrokenError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_SELL_SHIP_BROKEN)||this}return n(e,t),e}(s.default);r.MarketSellShipBrokenError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],MarketHistoryItemNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"191e8t2W71FoI7ObyiuBTxx","MarketHistoryItemNotFoundError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketHistoryItemNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_HISTORY_ITEM_NOT_FOUND)||this}return n(e,t),e}(s.default);r.MarketHistoryItemNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],MarketItemNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"a7e1eaEMQ5ICIW3W1ozxccN","MarketItemNotFoundError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketItemNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_ITEM_NOT_FOUND)||this}return n(e,t),e}(s.default);r.MarketItemNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],MessagerPVP:[function(t,e,r){"use strict";cc._RF.push(e,"c83b7TC8UFBd6u9zf0SE5gF","MessagerPVP");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Common/AnimPopup")),c=s(t("../../Common/Constants")),u=t("../../Common/CustomEventListener"),p=s(t("./MsgItem")),l=cc._decorator,f=l.ccclass,d=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=null,e.prefab=null,e.maxEmoji=25,e}return n(e,t),e.prototype.start=function(){var t=this;this.grid.destroyAllChildren();for(var e=1;e<this.maxEmoji;e++){var r=cc.instantiate(this.prefab.data);this.grid.addChild(r),r.getComponent(p.default).setData(e,function(e){u.CustomEventListener.dispatchEvent(c.default.EventName.SEND_MSG,e),t.getComponent(a.default).hidePopup()})}},i([d(cc.Node)],e.prototype,"grid",void 0),i([d(cc.Prefab)],e.prototype,"prefab",void 0),i([f],e)}(cc.Component);r.default=h,cc._RF.pop()},{"../../Common/AnimPopup":"AnimPopup","../../Common/Constants":"Constants","../../Common/CustomEventListener":"CustomEventListener","./MsgItem":"MsgItem"}],MonsterData:[function(t,e,r){"use strict";cc._RF.push(e,"4ae1c+ld5xBrJT4B1vRvg93","MonsterData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.MonsterData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.MonsterData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],MsgItem:[function(t,e,r){"use strict";cc._RF.push(e,"cab98Iz1QtETJVNVLOsCHcM","MsgItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.callback=null,e.id=0,e}return n(e,t),e.prototype.setData=function(t,e){this.id=t,this.callback=e},e.prototype.onClick=function(){null!=this.callback&&this.callback(this.id)},i([c(cc.Sprite)],e.prototype,"icon",void 0),i([a],e)}(cc.Component);r.default=u,cc._RF.pop()},{}],MyMessager:[function(t,e,r){"use strict";cc._RF.push(e,"a777cAkNnZNWa8YqlANkgyJ","MyMessager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=s(t("./MyMsgItem")),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.grid=null,e}return n(e,t),e.prototype.onEnable=function(){for(var t=a.default.instance.myMessages,e=0;e<t.length;e++){var r=t[e],o=cc.instantiate(this.prefab);this.grid.addChild(o),o.getComponent(c.default).setData(r)}},i([l(cc.Prefab)],e.prototype,"prefab",void 0),i([l(cc.Node)],e.prototype,"grid",void 0),i([p],e)}(cc.Component);r.default=f,cc._RF.pop()},{"../../Manager/GameManager":"GameManager","./MyMsgItem":"MyMsgItem"}],MyMsgItem:[function(t,e,r){"use strict";cc._RF.push(e,"94e94BHm1VIXptI55zOqKAd","MyMsgItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.avatar=null,e.icon=null,e.username=null,e}return n(e,t),e.prototype.setData=function(t){var e=this;this.username.string=t.sender;var r="Avatar/"+t.senderAvatarId;cc.loader.loadRes(r,cc.SpriteFrame,function(t,r){e.avatar.spriteFrame=r})},i([c(cc.Sprite)],e.prototype,"avatar",void 0),i([c(cc.Sprite)],e.prototype,"icon",void 0),i([c(cc.Label)],e.prototype,"username",void 0),i([a],e)}(cc.Component);r.default=u,cc._RF.pop()},{}],NeedDeclareError:[function(t,e,r){"use strict";cc._RF.push(e,"3c763iejXNHdJ1sw6WnALxw","NeedDeclareError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.NeedDeclareError=void 0;var s=i(t("./BaseError")),a=t("./ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.NEED_DECLARE,"Command need to declare")||this}return n(e,t),e}(s.default);r.NeedDeclareError=c,cc._RF.pop()},{"./BaseError":"BaseError","./ErrorCode":"ErrorCode"}],"NetworkManager ":[function(t,e,r){"use strict";cc._RF.push(e,"ddc8cra/ExNZ6haLnpjXf5x","NetworkManager ");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(t,e,r,o){void 0===o&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},u=this&&this.__awaiter||function(t,e,r,o){return new(r||(r=Promise))(function(n,i){function s(t){try{c(o.next(t))}catch(e){i(e)}}function a(t){try{c(o.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,a)}c((o=o.apply(t,e||[])).next())})},p=this&&this.__generator||function(t,e){var r,o,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var f=t("./../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopBuy"),d=cc._decorator,h=d.ccclass,_=d.property,y=c(t("colyseus.js")),v=t("../../pirate-king-nft-core/pk/dataLoader/DataLoader"),g=t("../../pirate-king-nft-core/pk/entity/PKConstants"),m=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.EquipmentEquip"),E=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.EquipmentUnEquip"),P=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.GachaShip"),O=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.PveFinish"),R=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.PveStart"),b=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.PvpSpinReward"),M=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.PvpUpdateIsland"),S=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.PvpUpdateIslandPath"),I=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShipReload"),w=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopList"),C=c(t("../Common/Constants")),A=t("../Common/CustomEventListener"),D=t("../Common/Toast"),T=t("../Common/Utils"),j=l(t("./GameManager")),N=t("../../pirate-king-nft-core/errors/ErrorCode"),x=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShipRepair"),B=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.JoinSession"),L=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.MySessionInfo"),q=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.StartCombat"),F=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.FinishCombat"),k=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.SendMessage"),U=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.MyMessages"),$=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.ClaimSessionReward"),H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hostname="35.221.134.77",e.port=3456,e.useSSL=!1,e.requestId=0,e}return n(e,t),e.prototype.onLoad=function(){j.default.instance.client=this,cc.game.addPersistRootNode(this.node),this.checkHost(),this.client=new y.Client((this.useSSL?"wss":"ws")+"://"+this.hostname+([443,80].includes(this.port)||this.useSSL?"":":"+this.port)),console.log("\ud83d\ude80 ~ file: NetworkManager .ts ~ line 41 ~ NetworkManager ~ onLoad ~ client",this.client),j.default.instance.data=T.Utils.parseQueryString(),this.connect(),v.dataLoader.init(),this.cbQueue=new Map},e.prototype.checkHost=function(){C.default.Env==C.Environment.Dev?(this.hostname="10.128.4.5",this.port=3456,this.useSSL=!1):C.default.Env==C.Environment.TestNet&&(this.hostname="api-testnet.piratesland.io",this.port=2999,this.useSSL=!0)},e.prototype.addCB=function(t,e){this.cbQueue.has(t)?this.cbQueue[t]=e:this.cbQueue.set(t,e)},e.prototype.logError=function(t){switch(t){case 6350:A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_SPIN),D.Toast.instance.showText("Ship Limit!");break;case 6302:D.Toast.instance.showText("Username has already existed!");break;default:D.Toast.instance.showText(N.ErrorCode[t])}},e.prototype.connect=function(){return u(this,void 0,void 0,function(){var t,e,r,o,n=this;return p(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),t=C.default.DEV?{walletUid:"0xC9014432072Bf000d9F299D89C4F79650E957ac8",token:C.default.token}:{walletUid:j.default.instance.data.wallet.toLowerCase(),token:j.default.instance.data.token},e=this,[4,this.client.joinOrCreate(g.PKConstants.Rooms.Character,t)];case 1:return e.room=i.sent(),this.room.state.character.onChange=function(t){j.default.instance.user=n.room.state.character,console.log("userInfo: ",j.default.instance.user),t.forEach(function(t){"gold"===t.field?t.value.listen("quantity",function(){j.default.instance.isDelay||A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_RESOURCE)}):"username"===t.field?A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_USERINFO):"avatarId"===t.field&&A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_USERINFO)}),n.room.state.character.resources.onAdd=function(t,e){j.default.instance.user=n.room.state.character,39!=e&&37!=e||(t.onChange=function(){j.default.instance.isDelay||A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_RESOURCE)},t.triggerAll())},n.room.state.character.equipments.onAdd=function(t){t.onChange=function(){A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_EQUIP)},t.triggerAll()},n.room.state.character.ships.onAdd=function(t){t.onChange=function(t){t.forEach(function(t){"bullet"===t.field?t.value.listen("quantity",function(){A.CustomEventListener.dispatchEvent(C.default.EventName.RELOAD_SHIP)}):"durability"===t.field&&A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_DURABILITY_SHIP)})},t.triggerAll()},n.room.state.character.island.onChange=function(){A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_ISLAND),n.room.state.character.island.paths.onChange=function(){A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_ISLAND_PATH)}}},r=this,[4,this.client.joinOrCreate(g.PKConstants.Rooms.Pvp,t)];case 2:return r.roomPvP=i.sent(),console.log("\ud83d\ude80 ~ file: NetworkManager .ts ~ line 172 ~ NetworkManager ~ connect ~ this.roomPvP",this.roomPvP),this.roomPvP.state.pvpLeaderboard.onAdd=function(){j.default.instance.leaderboard=n.roomPvP.state.pvpLeaderboard},this.roomPvP.state.pvpSession.onChange=function(t){j.default.instance.pvp=n.roomPvP.state.pvpSession,console.log("pvpSession: ",j.default.instance.pvp),t.forEach(function(t){"gold"===t.field?t.value.listen("quantity",function(){j.default.instance.isDelay||A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_RESOURCE)}):"username"===t.field?A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_USERINFO):"avatarId"===t.field&&A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_USERINFO)})},this.room.onMessage(g.PKConstants.Endpoints.Character.Login,function(){}),this.room.onMessage(g.PKConstants.Endpoints.Character.Rename,function(t){D.Toast.instance.showText("Username created successfully"),console.log(t)}),this.room.onMessage(g.PKConstants.Endpoints.Character.ChangeAvatar,function(t){console.log(t)}),this.room.onMessage(g.PKConstants.Endpoints.Equipment.Add,function(t){console.log(t)}),this.room.onMessage(g.PKConstants.Endpoints.Pvp.SpinReward,function(t){j.default.instance.resultSpinItem=t.data.rewards[0],A.CustomEventListener.dispatchEvent(C.default.EventName.UPDATE_PVPSPIN)}),this.room.onMessage(g.PKConstants.Endpoints.Pvp.UpdateIslandPath,function(){console.log(n.room.state.character)}),this.room.onMessage(g.PKConstants.Endpoints.Pvp.UpdateIsland,function(){}),this.room.onMessage(g.PKConstants.Endpoints.Ship.PveStart,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Ship.PveStart);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Ship.PveFinish,function(t){console.log(t);var e=n.cbQueue.get(g.PKConstants.Endpoints.Ship.PveFinish);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Equipment.Equip,function(t){console.log(t);var e=n.cbQueue.get(g.PKConstants.Endpoints.Equipment.Equip);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Equipment.UnEquip,function(t){console.log(t);var e=n.cbQueue.get(g.PKConstants.Endpoints.Equipment.UnEquip);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Ship.Reload,function(){}),this.room.onMessage(g.PKConstants.Endpoints.Shop.List,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Shop.List);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Shop.InGameShopBuy,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Shop.InGameShopBuy);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Ship.Repair,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Ship.Repair);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Ship.GachaShip,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Ship.GachaShip);null!=e&&e(t),console.log(JSON.stringify(t))}),this.roomPvP.onMessage(g.PKConstants.Endpoints.Pvp.JoinSession,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Pvp.JoinSession);null!=e&&e(t)}),this.roomPvP.onMessage(g.PKConstants.Endpoints.Pvp.MyInfo,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Pvp.MyInfo);null!=e&&e(t)}),this.roomPvP.onMessage(g.PKConstants.Endpoints.Pvp.StartCombat,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Pvp.StartCombat);null!=e&&e(t)}),this.roomPvP.onMessage(g.PKConstants.Endpoints.Pvp.FinishCombat,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Pvp.FinishCombat);null!=e&&e(t)}),this.roomPvP.onMessage(g.PKConstants.Endpoints.Pvp.SendMessage,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Pvp.SendMessage);null!=e&&e(t)}),this.roomPvP.onMessage(g.PKConstants.Endpoints.Pvp.MyMessages,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Pvp.MyMessages);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Pvp.ClaimSessionReward,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Pvp.ClaimSessionReward);null!=e&&e(t)}),this.room.onLeave(function(t){console.log("onLeave:",t)}),this.room.onError(function(t){n.logError(t)}),this.roomPvP.onError(function(t){n.logError(t)}),[3,4];case 3:return o=i.sent(),console.log(o),console.log(o.code),console.log(o.message),[3,4];case 4:return[2]}})})},e.prototype.reName=function(){this.room.send(g.PKConstants.Endpoints.Character.Rename,{action:g.PKConstants.Endpoints.Character.Rename,requestId:2,data:{username:j.default.instance.username}})},e.prototype.changeAvatar=function(){this.room.send(g.PKConstants.Endpoints.Character.ChangeAvatar,{action:g.PKConstants.Endpoints.Character.ChangeAvatar,requestId:3,data:{avatarDataId:j.default.instance.avataID}})},e.prototype.gacha=function(t){var e=new P.ReqMsgGachaShip;e.data={},e.action=g.PKConstants.Endpoints.Ship.GachaShip,e.requestId=++this.requestId,e.validate(),this.room.send(e.action,e),this.addCB(g.PKConstants.Endpoints.Ship.GachaShip,t)},e.prototype.addEquip=function(){this.room.send(g.PKConstants.Endpoints.Equipment.Add,{action:g.PKConstants.Endpoints.Equipment.Add,requestId:5,data:{equipmentDataIds:[29,30,31,32,33]}})},e.prototype.spinReward=function(){console.log("\ud83d\ude80 ~ file: NetworkManager .ts ~ line 320 ~ NetworkManager ~ spinReward ~ spinReward");var t=new b.ReqMsgPvpSpinReward;t.data.times=1,t.action=g.PKConstants.Endpoints.Pvp.SpinReward,t.requestId=++this.requestId,t.validate(),this.room.send(t.action,t)},e.prototype.updateIslandPath=function(t){var e=new S.ReqMsgPvpUpdateIslandPath;e.data.path=t,e.action=g.PKConstants.Endpoints.Pvp.UpdateIslandPath,e.requestId=++this.requestId,e.validate(),this.room.send(e.action,e)},e.prototype.updateIsland=function(){var t=new M.ReqMsgPvpUpdateIsland;t.data={},t.action=g.PKConstants.Endpoints.Pvp.UpdateIsland,t.requestId=++this.requestId,t.validate(),this.room.send(t.action,t)},e.prototype.changeEquip=function(t,e,r){var o=new m.ReqMsgEquipmentEquip;o.data.equipDataItems=[{shipUid:t,equipmentUids:[e]}],o.action=g.PKConstants.Endpoints.Equipment.Equip,o.requestId=++this.requestId,o.validate(),this.room.send(o.action,o),this.addCB(g.PKConstants.Endpoints.Equipment.Equip,r)},e.prototype.removeEquip=function(t,e,r){var o=new E.ReqMsgEquipmentUnEquip;o.data.equipDataItems=[{shipUid:t,equipmentUids:[e]}],o.action=g.PKConstants.Endpoints.Equipment.UnEquip,o.requestId=++this.requestId,o.validate(),this.room.send(o.action,o),this.addCB(g.PKConstants.Endpoints.Equipment.UnEquip,r)},e.prototype.reloadShip=function(t){var e=new I.ReqMsgShipReload;e.data={},e.action=g.PKConstants.Endpoints.Ship.Reload,e.requestId=++this.requestId,e.validate(),this.room.send(e.action,e),this.addCB(g.PKConstants.Endpoints.Ship.Reload,t)},e.prototype.pveStart=function(t,e){var r=new R.ReqMsgPveStart;r.data.shipUid=t,r.action=g.PKConstants.Endpoints.Ship.PveStart,r.requestId=++this.requestId,r.validate(),this.room.send(r.action,r),this.addCB(g.PKConstants.Endpoints.Ship.PveStart,e)},e.prototype.pveFinish=function(t,e){var r=new O.ReqMsgPveFinish;r.data.historyId=t,r.action=g.PKConstants.Endpoints.Ship.PveFinish,r.requestId=++this.requestId,r.validate(),this.room.send(r.action,r),this.addCB(g.PKConstants.Endpoints.Ship.PveFinish,e)},e.prototype.listShop=function(t){var e=new w.ReqMsgShopList;e.data={},e.action=g.PKConstants.Endpoints.Shop.List,e.requestId=++this.requestId,e.validate(),this.room.send(e.action,e),this.addCB(g.PKConstants.Endpoints.Shop.List,t)},e.prototype.shopBuy=function(t,e){var r=new f.ReqMsgShopBuy;r.data=t,r.action=g.PKConstants.Endpoints.Shop.InGameShopBuy,r.requestId=++this.requestId,r.validate(),this.room.send(r.action,r),this.addCB(g.PKConstants.Endpoints.Shop.InGameShopBuy,e)},e.prototype.repairShip=function(t,e){var r=new x.ReqMsgShipRepair;r.data.shipUid=t,r.action=g.PKConstants.Endpoints.Ship.Repair,r.requestId=++this.requestId,r.validate(),this.room.send(r.action,r),this.addCB(g.PKConstants.Endpoints.Ship.Repair,e)},e.prototype.joinSession=function(t){var e=new B.ReqMsgPvpJoinSession;e.data={},e.action=g.PKConstants.Endpoints.Pvp.JoinSession,e.requestId=++this.requestId,e.validate(),this.roomPvP.send(e.action,e),this.addCB(g.PKConstants.Endpoints.Pvp.JoinSession,t)},e.prototype.mySessionInfo=function(t){var e=new L.ReqMsgPvpMySessionInfo;e.data=new L.ReqMsgPvpMySessionInfoData,e.data.sessionNo=j.default.instance.pvp.sessionNo,e.action=g.PKConstants.Endpoints.Pvp.MyInfo,e.requestId=++this.requestId,e.validate(),this.roomPvP.send(e.action,e),this.addCB(g.PKConstants.Endpoints.Pvp.MyInfo,t)},e.prototype.startPVP=function(t){var e=new q.ReqMsgPvpStartCombat;e.data={},e.action=g.PKConstants.Endpoints.Pvp.StartCombat,e.requestId=++this.requestId,e.validate(),this.roomPvP.send(e.action,e),this.addCB(g.PKConstants.Endpoints.Pvp.StartCombat,t)},e.prototype.finishPVP=function(t,e,r,o){var n=new F.ReqMsgPvpFinishCombat;n.data=new F.ReqMsgPvpFinishCombatData,n.data.combatUid=t,n.data.shipUid=e,n.data.path=r,n.action=g.PKConstants.Endpoints.Pvp.FinishCombat,n.requestId=++this.requestId,n.validate(),this.roomPvP.send(n.action,n),this.addCB(g.PKConstants.Endpoints.Pvp.FinishCombat,o)},e.prototype.sendMsgPVP=function(t,e,r){var o=new k.ReqMsgPvpSendMessage;o.data=new k.ReqMsgPvpSendMessageData,o.data.combatUid=e,o.data.msg=t,o.action=g.PKConstants.Endpoints.Pvp.SendMessage,o.requestId=++this.requestId,o.validate(),this.roomPvP.send(o.action,o),this.addCB(g.PKConstants.Endpoints.Pvp.SendMessage,r)},e.prototype.getMyMessager=function(t){var e=new U.ReqMsgPvpMyMessages;e.action=g.PKConstants.Endpoints.Pvp.MyMessages,e.data={},e.requestId=++this.requestId,e.validate(),this.roomPvP.send(e.action,e),this.addCB(g.PKConstants.Endpoints.Pvp.MyMessages,t)},e.prototype.claimSessionReward=function(t){var e=new $.ReqMsgPvpClaimSessionReward;e.action=g.PKConstants.Endpoints.Pvp.ClaimSessionReward,e.data={},e.requestId=++this.requestId,e.validate(),this.room.send(e.action,e),this.addCB(g.PKConstants.Endpoints.Pvp.ClaimSessionReward,t)},a([_],e.prototype,"hostname",void 0),a([_],e.prototype,"port",void 0),a([_],e.prototype,"useSSL",void 0),a([h],e)}(cc.Component);r.default=H,cc._RF.pop()},{"../../pirate-king-nft-core/errors/ErrorCode":"ErrorCode","../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../pirate-king-nft-core/pk/entity/PKConstants":"PKConstants","../../pirate-king-nft-core/pk/entity/req/ReqMsg.EquipmentEquip":"ReqMsg.EquipmentEquip","../../pirate-king-nft-core/pk/entity/req/ReqMsg.EquipmentUnEquip":"ReqMsg.EquipmentUnEquip","../../pirate-king-nft-core/pk/entity/req/ReqMsg.GachaShip":"ReqMsg.GachaShip","../../pirate-king-nft-core/pk/entity/req/ReqMsg.PveFinish":"ReqMsg.PveFinish","../../pirate-king-nft-core/pk/entity/req/ReqMsg.PveStart":"ReqMsg.PveStart","../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.ClaimSessionReward":"ReqMsg.Pvp.ClaimSessionReward","../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.FinishCombat":"ReqMsg.Pvp.FinishCombat","../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.JoinSession":"ReqMsg.Pvp.JoinSession","../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.MyMessages":"ReqMsg.Pvp.MyMessages","../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.MySessionInfo":"ReqMsg.Pvp.MySessionInfo","../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.SendMessage":"ReqMsg.Pvp.SendMessage","../../pirate-king-nft-core/pk/entity/req/ReqMsg.Pvp.StartCombat":"ReqMsg.Pvp.StartCombat","../../pirate-king-nft-core/pk/entity/req/ReqMsg.PvpSpinReward":"ReqMsg.PvpSpinReward","../../pirate-king-nft-core/pk/entity/req/ReqMsg.PvpUpdateIsland":"ReqMsg.PvpUpdateIsland","../../pirate-king-nft-core/pk/entity/req/ReqMsg.PvpUpdateIslandPath":"ReqMsg.PvpUpdateIslandPath","../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShipReload":"ReqMsg.ShipReload","../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShipRepair":"ReqMsg.ShipRepair","../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopList":"ReqMsg.ShopList","../Common/Constants":"Constants","../Common/CustomEventListener":"CustomEventListener","../Common/Toast":"Toast","../Common/Utils":"Utils","./../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopBuy":"ReqMsg.ShopBuy","./GameManager":"GameManager","colyseus.js":33}],NotEnoughBulletError:[function(t,e,r){"use strict";cc._RF.push(e,"56763S56tNK7ozxTIJyw4LL","NotEnoughBulletError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.NotEnoughBulletError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_NOT_ENOUGH_BULLET,"SHIP_NOT_ENOUGH_BULLET")||this}return n(e,t),e}(s.default);r.NotEnoughBulletError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],NotEnoughGoldError:[function(t,e,r){"use strict";cc._RF.push(e,"af8afQ+nudH+a/w44mJ7ChR","NotEnoughGoldError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.NotEnoughGoldError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.NOT_ENOUGH_GOLD,"NOT_ENOUGH_GOLD")||this}return n(e,t),e}(s.default);r.NotEnoughGoldError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],NotifyPopup:[function(t,e,r){"use strict";cc._RF.push(e,"00a344M9+5L4afUmNOytf6X","NotifyPopup");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../Manager/GameManager")),c=s(t("./AnimPopup")),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.messages=null,e.animPopup=null,e}return n(e,t),e.prototype.onLoad=function(){a.default.instance.notify=this,this.node.setPosition(cc.Vec3.ZERO),this.node.active=!1,this.animPopup=this.node.getComponent(c.default)},e.prototype.showText=function(t){this.messages.string=t,this.animPopup.showPopup()},i([l(cc.Label)],e.prototype,"messages",void 0),i([p],e)}(cc.Component);r.default=f,cc._RF.pop()},{"../Manager/GameManager":"GameManager","./AnimPopup":"AnimPopup"}],ObjectUtils:[function(t,e,r){"use strict";cc._RF.push(e,"381dbbpbLtNxpFOWoazz/S1","ObjectUtils"),Object.defineProperty(r,"__esModule",{value:!0}),r.floatFormatter=r.numberFormatter=r.jsonClone=void 0;var o=t("../errors/InvalidNumberValueError");r.jsonClone=function(t){return JSON.parse(JSON.stringify(t))};var n=/^[-+]?(\d+|Infinity)$/,i=/^[+-]?((\.\d+)|(\d+(\.\d+)?))$/;r.numberFormatter=function(t){if(n.test(t+""))return Number(t);throw new o.InvalidNumberValueError},r.floatFormatter=function(t){if(i.test(t+""))return Number(t);throw new o.InvalidNumberValueError},cc._RF.pop()},{"../errors/InvalidNumberValueError":"InvalidNumberValueError"}],Overlay:[function(t,e,r){"use strict";cc._RF.push(e,"29696dV17lPTqzhovjey+Xl","Overlay");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator.ccclass,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()}),this.node.on(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation()})},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()}),this.node.off(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation()})},i([s],e)}(cc.Component);r.default=a,cc._RF.pop()},{}],PKConstants:[function(t,e,r){"use strict";cc._RF.push(e,"399b9QX1LtOYKVaLyq6N2O2","PKConstants"),Object.defineProperty(r,"__esModule",{value:!0}),r.PKConstants=void 0,r.PKConstants=Object.freeze({Default:{ItemPerPage:10,DefaultCannonDataId:35,MarketWalletId:"0x0000000000000000000000000000000000000000",PvpSessionInfoUid:1,PvpSessionRKey:"PvpSession:%s:Leaderboard"},Endpoints:{Auth:{GetLoginCode:"/Auth.GetLoginCode",VerifySignature:"/Auth.VerifySignature",LoginDev:"/Auth.LoginDev"},Character:{Login:"Character.Login",Rename:"Character.Rename",ChangeAvatar:"Character.ChangeAvatar",UpdateInfo:"Character.UpdateInfo"},Ship:{GachaShip:"Ship.GachaShip",PveStart:"Ship.PveStart",PveFinish:"Ship.PveFinish",Reload:"Ship.Reload",Repair:"Ship.Repair"},Reward:{List:"/Reward.List",Claim:"/Reward.Claim",ClaimAll:"/Reward.ClaimAll"},Equipment:{Add:"Equipment.Add",Equip:"Equipment.Equip",UnEquip:"Equipment.UnEquip"},Pvp:{SpinReward:"Pvp.SpinReward",UpdateIslandPath:"Pvp.UpdateIslandPath",UpdateIsland:"Pvp.UpdateIsland",ClaimSessionReward:"Pvp.ClaimSessionReward",MyInfo:"Pvp.MyInfo",JoinSession:"Pvp.JoinSession",StartCombat:"Pvp.StartCombat",FinishCombat:"Pvp.FinishCombat",SendMessage:"Pvp.SendMessage",MyMessages:"Pvp.MyMessages",SessionRewardStatus:"Pvp.SessionRewardStatus",PrizeDistributionCron:"PrizeDistributionCron"},Shop:{List:"Shop.List",InGameShopBuy:"Shop.InGameShopBuy",WebShopDetail:"/Shop.WebShopDetail/:shopDataId",WebShopBuy:"/Shop.WebShopBuy"},Port:{Use:"Port.Use"},Market:{List:"/Market.List",MyListing:"/Market.MyListing",Sell:"/Market.Sell",Cancel:"/Market.Cancel",Buy:"/Market.Buy",MyOffer:"/Market.MyOffer",MyHistory:"/Market.MyHistory",TakeGold:"/Market.TakeToken"},Token:{Deposit:"/Token.Deposit",Withdrawal:"/Token.Withdrawal",MyInfo:"/Token.MyInfo",History:"/Token.History"},Box:{Buy:"/Box.Buy",MyBox:"/Box.MyBox",Open:"/Box.Open",MyItems:"/Box.MyItems"},Admin:{BoxBuyVerify:"/Admin.BoxBuyVerify"}},Rooms:{Character:"CharacterRoom",Shop:"Shop",Market:"Market",Pvp:"Pvp"},GameData:{DefaultAvatarDataId:13,DefaultShipDataId:8,DefaultShipTypeDataId:3,Resource:{ResourceInfinity:-1,GoldDataId:1,BulletDataId:2,PvpPointDataId:36,PvpSpinPointDataId:37,GloryPointDataId:39,MarketTicketDataId:71,ShipRepairTicketDataId:72},ItemType:{Box:102,AtlantisFragment:105},Config:{ShipConfigDataId:15,PveConfigDataId:21,EquipmentConfigDataId:34,PvpConfigDataId:38,ShopConfigDataId:42,GeneralConfigDataId:44,MarketConfigDataId:101,BoxConfigDataId:110}},MQ:{Request:"request",API:"api",Notify:"notify",UpdateInfo:"UpdateInfo",Error:"error",PvpCron:"PvpCron"},PvpSession:{RKeyLeaderboard:"PvpSession:%s:Leaderboard"}}),cc._RF.pop()},{}],PVPScene:[function(t,e,r){"use strict";cc._RF.push(e,"b3f2aj+PjxJ54xqIB5uZ8AK","PVPScene");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(t,e,r,o){void 0===o&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var p=t("./../../Common/Toast"),l=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),f=t("../../../pirate-king-nft-core/pk/entity/PKConstants"),d=u(t("../../Common/AnimPopup")),h=t("../../Common/Config"),_=c(t("../../Common/Constants")),y=u(t("../../Manager/GameManager")),v=u(t("../Game/Bullet")),g=u(t("../Game/Target")),m=t("../../Common/CustomEventListener"),E=cc._decorator,P=E.ccclass,O=E.property,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.avatar=null,e.userName=null,e.ship=null,e.pet=null,e.castle=null,e.tree=null,e.prefab=null,e.parent=null,e.canon=null,e.overlay=null,e.btnMsg=null,e.finish=null,e.goldLabel=null,e.velocityAngel=20,e.targets=[],e.spawnPos=cc.v2(0,-308),e.target=null,e.curCannon=null,e.isShot=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.user=y.default.instance.user,this.targets=this.parent.getComponentsInChildren(g.default),this.canon.setEventListener(function(){t.shot(t.target)})},e.prototype.onEnable=function(){m.CustomEventListener.on(_.default.EventName.SEND_MSG,this.onSendMessager,this),this.loadUI()},e.prototype.onDisable=function(){m.CustomEventListener.off(_.default.EventName.SEND_MSG,this.onSendMessager,this)},e.prototype.loadUI=function(){var t=this,e=y.default.instance.pvpData,r=l.dataLoader.getPvpConfig().islandLevelTable[e.opponent.island.level];if(this.isShot=!1,cc.resources.load("bg/island_bg_"+e.opponent.island.level,cc.SpriteFrame,function(e,r){t.bg.spriteFrame=r}),this.ship.node.destroyAllChildren(),this.pet.node.destroyAllChildren(),this.castle.node.destroyAllChildren(),this.tree.node.destroyAllChildren(),e.opponent.island.paths.shipLevel==e.opponent.island.level){var o=y.default.instance.getPrefabAssetById(r.paths.ship.dataId),n=cc.instantiate(o.data);this.ship.node.addChild(n)}e.opponent.island.paths.petLevel==e.opponent.island.level&&(o=y.default.instance.getPrefabAssetById(r.paths.pet.dataId),n=cc.instantiate(o.data),this.pet.node.addChild(n)),e.opponent.island.paths.castleLevel==e.opponent.island.level&&(o=y.default.instance.getPrefabAssetById(r.paths.castle.dataId),n=cc.instantiate(o.data),this.castle.node.addChild(n)),e.opponent.island.paths.treeLevel==e.opponent.island.level&&(o=y.default.instance.getPrefabAssetById(r.paths.tree.dataId),n=cc.instantiate(o.data),this.tree.node.addChild(n)),this.userName.string=e.opponent.username+" - Level "+e.opponent.island.level;var i="Avatar/"+e.opponent.avatar;cc.loader.loadRes(i,cc.SpriteFrame,function(e,r){t.avatar.spriteFrame=r}),this.btnMsg.active=!0},e.prototype.onSendMessager=function(t){var e=y.default.instance.pvpData,r=this;console.log("\ud83d\ude80 ~ file: PVPScene.ts ~ line 101 ~ PVPScene ~ onSendMessager ~ pvpData.pvpSessionUserInfo.isBotOpponent",e.pvpSessionUserInfo.isBotOpponent),""===e.opponent.walletUid?this.btnMsg.active=!1:y.default.instance.client.sendMsgPVP(t.toString(),e.combatUid,function(t){console.log("\ud83d\ude80 ~ file: PVPScene.ts ~ line 105 ~ PVPScene ~ GameManager.instance.client.sendMsgPVP ~ data",t),r.btnMsg.active=!1})},e.prototype.onTarget=function(t){if(this.isShot)p.Toast.instance.showText("You can only shoot 1 time!");else{var e=this;this.overlay.active=!0,this.isShot=!0;var r=t.currentTarget.getComponent(g.default);this.target=r;var o=r.node.getPosition(),n=this.getAngle(this.canon.node.getPosition(),cc.v2(o.x,o.y+500))-90,i=Math.abs(n-this.canon.node.angle);cc.tween(this.canon.node).to(i/this.velocityAngel,{angle:n}).call(function(){e.canon.setAnimation(0,"attack",!1)}).start()}},e.prototype.shot=function(t){var e=this,r=cc.instantiate(this.prefab.data);r.setParent(this.parent),r.setPosition(this.canon.node.getPosition());var o=r.getComponent(v.default);this.curCannon=h.Config.cannon.find(function(t){return t.dataId==f.PKConstants.Default.DefaultCannonDataId}),o.create(t,e.curCannon.bullet,function(){e.scheduleOnce(function(){e.finishShot()},1)})},e.prototype.finishShot=function(){var t=this,e=y.default.instance,r=e.pvpData,o=e.user,n="castle";switch(this.target.type){case _.IslandType.Castle:n="castle",this.castle.getComponentInChildren(sp.Skeleton).setAnimation(0,"fire",!1);break;case _.IslandType.Pet:n="pet",this.pet.getComponentInChildren(sp.Skeleton).setAnimation(0,"fire",!1);break;case _.IslandType.Tree:n="tree",this.tree.getComponentsInChildren(sp.Skeleton).forEach(function(t){return t.setAnimation(0,"fire",!1)});break;case _.IslandType.Ship:n="ship",this.ship.getComponentInChildren(sp.Skeleton).setAnimation(0,"fire",!1);break;default:n="castle"}y.default.instance.client.finishPVP(r.combatUid,o.ships[0].uid,n,function(e){t.scheduleOnce(function(){t.goldLabel.string=e.data.goldReward.toString(),t.finish.showPopup(),t.overlay.active=!1},1)})},e.prototype.getDistance=function(t,e){var r=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(r.x*r.x+r.y*r.y)},e.prototype.getAngle=function(t,e){var r=e.x-t.x,o=e.y-t.y;return-cc.v2(r,o).signAngle(cc.v2(1,0))/Math.PI*180},a([O(cc.Sprite)],e.prototype,"bg",void 0),a([O(cc.Sprite)],e.prototype,"avatar",void 0),a([O(cc.Label)],e.prototype,"userName",void 0),a([O(cc.Sprite)],e.prototype,"ship",void 0),a([O(cc.Sprite)],e.prototype,"pet",void 0),a([O(cc.Sprite)],e.prototype,"castle",void 0),a([O(cc.Sprite)],e.prototype,"tree",void 0),a([O(cc.Prefab)],e.prototype,"prefab",void 0),a([O(cc.Node)],e.prototype,"parent",void 0),a([O(sp.Skeleton)],e.prototype,"canon",void 0),a([O(cc.Node)],e.prototype,"overlay",void 0),a([O(cc.Node)],e.prototype,"btnMsg",void 0),a([O(d.default)],e.prototype,"finish",void 0),a([O(cc.Label)],e.prototype,"goldLabel",void 0),a([P],e)}(cc.Component);r.default=R,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../../pirate-king-nft-core/pk/entity/PKConstants":"PKConstants","../../Common/AnimPopup":"AnimPopup","../../Common/Config":"Config","../../Common/Constants":"Constants","../../Common/CustomEventListener":"CustomEventListener","../../Manager/GameManager":"GameManager","../Game/Bullet":"Bullet","../Game/Target":"Target","./../../Common/Toast":"Toast"}],PoolManager:[function(t,e,r){"use strict";cc._RF.push(e,"f49d2QBGWZEkpLH7RQEHNZF","PoolManager");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=t("../Common/Constants"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.items=[],e.map=null,e}var r;return n(e,t),r=e,e.prototype.onLoad=function(){for(var t in r.instance=this,this.map=new Map,s.TypePool)isNaN(Number(t))||this.map.set(Number(t),new cc.NodePool)},e.prototype.get=function(t){if(this.map.get(t).size()>0){var e=this.map.get(t).get();return e.active=!0,e.opacity=255,e}return cc.instantiate(this.getPrefab(t))},e.prototype.getPrefab=function(t){var e=Object.keys(s.TypePool);switch(t){case s.TypePool.Ship_1:case s.TypePool.Ship_2:case s.TypePool.Ship_3:case s.TypePool.Ship_4:case s.TypePool.Ship_5:case s.TypePool.Ship_6:case s.TypePool.Ship_7:case s.TypePool.Ship_8:case s.TypePool.Ship_9:var r=e.findIndex(function(e){return Number(e)==t});return this.items[r].data;default:return this.items[0].data}},e.prototype.put=function(t,e){this.map.get(e).put(t)},e.instance=null,i([u(cc.Prefab)],e.prototype,"items",void 0),r=i([c],e)}(cc.Component);r.default=p,cc._RF.pop()},{"../Common/Constants":"Constants"}],"Port.state":[function(t,e,r){"use strict";cc._RF.push(e,"dcb83oaqR1AlKBlCA3dM1s3","Port.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.PortState=void 0;var s=t("@colyseus/schema"),a=t("./Resource.state"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataId=0,e}return n(e,t),i([s.type("number")],e.prototype,"dataId",void 0),i([s.type(a.ResourceState)],e.prototype,"remainingMarketTicket",void 0),i([s.type(a.ResourceState)],e.prototype,"remainingRepairDiscount",void 0),e}(s.Schema);r.PortState=c,cc._RF.pop()},{"./Resource.state":"Resource.state","@colyseus/schema":3}],PortAlreadyOwnError:[function(t,e,r){"use strict";cc._RF.push(e,"a1320WNAwlLIb8vP8J5VRJQ","PortAlreadyOwnError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PortAlreadyOwnError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PORT_ALREADY_OWN,"PORT_ALREADY_OWN")||this}return n(e,t),e}(s.default);r.PortAlreadyOwnError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PortData:[function(t,e,r){"use strict";cc._RF.push(e,"50ac54KJYhDjoSL9EEqwwbB","PortData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.PortData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.PortData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],PortNotOwnError:[function(t,e,r){"use strict";cc._RF.push(e,"01285GjU2hOrbhapOALTSVi","PortNotOwnError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PortNotOwnError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PORT_NOT_OWN,"PORT_NOT_OWN")||this}return n(e,t),e}(s.default);r.PortNotOwnError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PortUseInvalidParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"58bf8xT2j9HOZgnQuWs7pUL","PortUseInvalidParamsError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PortUseInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PORT_USE_INVALID_PARAM,"PORT_USE_INVALID_PARAM")||this}return n(e,t),e}(s.default);r.PortUseInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PveRewardLevel:[function(t,e,r){"use strict";cc._RF.push(e,"70eaaNMZQhGb42v812O+AoD","PveRewardLevel"),Object.defineProperty(r,"__esModule",{value:!0}),r.PveRewardLevel=void 0;r.PveRewardLevel=function(){},cc._RF.pop()},{}],"Pvp.BotInfo":[function(t,e,r){"use strict";cc._RF.push(e,"6c5cbRsGfVKQJLEu6k6e9+r","Pvp.BotInfo"),Object.defineProperty(r,"__esModule",{value:!0}),r.PvpBotInfo=void 0;var o=t("./PKConstants");r.PvpBotInfo={walletUid:"",username:"Nika",avatar:o.PKConstants.GameData.DefaultAvatarDataId,island:{paths:{castleLevel:4,petLevel:4,treeLevel:4,shipLevel:3},level:4}},cc._RF.pop()},{"./PKConstants":"PKConstants"}],"Pvp.Opponent":[function(t,e,r){"use strict";cc._RF.push(e,"0f486ARi9tBzpju6ewLe5Ts","Pvp.Opponent"),Object.defineProperty(r,"__esModule",{value:!0}),cc._RF.pop()},{}],"Pvp.RoomOptionData":[function(t,e,r){"use strict";cc._RF.push(e,"30d59MrkihHi5pyXLA87E4h","Pvp.RoomOptionData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.PvpRoomOptionData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./req/ReqMsg.Login").LoginData);r.PvpRoomOptionData=i,cc._RF.pop()},{"./req/ReqMsg.Login":"ReqMsg.Login"}],"Pvp.Session.AlreadyJoined.Error":[function(t,e,r){"use strict";cc._RF.push(e,"65b4ebLz+JFm4y6W93Y9lBW","Pvp.Session.AlreadyJoined.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpSessionAlreadyJoinedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_SESSION_ALREADY_JOINED,"PVP_SESSION_ALREADY_JOINED")||this}return n(e,t),e}(s.default);r.PvpSessionAlreadyJoinedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Pvp.Session.Combat.NotFound.Error":[function(t,e,r){"use strict";cc._RF.push(e,"253fbGrlc9E/bCi+wvW5WoJ","Pvp.Session.Combat.NotFound.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpSessionCombatNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_SESSION_COMBAT_NOT_FOUND,"PVP_SESSION_COMBAT_NOT_FOUND")||this}return n(e,t),e}(s.default);r.PvpSessionCombatNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Pvp.Session.FightTimeOver.Error":[function(t,e,r){"use strict";cc._RF.push(e,"78530Tf1yVCZomI6PzVpP4j","Pvp.Session.FightTimeOver.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpSessionFightTimeOverError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_SESSION_FIGHT_TIME_OVER,"PVP_SESSION_FIGHT_TIME_OVER")||this}return n(e,t),e}(s.default);r.PvpSessionFightTimeOverError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Pvp.Session.FinishCombat.InvalidParam.Error":[function(t,e,r){"use strict";cc._RF.push(e,"80f88oCSotI77127EUgE6QW","Pvp.Session.FinishCombat.InvalidParam.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpSessionFinishCombatInvalidParamError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_SESSION_FINISH_COMBAT_INVALID_PARAM,"PVP_SESSION_FINISH_COMBAT_INVALID_PARAM")||this}return n(e,t),e}(s.default);r.PvpSessionFinishCombatInvalidParamError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Pvp.Session.GetLeaderboardFailed.Error":[function(t,e,r){"use strict";cc._RF.push(e,"b0602fPTU5Ir4zwZMGfLRNA","Pvp.Session.GetLeaderboardFailed.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpSessionGetLeaderboardFailedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_SESSION_GET_LEADERBOARD_FAILED,"PVP_SESSION_GET_LEADERBOARD_FAILED")||this}return n(e,t),e}(s.default);r.PvpSessionGetLeaderboardFailedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Pvp.Session.NeedJoin.Error":[function(t,e,r){"use strict";cc._RF.push(e,"a6146oRUV9Ej7pE/pFB9sgl","Pvp.Session.NeedJoin.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpSessionNeedJoinError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_SESSION_NEED_JOIN,"PVP_SESSION_NEED_JOIN")||this}return n(e,t),e}(s.default);r.PvpSessionNeedJoinError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Pvp.Session.NeedShip.Error":[function(t,e,r){"use strict";cc._RF.push(e,"a89dfs3eh9EAIIXAed5Yweu","Pvp.Session.NeedShip.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpSessionNeedShipError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_SESSION_NEED_SHIP,"PVP_SESSION_NEED_SHIP")||this}return n(e,t),e}(s.default);r.PvpSessionNeedShipError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Pvp.Session.NoOpponent.Error":[function(t,e,r){"use strict";cc._RF.push(e,"12054C8ZAZObor26THugQk9","Pvp.Session.NoOpponent.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpSessionNoOpponentError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_SESSION_NO_OPPONENT,"PVP_SESSION_NO_OPPONENT")||this}return n(e,t),e}(s.default);r.PvpSessionNoOpponentError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Pvp.Session.SendMessage.InvalidParam.Error":[function(t,e,r){"use strict";cc._RF.push(e,"1a4bex944FLi5yok1RBWqbB","Pvp.Session.SendMessage.InvalidParam.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpSessionSendMessageInvalidParamError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_SESSION_SEND_MESSAGE_INVALID_PARAM)||this}return n(e,t),e}(s.default);r.PvpSessionSendMessageInvalidParamError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Pvp.Session.SendMessage.MessageSent.Error":[function(t,e,r){"use strict";cc._RF.push(e,"8a4e5ZqOi5LIbuoQLjBrBOm","Pvp.Session.SendMessage.MessageSent.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpSessionSendMessageMessageSentError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_SESSION_SEND_MESSAGE_SENT)||this}return n(e,t),e}(s.default);r.PvpSessionSendMessageMessageSentError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Pvp.SessionUserInfo":[function(t,e,r){"use strict";cc._RF.push(e,"fcf5cJtaSFKcpoRP6Er7cRu","Pvp.SessionUserInfo"),Object.defineProperty(r,"__esModule",{value:!0}),cc._RF.pop()},{}],PvpInvalidSpinTimesError:[function(t,e,r){"use strict";cc._RF.push(e,"306bbPaj59PzJcBQk8o0hqQ","PvpInvalidSpinTimesError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpInvalidSpinTimesError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_INVALID_SPIN_TIMES,"PVP_INVALID_SPIN_TIMES")||this}return n(e,t),e}(s.default);r.PvpInvalidSpinTimesError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"PvpRoom.Leaderboard.Item.state":[function(t,e,r){"use strict";cc._RF.push(e,"57c6aVIhX9JnrySdUiKSPfU","PvpRoom.Leaderboard.Item.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpRoomLeaderboardItemState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),i([s.type("string")],e.prototype,"username",void 0),i([s.type("number")],e.prototype,"score",void 0),i([s.type("string")],e.prototype,"rawScore",void 0),e}(s.Schema);r.PvpRoomLeaderboardItemState=a,cc._RF.pop()},{"@colyseus/schema":3}],"PvpRoom.Session.state":[function(t,e,r){"use strict";cc._RF.push(e,"2a21f9j205I5LPYfijv/8wT","PvpRoom.Session.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpRoomSessionState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){return t.call(this)||this}return n(e,t),i([s.type("number")],e.prototype,"uid",void 0),i([s.type("number")],e.prototype,"sessionNo",void 0),i([s.type("number")],e.prototype,"startTime",void 0),i([s.type("number")],e.prototype,"fightingEndTime",void 0),i([s.type("number")],e.prototype,"prizeDistributionTime",void 0),i([s.type("number")],e.prototype,"endTime",void 0),i([s.type({array:"string"})],e.prototype,"members",void 0),i([s.type("number")],e.prototype,"prizePool",void 0),i([s.type("boolean")],e.prototype,"isPrizeDistributed",void 0),i([s.type("number")],e.prototype,"distributionRunTime",void 0),i([s.type("number")],e.prototype,"createdAt",void 0),e}(s.Schema);r.PvpRoomSessionState=a,cc._RF.pop()},{"@colyseus/schema":3}],"PvpRoom.state":[function(t,e,r){"use strict";cc._RF.push(e,"01c27+V0sBCy6qTYqfupG0S","PvpRoom.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpRoomState=void 0;var s=t("@colyseus/schema"),a=t("./PvpRoom.Leaderboard.Item.state"),c=t("./PvpRoom.Session.state"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pvpSession=new c.PvpRoomSessionState,e.pvpLeaderboard=new s.ArraySchema,e}return n(e,t),i([s.type(c.PvpRoomSessionState)],e.prototype,"pvpSession",void 0),i([s.type({array:a.PvpRoomLeaderboardItemState})],e.prototype,"pvpLeaderboard",void 0),e}(s.Schema);r.PvpRoomState=u,cc._RF.pop()},{"./PvpRoom.Leaderboard.Item.state":"PvpRoom.Leaderboard.Item.state","./PvpRoom.Session.state":"PvpRoom.Session.state","@colyseus/schema":3}],PvpSessionLog:[function(t,e,r){"use strict";cc._RF.push(e,"27011hN1aJKL7TPRrvEFB0Q","PvpSessionLog"),Object.defineProperty(r,"__esModule",{value:!0}),r.PvpSessionLogAction=r.PvpSessionLogType=void 0,function(t){t[t.ALL=1]="ALL",t[t.PRIVATE=2]="PRIVATE"}(r.PvpSessionLogType||(r.PvpSessionLogType={})),function(t){t[t.JOIN=1]="JOIN",t[t.ATTACK=2]="ATTACK",t[t.ATTACKED=3]="ATTACKED",t[t.SESSION_STARTED=101]="SESSION_STARTED",t[t.SESSION_PRIZE_DISTRIBUTED=102]="SESSION_PRIZE_DISTRIBUTED"}(r.PvpSessionLogAction||(r.PvpSessionLogAction={})),cc._RF.pop()},{}],PvpSessionReward:[function(t,e,r){"use strict";cc._RF.push(e,"5be11ytWS5BR6J9UZ24rj77","PvpSessionReward"),Object.defineProperty(r,"__esModule",{value:!0}),cc._RF.pop()},{}],PvpUpdateIslandHighestLevelReachedError:[function(t,e,r){"use strict";cc._RF.push(e,"a9b88dLEapCoK+J6Az6dClS","PvpUpdateIslandHighestLevelReachedError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpUpdateIslandHighestLevelReachedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_UPDATE_ISLAND_HIGHEST_LEVEL_REACHED,"PVP_UPDATE_ISLAND_HIGHEST_LEVEL_REACHED")||this}return n(e,t),e}(s.default);r.PvpUpdateIslandHighestLevelReachedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PvpUpdateIslandNeedUpdatePathError:[function(t,e,r){"use strict";cc._RF.push(e,"fb417jCczdDQ54Ea6tW7iNm","PvpUpdateIslandNeedUpdatePathError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpUpdateIslandNeedUpdatePathError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_UPDATE_ISLAND_NEED_UPDATE_PATH,"PVP_UPDATE_ISLAND_NEED_UPDATE_PATH")||this}return n(e,t),e}(s.default);r.PvpUpdateIslandNeedUpdatePathError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PvpUpdateIslandPathHighestLevelReachedError:[function(t,e,r){"use strict";cc._RF.push(e,"3c236Ai2AxCZ4sbytOMO2mv","PvpUpdateIslandPathHighestLevelReachedError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpUpdateIslandPathHighestLevelReachedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_UPDATE_ISLAND_PATH_HIGHEST_LEVEL_REACHED,"PVP_UPDATE_ISLAND_PATH_HIGHEST_LEVEL_REACHED")||this}return n(e,t),e}(s.default);r.PvpUpdateIslandPathHighestLevelReachedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PvpUpdateIslandPathInvalidParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"e8ec5XN9YJMUZLWs8HNWGqy","PvpUpdateIslandPathInvalidParamsError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpUpdateIslandPathInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_UPDATE_ISLAND_PATH_INVALID_PARAM,"PVP_UPDATE_ISLAND_PATH_INVALID_PARAM")||this}return n(e,t),e}(s.default);r.PvpUpdateIslandPathInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],RandomItem:[function(t,e,r){"use strict";cc._RF.push(e,"3f1fdEmY3BJMr2ynlqDn3rO","RandomItem"),Object.defineProperty(r,"__esModule",{value:!0}),r.RandomItem=void 0;r.RandomItem=function(){},cc._RF.pop()},{}],RedisConnectError:[function(t,e,r){"use strict";cc._RF.push(e,"5db1d0s491CjqSFmFJbHwq7","RedisConnectError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.RedisConnectError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(e){return t.call(this,a.ErrorCode.REDIS_CONNECT_ERROR,e)||this}return n(e,t),e}(s.default);r.RedisConnectError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"ReqMsg.Admin.BoxBuyVerify":[function(t,e,r){"use strict";cc._RF.push(e,"247be0987hEL6mJbrqKRL55","ReqMsg.Admin.BoxBuyVerify");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgAdminBoxBuyVerify=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../PKConstants"),c=t("../../errors/InvalidTransactionUidError"),u=function(t){function e(e){return t.call(this,a.PKConstants.Endpoints.Box.Buy,e)||this}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),!s.transactionUidValidate(this.data.txn))throw new c.InvalidTransactionUidError},e.prototype.format=function(){t.prototype.format.call(this),this.data.txn=(this.data.txn+"").toLowerCase()},e}(i.ReqMsgBase);r.ReqMsgAdminBoxBuyVerify=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../errors/InvalidTransactionUidError":"InvalidTransactionUidError","../PKConstants":"PKConstants"}],"ReqMsg.Base":[function(t,e,r){"use strict";cc._RF.push(e,"9f655wy4lhDk6nqI+YFnTOm","ReqMsg.Base"),Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgBase=void 0;var o=t("../../errors/InvalidActionError"),n=function(){function t(t,e){this.action=t,this.requestId=e}return t.prototype.validate=function(){},t.prototype.format=function(){if(!this.action||!this.data)throw new o.InvalidActionError},t}();r.ReqMsgBase=n,cc._RF.pop()},{"../../errors/InvalidActionError":"InvalidActionError"}],"ReqMsg.Box.Buy":[function(t,e,r){"use strict";cc._RF.push(e,"942ab5MBPRH7LuHuuyyRwzR","ReqMsg.Box.Buy");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgBoxBuy=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../PKConstants"),c=t("../../errors/InvalidTransactionUidError"),u=function(t){function e(e){return t.call(this,a.PKConstants.Endpoints.Box.Buy,e)||this}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),!s.transactionUidValidate(this.data.txn))throw new c.InvalidTransactionUidError},e.prototype.format=function(){t.prototype.format.call(this),this.data.txn=(this.data.txn+"").toLowerCase()},e}(i.ReqMsgBase);r.ReqMsgBoxBuy=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../errors/InvalidTransactionUidError":"InvalidTransactionUidError","../PKConstants":"PKConstants"}],"ReqMsg.Box.MyBox":[function(t,e,r){"use strict";cc._RF.push(e,"96aa2Dide5OZowzW7UuYdUj","ReqMsg.Box.MyBox");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgBoxMyBox=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Box.MyBox,e)||this}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgBoxMyBox=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Box.MyItems":[function(t,e,r){"use strict";cc._RF.push(e,"525c4UMkeNJoKd7Z+HB04K8","ReqMsg.Box.MyItems");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgBoxMyItems=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Box.MyItems,e)||this}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgBoxMyItems=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Box.Open":[function(t,e,r){"use strict";cc._RF.push(e,"e80c4aGIOhNoLVntgym3gJn","ReqMsg.Box.Open");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgBoxOpen=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../../utils/ObjectUtils"),c=t("../../errors/Box.Open.InvalidParams.Error"),u=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Box.Open,e)||this}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.dataId<=0)throw new c.BoxOpenInvalidParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.dataId=a.numberFormatter(this.data.dataId)},e}(i.ReqMsgBase);r.ReqMsgBoxOpen=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/Box.Open.InvalidParams.Error":"Box.Open.InvalidParams.Error","../PKConstants":"PKConstants"}],"ReqMsg.ChangeAvatar":[function(t,e,r){"use strict";cc._RF.push(e,"a1a0aXK+ZlJTqwuOssLL5VL","ReqMsg.ChangeAvatar");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgChangeAvatar=r.ChangeAvatarData=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=function(t){this.avatarDataId=t};r.ChangeAvatarData=c;var u=function(t){function e(e,r){var o=t.call(this,a.PKConstants.Endpoints.Character.ChangeAvatar,e)||this;return o.data=new c(r),o}return n(e,t),e.prototype.validate=function(){this.format()},e.prototype.format=function(){this.data.avatarDataId=s.numberFormatter(this.data.avatarDataId)},e}(i.ReqMsgBase);r.ReqMsgChangeAvatar=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../PKConstants":"PKConstants"}],"ReqMsg.EquipmentAdd":[function(t,e,r){"use strict";cc._RF.push(e,"613a3evDQpLlYIC+pKmHBsT","ReqMsg.EquipmentAdd");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgEquipmentAdd=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e,r){var o=t.call(this,s.PKConstants.Endpoints.Equipment.Add,e)||this;return o.data={equipmentDataIds:r},o}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgEquipmentAdd=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.EquipmentEquip":[function(t,e,r){"use strict";cc._RF.push(e,"0effdJBU9tM0ZE6Z+l7V4fh","ReqMsg.EquipmentEquip");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgEquipmentEquip=r.ReqMsgEquipmentEquipData=r.EquipDataItem=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants");r.EquipDataItem=function(){};r.ReqMsgEquipmentEquipData=function(){};var c=function(t){function e(e,r){var o=t.call(this,a.PKConstants.Endpoints.Equipment.Equip,e)||this;return o.data={equipDataItems:r},o}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this),this.data.equipDataItems.forEach(function(t){t.shipUid=s.numberFormatter(t.shipUid),t.equipmentUids.map(function(t){return s.numberFormatter(t)})})},e}(i.ReqMsgBase);r.ReqMsgEquipmentEquip=c,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../PKConstants":"PKConstants"}],"ReqMsg.EquipmentUnEquip":[function(t,e,r){"use strict";cc._RF.push(e,"7e1ee2Fag9GVoVahMjfOFfw","ReqMsg.EquipmentUnEquip");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgEquipmentUnEquip=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e,r){var o=t.call(this,s.PKConstants.Endpoints.Equipment.UnEquip,e)||this;return o.data={equipDataItems:r},o}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgEquipmentUnEquip=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.GachaShip":[function(t,e,r){"use strict";cc._RF.push(e,"d297bhE0MtN9bW0CNq9vNWg","ReqMsg.GachaShip");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgGachaShip=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Ship.GachaShip,e)||this}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgGachaShip=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.GetLoginCode":[function(t,e,r){"use strict";cc._RF.push(e,"1564b01WDxI269crSk1ySML","ReqMsg.GetLoginCode");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgGetLoginCode=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../../errors/InvalidWalletUidError"),c=t("../PKConstants"),u=function(t){function e(e,r){var o=t.call(this,c.PKConstants.Endpoints.Auth.GetLoginCode,e)||this;return o.data={publicAddress:r},o}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),!s.walletUidValidate(this.data.publicAddress))throw new a.InvalidWalletUidError},e.prototype.format=function(){t.prototype.format.call(this),this.data.publicAddress=(this.data.publicAddress+"").toLowerCase()},e}(i.ReqMsgBase);r.ReqMsgGetLoginCode=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../errors/InvalidWalletUidError":"InvalidWalletUidError","../PKConstants":"PKConstants"}],"ReqMsg.Login":[function(t,e,r){"use strict";cc._RF.push(e,"77658KCLtBLPqaxycdAuq6z","ReqMsg.Login");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgLogin=r.LoginData=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../../errors/InvalidWalletUidError"),c=t("../PKConstants");r.LoginData=function(){};var u=function(t){function e(e){var r=t.call(this,c.PKConstants.Endpoints.Character.Login,1)||this;return r.data=e,r}return n(e,t),e.prototype.validate=function(){if(this.format(),!s.walletUidValidate(this.data.walletUid))throw new a.InvalidWalletUidError},e.prototype.format=function(){this.data.walletUid=(this.data.walletUid+"").toLowerCase(),this.data.token=this.data.token+""},e}(i.ReqMsgBase);r.ReqMsgLogin=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../errors/InvalidWalletUidError":"InvalidWalletUidError","../PKConstants":"PKConstants"}],"ReqMsg.Market.Buy":[function(t,e,r){"use strict";cc._RF.push(e,"6815bvmIdhMbr5xNvE36RtC","ReqMsg.Market.Buy");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketBuy=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/Market.InvalidParams.Error"),u=function(){},p=function(t){function e(){var e=t.call(this,a.PKConstants.Endpoints.Market.Buy)||this;return e.data=new u,e}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.uid<=0)throw new c.MarketInvalidParamsError},e.prototype.format=function(){var e;t.prototype.format.call(this),this.data.uid=s.numberFormatter(null!==(e=this.data.uid)&&void 0!==e?e:0)},e}(i.ReqMsgBase);r.ReqMsgMarketBuy=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/Market.InvalidParams.Error":"Market.InvalidParams.Error","../PKConstants":"PKConstants"}],"ReqMsg.Market.Cancel":[function(t,e,r){"use strict";cc._RF.push(e,"af2ddQ2MCxPqqZCtAxWMcT2","ReqMsg.Market.Cancel");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketCancel=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/Market.InvalidParams.Error"),u=function(){},p=function(t){function e(){var e=t.call(this,a.PKConstants.Endpoints.Market.Cancel)||this;return e.data=new u,e}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.uid<=0)throw new c.MarketInvalidParamsError},e.prototype.format=function(){var e;t.prototype.format.call(this),this.data.uid=s.numberFormatter(null!==(e=this.data.uid)&&void 0!==e?e:0)},e}(i.ReqMsgBase);r.ReqMsgMarketCancel=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/Market.InvalidParams.Error":"Market.InvalidParams.Error","../PKConstants":"PKConstants"}],"ReqMsg.Market.MyHistory":[function(t,e,r){"use strict";cc._RF.push(e,"040fbmE5HRDF66GJ1C3loiR","ReqMsg.Market.MyHistory");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketMyHistory=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/Market.InvalidParams.Error"),u=function(){},p=function(t){function e(){var e=t.call(this,a.PKConstants.Endpoints.Market.List)||this;return e.data=new u,e}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.page<=0||this.data.limit<=0||[1,2].indexOf(this.data.type)<0)throw new c.MarketInvalidParamsError},e.prototype.format=function(){var e,r,o;t.prototype.format.call(this),this.data.page=s.numberFormatter(null!==(e=this.data.page)&&void 0!==e?e:1),this.data.limit=s.numberFormatter(null!==(r=this.data.limit)&&void 0!==r?r:a.PKConstants.Default.ItemPerPage),this.data.type=s.numberFormatter(null!==(o=this.data.type)&&void 0!==o?o:1)},e}(i.ReqMsgBase);r.ReqMsgMarketMyHistory=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/Market.InvalidParams.Error":"Market.InvalidParams.Error","../PKConstants":"PKConstants"}],"ReqMsg.Market.MyListing":[function(t,e,r){"use strict";cc._RF.push(e,"e1d1eU6/zRJILA1V56lZoO8","ReqMsg.Market.MyListing");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketMyListing=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(){},c=function(t){function e(){var e=t.call(this,s.PKConstants.Endpoints.Market.MyListing)||this;return e.data=new a,e}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgMarketMyListing=c,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Market.MyOffer":[function(t,e,r){"use strict";cc._RF.push(e,"1362cqlhBVFF6blTOQ7CB/1","ReqMsg.Market.MyOffer");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketMyOffer=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(){},c=function(t){function e(){var e=t.call(this,s.PKConstants.Endpoints.Market.MyOffer)||this;return e.data=new a,e}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgMarketMyOffer=c,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Market.Sell":[function(t,e,r){"use strict";cc._RF.push(e,"ac6aaFnVxVHJpFUAv+kyXPD","ReqMsg.Market.Sell");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketSell=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/Market.InvalidParams.Error"),u=function(){},p=function(t){function e(){var e=t.call(this,a.PKConstants.Endpoints.Market.Sell)||this;return e.data=new u,e}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.shipUid<=0||this.data.price<=0)throw new c.MarketInvalidParamsError},e.prototype.format=function(){var e,r;t.prototype.format.call(this),this.data.shipUid=s.numberFormatter(null!==(e=this.data.shipUid)&&void 0!==e?e:0),this.data.price=s.floatFormatter(null!==(r=this.data.price)&&void 0!==r?r:0)},e}(i.ReqMsgBase);r.ReqMsgMarketSell=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/Market.InvalidParams.Error":"Market.InvalidParams.Error","../PKConstants":"PKConstants"}],"ReqMsg.Market.TakeGold":[function(t,e,r){"use strict";cc._RF.push(e,"224808VMsRMz5krfrk8Iwui","ReqMsg.Market.TakeGold");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketTakeGold=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/Market.InvalidParams.Error"),u=function(){},p=function(t){function e(){var e=t.call(this,a.PKConstants.Endpoints.Market.TakeGold)||this;return e.data=new u,e}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.historyUid<=0)throw new c.MarketInvalidParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.historyUid=s.numberFormatter(this.data.historyUid)},e}(i.ReqMsgBase);r.ReqMsgMarketTakeGold=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/Market.InvalidParams.Error":"Market.InvalidParams.Error","../PKConstants":"PKConstants"}],"ReqMsg.MarketList":[function(t,e,r){"use strict";cc._RF.push(e,"97803LLaEREXLGowvqmnJoM","ReqMsg.MarketList");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketList=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/Market.InvalidParams.Error"),u=function(){},p=function(t){function e(){var e=t.call(this,a.PKConstants.Endpoints.Market.List)||this;return e.data=new u,e}return n(e,t),e.prototype.validate=function(){var e,r;if(this.format(),t.prototype.validate.call(this),this.data.page<=0||this.data.limit<=0||this.data.uid<0||(null===(e=this.data.shipTypeDataId)||void 0===e?void 0:e.every(function(t){return t<=0}))||(null===(r=this.data.shipDataId)||void 0===r?void 0:r.every(function(t){return t<=0}))||this.data.minPrice<0||this.data.maxPrice<0||this.data.priceOrder&&[-1,1].indexOf(this.data.priceOrder)<0)throw new c.MarketInvalidParamsError},e.prototype.format=function(){var e,r,o,n,i;t.prototype.format.call(this),this.data.page=s.numberFormatter(null!==(e=this.data.page)&&void 0!==e?e:1),this.data.limit=s.numberFormatter(null!==(r=this.data.limit)&&void 0!==r?r:a.PKConstants.Default.ItemPerPage),this.data.uid=s.numberFormatter(null!==(o=this.data.uid)&&void 0!==o?o:0),this.data.shipTypeDataId&&(this.data.shipTypeDataId=this.data.shipTypeDataId.map(function(t){return s.numberFormatter(t)})),this.data.shipDataId&&(this.data.shipDataId=this.data.shipDataId.map(function(t){return s.numberFormatter(t)})),this.data.minPrice=s.floatFormatter(null!==(n=this.data.minPrice)&&void 0!==n?n:0),this.data.maxPrice=s.floatFormatter(null!==(i=this.data.maxPrice)&&void 0!==i?i:0),this.data.priceOrder&&(this.data.priceOrder=s.numberFormatter(this.data.priceOrder))},e}(i.ReqMsgBase);r.ReqMsgMarketList=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/Market.InvalidParams.Error":"Market.InvalidParams.Error","../PKConstants":"PKConstants"}],"ReqMsg.PortUse":[function(t,e,r){"use strict";cc._RF.push(e,"16d87lpaXVMXo7mpo3NXuXH","ReqMsg.PortUse");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPortUse=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../../errors/PortUseInvalidParamsError"),c=t("../PKConstants"),u=function(t){function e(e,r){var o=t.call(this,c.PKConstants.Endpoints.Port.Use,e)||this;return o.data={portDataId:r},o}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.portDataId<=0)throw new a.PortUseInvalidParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.portDataId=s.numberFormatter(this.data.portDataId)},e}(i.ReqMsgBase);r.ReqMsgPortUse=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/PortUseInvalidParamsError":"PortUseInvalidParamsError","../PKConstants":"PKConstants"}],"ReqMsg.PveFinish":[function(t,e,r){"use strict";cc._RF.push(e,"f36a4zI/XxAYaPrZONx1sHY","ReqMsg.PveFinish");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPveFinish=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/ShipPveFinishParamsError"),u=function(t){function e(e,r){var o=t.call(this,a.PKConstants.Endpoints.Ship.PveFinish,e)||this;return o.data={historyId:r},o}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.historyId<=0)throw new c.ShipPveFinishParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.historyId=s.numberFormatter(this.data.historyId)},e}(i.ReqMsgBase);r.ReqMsgPveFinish=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/ShipPveFinishParamsError":"ShipPveFinishParamsError","../PKConstants":"PKConstants"}],"ReqMsg.PveStart":[function(t,e,r){"use strict";cc._RF.push(e,"c3c119OwShE978tYBslWpb/","ReqMsg.PveStart");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPveStart=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/ShipPveStartParamsError"),u=function(t){function e(e,r){var o=t.call(this,a.PKConstants.Endpoints.Ship.PveStart,e)||this;return o.data={shipUid:r},o}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.shipUid<=0)throw new c.ShipPveStartParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.shipUid=s.numberFormatter(this.data.shipUid)},e}(i.ReqMsgBase);r.ReqMsgPveStart=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/ShipPveStartParamsError":"ShipPveStartParamsError","../PKConstants":"PKConstants"}],"ReqMsg.Pvp.ClaimSessionReward":[function(t,e,r){"use strict";cc._RF.push(e,"e1c08xQZXhCLrE7xXqTMuCA","ReqMsg.Pvp.ClaimSessionReward");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpClaimSessionReward=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Pvp.ClaimSessionReward,e)||this}return n(e,t),e}(i.ReqMsgBase);r.ReqMsgPvpClaimSessionReward=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Pvp.FinishCombat":[function(t,e,r){"use strict";cc._RF.push(e,"6ce66iSwrtPtYbxitFzYNKm","ReqMsg.Pvp.FinishCombat");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpFinishCombat=r.ReqMsgPvpFinishCombatData=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../dataLoader/IslandPathData"),u=t("../../errors/Pvp.Session.FinishCombat.InvalidParam.Error");r.ReqMsgPvpFinishCombatData=function(){};var p=function(t){function e(e){return t.call(this,a.PKConstants.Endpoints.Pvp.FinishCombat,e)||this}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),c.IslandPathKey.indexOf(this.data.path)<0||this.data.combatUid<=0||this.data.shipUid<=0)throw new u.PvpSessionFinishCombatInvalidParamError},e.prototype.format=function(){t.prototype.format.call(this),this.data.combatUid=s.numberFormatter(this.data.combatUid),this.data.shipUid=s.numberFormatter(this.data.shipUid)},e}(i.ReqMsgBase);r.ReqMsgPvpFinishCombat=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../dataLoader/IslandPathData":"IslandPathData","../../errors/Pvp.Session.FinishCombat.InvalidParam.Error":"Pvp.Session.FinishCombat.InvalidParam.Error","../PKConstants":"PKConstants"}],"ReqMsg.Pvp.JoinSession":[function(t,e,r){"use strict";cc._RF.push(e,"a74f54JEjZAp7+Fp8Z8uYdw","ReqMsg.Pvp.JoinSession");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpJoinSession=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Pvp.JoinSession,e)||this}return n(e,t),e}(i.ReqMsgBase);r.ReqMsgPvpJoinSession=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Pvp.MyMessages":[function(t,e,r){"use strict";cc._RF.push(e,"c568f920dNNd58wseAQDGKF","ReqMsg.Pvp.MyMessages");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpMyMessages=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Pvp.MyMessages,e)||this}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgPvpMyMessages=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Pvp.MySessionInfo":[function(t,e,r){"use strict";cc._RF.push(e,"24b70B7KsdHPqWP3CqThZu9","ReqMsg.Pvp.MySessionInfo");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpMySessionInfo=r.ReqMsgPvpMySessionInfoData=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants");r.ReqMsgPvpMySessionInfoData=function(){};var a=function(t){function e(e,r){var o=t.call(this,s.PKConstants.Endpoints.Pvp.MyInfo,e)||this;return o.data=r,o}return n(e,t),e}(i.ReqMsgBase);r.ReqMsgPvpMySessionInfo=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Pvp.PrizeDistributionCron":[function(t,e,r){"use strict";cc._RF.push(e,"f642fTl7wBA54bS/iIayUiE","ReqMsg.Pvp.PrizeDistributionCron");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpPrizeDistributionCron=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Pvp.PrizeDistributionCron,e)||this}return n(e,t),e}(i.ReqMsgBase);r.ReqMsgPvpPrizeDistributionCron=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Pvp.SendMessage":[function(t,e,r){"use strict";cc._RF.push(e,"2319fBDUL5DYL0wCtFm+sSx","ReqMsg.Pvp.SendMessage");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpSendMessage=r.ReqMsgPvpSendMessageData=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/Pvp.Session.SendMessage.InvalidParam.Error");r.ReqMsgPvpSendMessageData=function(){};var u=function(t){function e(e){return t.call(this,a.PKConstants.Endpoints.Pvp.SendMessage,e)||this}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.combatUid<=0)throw new c.PvpSessionSendMessageInvalidParamError},e.prototype.format=function(){t.prototype.format.call(this),this.data.combatUid=s.numberFormatter(this.data.combatUid),this.data.msg=(this.data.msg+"").trim().replace(/<.*?>/gm,"")},e}(i.ReqMsgBase);r.ReqMsgPvpSendMessage=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/Pvp.Session.SendMessage.InvalidParam.Error":"Pvp.Session.SendMessage.InvalidParam.Error","../PKConstants":"PKConstants"}],"ReqMsg.Pvp.SessionRewardStatus":[function(t,e,r){"use strict";cc._RF.push(e,"65c3d1HZ1RBr6Ed36eIdj+1","ReqMsg.Pvp.SessionRewardStatus");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpSessionRewardStatus=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Pvp.SessionRewardStatus,e)||this}return n(e,t),e}(i.ReqMsgBase);r.ReqMsgPvpSessionRewardStatus=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Pvp.StartCombat":[function(t,e,r){"use strict";cc._RF.push(e,"b011dXu1tJEOoyUmlQ0EABb","ReqMsg.Pvp.StartCombat");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpStartCombat=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Pvp.StartCombat,e)||this}return n(e,t),e}(i.ReqMsgBase);r.ReqMsgPvpStartCombat=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.PvpSpinReward":[function(t,e,r){"use strict";cc._RF.push(e,"e17e6DUSuxKNJrm3pNjsZXi","ReqMsg.PvpSpinReward");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpSpinReward=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../../errors/PvpInvalidSpinTimesError"),c=t("../PKConstants"),u=function(t){function e(e,r){var o=t.call(this,c.PKConstants.Endpoints.Pvp.SpinReward,e)||this;return o.data={times:r},o}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.times<=0)throw new a.PvpInvalidSpinTimesError},e.prototype.format=function(){t.prototype.format.call(this),this.data.times=s.numberFormatter(this.data.times||1)},e}(i.ReqMsgBase);r.ReqMsgPvpSpinReward=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/PvpInvalidSpinTimesError":"PvpInvalidSpinTimesError","../PKConstants":"PKConstants"}],"ReqMsg.PvpUpdateIslandPath":[function(t,e,r){"use strict";cc._RF.push(e,"4421azkoL9PhIZgXCGP/VSx","ReqMsg.PvpUpdateIslandPath");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpUpdateIslandPath=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../errors/PvpUpdateIslandPathInvalidParamsError"),c=t("../../dataLoader/IslandPathData"),u=function(t){function e(e,r){var o=t.call(this,s.PKConstants.Endpoints.Pvp.UpdateIslandPath,e)||this;return o.data={path:r},o}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),c.IslandPathKey.indexOf(this.data.path)<0)throw new a.PvpUpdateIslandPathInvalidParamsError},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgPvpUpdateIslandPath=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../dataLoader/IslandPathData":"IslandPathData","../../errors/PvpUpdateIslandPathInvalidParamsError":"PvpUpdateIslandPathInvalidParamsError","../PKConstants":"PKConstants"}],"ReqMsg.PvpUpdateIsland":[function(t,e,r){"use strict";cc._RF.push(e,"6ae39bN5kFDhLcOcVkdfkbw","ReqMsg.PvpUpdateIsland");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpUpdateIsland=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Pvp.UpdateIsland,e)||this}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgPvpUpdateIsland=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Rename":[function(t,e,r){"use strict";cc._RF.push(e,"5d556O8baVLCIVqwC+N3PZ+","ReqMsg.Rename");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgRename=r.RenameData=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../errors/CharacterRenameParamsError"),c=function(t){this.username=t};r.RenameData=c;var u=function(t){function e(e,r){var o=t.call(this,s.PKConstants.Endpoints.Character.Rename,e)||this;return o.data=new c(r),o}return n(e,t),e.prototype.validate=function(){if(this.format(),this.data.username.length<3||this.data.username.length>50)throw new a.CharacterRenameParamsError},e.prototype.format=function(){this.data.username=(this.data.username+"").trim()},e}(i.ReqMsgBase);r.ReqMsgRename=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../errors/CharacterRenameParamsError":"CharacterRenameParamsError","../PKConstants":"PKConstants"}],"ReqMsg.RewardClaimAll":[function(t,e,r){"use strict";cc._RF.push(e,"bb597KT7eVON5qw+swBXN0v","ReqMsg.RewardClaimAll");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgRewardClaimAll=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Reward.ClaimAll,e)||this}return n(e,t),e}(i.ReqMsgBase);r.ReqMsgRewardClaimAll=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.RewardClaim":[function(t,e,r){"use strict";cc._RF.push(e,"61685VTxUFJQbAteitDoTjx","ReqMsg.RewardClaim");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgRewardClaim=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../../utils/ObjectUtils"),c=t("../../errors/RewardInvalidUidError"),u=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Reward.Claim,e)||this}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.rewardUid<=0)throw new c.RewardInvalidUidError},e.prototype.format=function(){t.prototype.format.call(this),this.data.rewardUid=a.numberFormatter(this.data.rewardUid)},e}(i.ReqMsgBase);r.ReqMsgRewardClaim=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/RewardInvalidUidError":"RewardInvalidUidError","../PKConstants":"PKConstants"}],"ReqMsg.RewardList":[function(t,e,r){"use strict";cc._RF.push(e,"b7fe3cN/v5KB4m7koCXkfp4","ReqMsg.RewardList");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgRewardList=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../../utils/ObjectUtils"),c=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Reward.List,e)||this}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this),this.data.page<=0&&(this.data.page=1)},e.prototype.format=function(){t.prototype.format.call(this),this.data.page=a.numberFormatter(this.data.page)},e}(i.ReqMsgBase);r.ReqMsgRewardList=c,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../PKConstants":"PKConstants"}],"ReqMsg.ShipReload":[function(t,e,r){"use strict";cc._RF.push(e,"e1689ETF+lJQ7wpRiP1nFQ/","ReqMsg.ShipReload");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgShipReload=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Ship.Reload,e)||this}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgShipReload=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.ShipRepair":[function(t,e,r){"use strict";cc._RF.push(e,"717f1vfLHhFn4aCXuzqW8LX","ReqMsg.ShipRepair");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgShipRepair=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../../utils/ObjectUtils"),c=t("../../errors/ShipRepairInvalidParamsError"),u=function(t){function e(e,r){var o=t.call(this,s.PKConstants.Endpoints.Ship.Repair,e)||this;return o.data={shipUid:r},o}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.shipUid<=0)throw new c.ShipRepairInvalidParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.shipUid=a.numberFormatter(this.data.shipUid)},e}(i.ReqMsgBase);r.ReqMsgShipRepair=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/ShipRepairInvalidParamsError":"ShipRepairInvalidParamsError","../PKConstants":"PKConstants"}],"ReqMsg.ShopBuy":[function(t,e,r){"use strict";cc._RF.push(e,"6ac39qYVXFK+K9Q07TPdJeq","ReqMsg.ShopBuy");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgShopBuy=r.ReqMsgShopBuyData=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../../errors/InvalidWalletUidError"),c=t("../../../utils/ObjectUtils"),u=t("../../errors/ShopBuyInvalidParamsError");r.ReqMsgShopBuyData=function(){};var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),!s.walletUidValidate(this.data.characterWalletUid))throw new a.InvalidWalletUidError;if(this.data.shopDataId<=0||this.data.shopItemUid<=0||this.data.quantity<=0)throw new u.ShopBuyInvalidParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.shopDataId=c.numberFormatter(this.data.shopDataId),this.data.shopItemUid=c.numberFormatter(this.data.shopItemUid),this.data.quantity=c.numberFormatter(this.data.quantity),this.data.characterWalletUid=(this.data.characterWalletUid+"").toLowerCase()},e}(i.ReqMsgBase);r.ReqMsgShopBuy=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../../utils/ObjectUtils":"ObjectUtils","../../errors/InvalidWalletUidError":"InvalidWalletUidError","../../errors/ShopBuyInvalidParamsError":"ShopBuyInvalidParamsError"}],"ReqMsg.ShopDetail":[function(t,e,r){"use strict";cc._RF.push(e,"68e63ErKUZIV6Zq0wtci5rL","ReqMsg.ShopDetail");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgShopDetail=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this),this.data.shopDataIds.map(function(t){return s.numberFormatter(t)})},e}(i.ReqMsgBase);r.ReqMsgShopDetail=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils"}],"ReqMsg.ShopList":[function(t,e,r){"use strict";cc._RF.push(e,"1e32fCLbO5ICZ73SN1TqLc7","ReqMsg.ShopList");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgShopList=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Shop.List,e)||this}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgShopList=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.SignatureVerify":[function(t,e,r){"use strict";cc._RF.push(e,"b30f5LwimNBRKgHkdJeTUEq","ReqMsg.SignatureVerify");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgSignatureVerify=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../../errors/InvalidWalletUidError"),c=t("../../errors/InvalidSignatureError"),u=t("../PKConstants"),p=function(t){function e(e){return t.call(this,u.PKConstants.Endpoints.Auth.VerifySignature,e)||this}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),!s.walletUidValidate(this.data.publicAddress))throw new a.InvalidWalletUidError;if(this.data.signature.length<=0)throw new c.InvalidSignatureError},e.prototype.format=function(){t.prototype.format.call(this),this.data.publicAddress=(this.data.publicAddress+"").toLowerCase(),this.data.signature=this.data.signature+""},e}(i.ReqMsgBase);r.ReqMsgSignatureVerify=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../errors/InvalidSignatureError":"InvalidSignatureError","../../errors/InvalidWalletUidError":"InvalidWalletUidError","../PKConstants":"PKConstants"}],"ReqMsg.TokenDeposit":[function(t,e,r){"use strict";cc._RF.push(e,"435eaUJJY5MB7WDQNme2NaR","ReqMsg.TokenDeposit");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgTokenDeposit=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../PKConstants"),c=t("../../errors/InvalidTransactionUidError"),u=function(t){function e(e){return t.call(this,a.PKConstants.Endpoints.Token.Deposit,e)||this}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),!s.transactionUidValidate(this.data.txn))throw new c.InvalidTransactionUidError},e.prototype.format=function(){t.prototype.format.call(this),this.data.txn=(this.data.txn+"").toLowerCase()},e}(i.ReqMsgBase);r.ReqMsgTokenDeposit=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../errors/InvalidTransactionUidError":"InvalidTransactionUidError","../PKConstants":"PKConstants"}],"ReqMsg.TokenHistory":[function(t,e,r){"use strict";cc._RF.push(e,"29185Jm/iJJWr/mt/AJyWSI","ReqMsg.TokenHistory");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgTokenHistory=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../../utils/ObjectUtils"),c=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Token.History,e)||this}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this),this.data.page<=0&&(this.data.page=1)},e.prototype.format=function(){t.prototype.format.call(this),this.data.page=a.numberFormatter(this.data.page)},e}(i.ReqMsgBase);r.ReqMsgTokenHistory=c,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../PKConstants":"PKConstants"}],"ReqMsg.TokenMyInfo":[function(t,e,r){"use strict";cc._RF.push(e,"df05eO9KbtH8pYCdE/CuxJu","ReqMsg.TokenMyInfo");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgTokenMyInfo=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Token.MyInfo,e)||this}return n(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgTokenMyInfo=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.TokenWithdrawal":[function(t,e,r){"use strict";cc._RF.push(e,"7903eN/kiZOh7w8finbkSj5","ReqMsg.TokenWithdrawal");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgTokenWithdrawal=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../../utils/ObjectUtils"),c=t("../../errors/Token.Withdrawal.InvalidParamsError"),u=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Token.Withdrawal,e)||this}return n(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.amount<=0)throw new c.TokenWithdrawalInvalidParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.amount=a.floatFormatter(this.data.amount||0)},e}(i.ReqMsgBase);r.ReqMsgTokenWithdrawal=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/Token.Withdrawal.InvalidParamsError":"Token.Withdrawal.InvalidParamsError","../PKConstants":"PKConstants"}],"ResMsg.Admin.BoxBuyVerify":[function(t,e,r){"use strict";cc._RF.push(e,"8bf95O6O6JHYaWX3Lzh+3XA","ResMsg.Admin.BoxBuyVerify");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgAdminBoxBuyVerify=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgAdminBoxBuyVerify=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Base":[function(t,e,r){"use strict";cc._RF.push(e,"00a8c0Vhm1JopL4NrcDk26c","ResMsg.Base"),Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgBase=void 0;var o=t("../../errors/ErrorCode");r.ResMsgBase=function(t){this.code=o.ErrorCode.NO_ERROR,this.requestId=t},cc._RF.pop()},{"../../errors/ErrorCode":"ErrorCode"}],"ResMsg.Box.Buy":[function(t,e,r){"use strict";cc._RF.push(e,"b3af0uegg1GSqlnoeYbWOBm","ResMsg.Box.Buy");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgBoxBuy=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgBoxBuy=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Box.MyBox":[function(t,e,r){"use strict";cc._RF.push(e,"c88dblChX1AmqSrdLWdmWUc","ResMsg.Box.MyBox");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgBoxMyBox=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgBoxMyBox=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Box.MyItems":[function(t,e,r){"use strict";cc._RF.push(e,"e2508iZ1kdIT6boq0GQpNZD","ResMsg.Box.MyItems");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgBoxMyItems=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgBoxMyItems=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Box.Open":[function(t,e,r){"use strict";cc._RF.push(e,"18cc1+o+kdEhI+JZwENKmYH","ResMsg.Box.Open");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgBoxOpen=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgBoxOpen=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.EquipmentAdd":[function(t,e,r){"use strict";cc._RF.push(e,"535d7mpu6RBsoVY/w+w1t/C","ResMsg.EquipmentAdd");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgEquipmentAdd=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.newEquipments=t},a=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=new s(r),o}return n(e,t),e}(i.ResMsgBase);r.ResMsgEquipmentAdd=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.GachaShip":[function(t,e,r){"use strict";cc._RF.push(e,"8dec2Pl7axPP5m8a1seN6c8","ResMsg.GachaShip");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgGachaShip=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.newShips=t},a=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=new s(r),o}return n(e,t),e}(i.ResMsgBase);r.ResMsgGachaShip=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.GeneralMsg":[function(t,e,r){"use strict";cc._RF.push(e,"73f9cGSzeVD/pEdkWr37DRm","ResMsg.GeneralMsg");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgGeneralMsg=void 0;var i=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgGeneralMsg=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.GetLoginCode":[function(t,e,r){"use strict";cc._RF.push(e,"1aadew9zipH3qVzHb6vQ3sP","ResMsg.GetLoginCode");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgGetLoginCode=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.loginCode=t},a=function(t){function e(e){var r=t.call(this,0)||this;return r.data=new s(e),r}return n(e,t),e}(i.ResMsgBase);r.ResMsgGetLoginCode=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Market.Buy":[function(t,e,r){"use strict";cc._RF.push(e,"09251rYt4FHdJQBRDi7Jwwq","ResMsg.Market.Buy");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgMarketBuy=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgMarketBuy=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Market.Cancel":[function(t,e,r){"use strict";cc._RF.push(e,"7b6b4yWbvZE2bGMHAZhAMmt","ResMsg.Market.Cancel");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgMarketCancel=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgMarketCancel=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Market.List":[function(t,e,r){"use strict";cc._RF.push(e,"0144e53fbpE6a3TCD1EDtOF","ResMsg.Market.List");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgMarketList=r.MarketListData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.MarketListData=function(){};var s=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(i.ResMsgBase);r.ResMsgMarketList=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Market.MyListing":[function(t,e,r){"use strict";cc._RF.push(e,"95399jF6xNFkJ8pHWtwrqV+","ResMsg.Market.MyListing");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgMarketMyListing=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgMarketMyListing=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Market.MyOffer":[function(t,e,r){"use strict";cc._RF.push(e,"dd490sby6dAt5FSGxOOb+75","ResMsg.Market.MyOffer");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgMarketMyOffer=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgMarketMyOffer=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Market.Sell":[function(t,e,r){"use strict";cc._RF.push(e,"2357aGEtZ1NQ41bBeMcxlP1","ResMsg.Market.Sell");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgMarketSell=r.MarketItem=void 0;var i=t("../../../entity/res/ResMsg.Base");r.MarketItem=function(){};var s=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(i.ResMsgBase);r.ResMsgMarketSell=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Market.TakeGold":[function(t,e,r){"use strict";cc._RF.push(e,"ce75a+jmmxJRpZ7hYcLgPoc","ResMsg.Market.TakeGold");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgMarketTakeGold=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgMarketTakeGold=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.PveFinish":[function(t,e,r){"use strict";cc._RF.push(e,"dc7f8tZ6btN2oNJLcYIXxyT","ResMsg.PveFinish");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPveFinish=r.PveFinishData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.PveFinishData=function(){};var s=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(i.ResMsgBase);r.ResMsgPveFinish=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.PveStart":[function(t,e,r){"use strict";cc._RF.push(e,"7c2d1J0IzZK9oK1wb1REQnM","ResMsg.PveStart");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPveStart=r.PveStartData=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("../state/ShipHistory.state").ShipHistoryState);r.PveStartData=s;var a=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(i.ResMsgBase);r.ResMsgPveStart=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base","../state/ShipHistory.state":"ShipHistory.state"}],"ResMsg.Pvp.ClaimSessionReward":[function(t,e,r){"use strict";cc._RF.push(e,"10fcbJZSDdEjo8WSSZCAtlF","ResMsg.Pvp.ClaimSessionReward");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPvpClaimSessionReward=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgPvpClaimSessionReward=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Pvp.FinishCombat":[function(t,e,r){"use strict";cc._RF.push(e,"29150bn3shEqpDhNpdiMoeh","ResMsg.Pvp.FinishCombat");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPvpFinishCombat=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgPvpFinishCombat=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Pvp.JoinSession":[function(t,e,r){"use strict";cc._RF.push(e,"990d3cOcxhLWKG8J6UjgKOw","ResMsg.Pvp.JoinSession");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPvpJoinSession=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgPvpJoinSession=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Pvp.MyMessages":[function(t,e,r){"use strict";cc._RF.push(e,"28585YlrKtOI7wX4DP5MkHV","ResMsg.Pvp.MyMessages");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPvpMyMessages=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgPvpMyMessages=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Pvp.MySessionInfo":[function(t,e,r){"use strict";cc._RF.push(e,"b0529oPU95MKKkdgkEWYSeg","ResMsg.Pvp.MySessionInfo");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPvpMySessionInfo=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgPvpMySessionInfo=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Pvp.SendMessage":[function(t,e,r){"use strict";cc._RF.push(e,"8e086JIIIlATp0tM8uK1dYY","ResMsg.Pvp.SendMessage");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPvpSendMessage=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgPvpSendMessage=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Pvp.SessionRewardStatus":[function(t,e,r){"use strict";cc._RF.push(e,"c27faVJUO1N5ajWkZ1HMKcy","ResMsg.Pvp.SessionRewardStatus");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPvpSessionRewardStatus=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgPvpSessionRewardStatus=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Pvp.StartCombat":[function(t,e,r){"use strict";cc._RF.push(e,"6e66bBj14tJJoa+DXkRBzVi","ResMsg.Pvp.StartCombat");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPvpStartCombat=r.PvpStartCombatData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.PvpStartCombatData=function(){};var s=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(i.ResMsgBase);r.ResMsgPvpStartCombat=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.PvpSpinReward":[function(t,e,r){"use strict";cc._RF.push(e,"86765ACRDtI7ptIhpHbX1d/","ResMsg.PvpSpinReward");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPvpSpinReward=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgPvpSpinReward=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.RewardClaimAll":[function(t,e,r){"use strict";cc._RF.push(e,"045d4Li+cBIhoptzk5CtNzK","ResMsg.RewardClaimAll");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgRewardClaimAll=r.RewardClaimAllData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.RewardClaimAllData=function(){};var s=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(i.ResMsgBase);r.ResMsgRewardClaimAll=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.RewardClaim":[function(t,e,r){"use strict";cc._RF.push(e,"c23efXYes1GfK/cCYEj75Br","ResMsg.RewardClaim");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgRewardClaim=r.RewardClaimData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.RewardClaimData=function(){};var s=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(i.ResMsgBase);r.ResMsgRewardClaim=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.RewardList":[function(t,e,r){"use strict";cc._RF.push(e,"57b8bjZcS1HQbCieR+yrY9+","ResMsg.RewardList");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgRewardList=r.RewardListData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.RewardListData=function(){};var s=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(i.ResMsgBase);r.ResMsgRewardList=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.ShipReload":[function(t,e,r){"use strict";cc._RF.push(e,"fc71c6+mtZEFYE+kxcUZGh4","ResMsg.ShipReload");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgShipReload=r.ShipReloadData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.ShipReloadData=function(){};var s=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(i.ResMsgBase);r.ResMsgShipReload=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.ShopBuy":[function(t,e,r){"use strict";cc._RF.push(e,"9b781zJ2CtIhpzi5Lvcbx4W","ResMsg.ShopBuy");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgShopBuy=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.shop=t},a=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=new s(r),o}return n(e,t),e}(i.ResMsgBase);r.ResMsgShopBuy=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.ShopList":[function(t,e,r){"use strict";cc._RF.push(e,"c825cglWAdNfacR3x5ZXkru","ResMsg.ShopList");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgShopList=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.shops=t},a=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=new s(r),o}return n(e,t),e}(i.ResMsgBase);r.ResMsgShopList=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.SignatureVerify":[function(t,e,r){"use strict";cc._RF.push(e,"e87fdaNLflM6Kx9A6RMQUjC","ResMsg.SignatureVerify");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgSignatureVerify=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.nonce=t},a=function(t){function e(e){var r=t.call(this,0)||this;return r.data=new s(e),r}return n(e,t),e}(i.ResMsgBase);r.ResMsgSignatureVerify=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.TokenDeposit":[function(t,e,r){"use strict";cc._RF.push(e,"56383Sij+pCGq3MCmri8Sbc","ResMsg.TokenDeposit");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgTokenDeposit=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgTokenDeposit=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.TokenHistory":[function(t,e,r){"use strict";cc._RF.push(e,"f1990oioaZHFL10ZZGr8/FP","ResMsg.TokenHistory");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgTokenHistory=r.TokenHistoryData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.TokenHistoryData=function(){};var s=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(i.ResMsgBase);r.ResMsgTokenHistory=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.TokenMyInfo":[function(t,e,r){"use strict";cc._RF.push(e,"b50d4J04XxEc44j1sNjprtg","ResMsg.TokenMyInfo");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgTokenMyInfo=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgTokenMyInfo=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.TokenWithdrawal":[function(t,e,r){"use strict";cc._RF.push(e,"919d4ptZhtHv59L6AMQKN+R","ResMsg.TokenWithdrawal");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgTokenWithdrawal=void 0;var i=function(t){function e(e,r){var o=t.call(this,e)||this;return o.data=r,o}return n(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgTokenWithdrawal=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.WebShopDetail":[function(t,e,r){"use strict";cc._RF.push(e,"6b9c9odRa9CNbzr6x+7wC9Q","ResMsg.WebShopDetail");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgWebShopDetail=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.shop=t},a=function(t){function e(e){var r=t.call(this,0)||this;return r.data=new s(e),r}return n(e,t),e}(i.ResMsgBase);r.ResMsgWebShopDetail=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"Resource.state":[function(t,e,r){"use strict";cc._RF.push(e,"75871TFzlBOs5pc+6avIYJ6","Resource.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.ResourceState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataId=0,e.quantity=0,e}return n(e,t),i([s.type("number")],e.prototype,"dataId",void 0),i([s.type("number")],e.prototype,"quantity",void 0),i([s.type("number")],e.prototype,"maxQuantity",void 0),i([s.type("number")],e.prototype,"lastRecoveryTime",void 0),i([s.type("number")],e.prototype,"recoveryPoint",void 0),e}(s.Schema);r.ResourceState=a,cc._RF.pop()},{"@colyseus/schema":3}],ResourceNotEnoughError:[function(t,e,r){"use strict";cc._RF.push(e,"bc232Ab/7hNXobxCG+0weMr","ResourceNotEnoughError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ResourceNotEnoughError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.RESOURCE_NOT_ENOUGH,"RESOURCE_NOT_ENOUGH")||this}return n(e,t),e}(s.default);r.ResourceNotEnoughError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ResourceTypeData:[function(t,e,r){"use strict";cc._RF.push(e,"887f8/WMJ5EGbNJVZb4PIjZ","ResourceTypeData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResourceTypeData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.ResourceTypeData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],"Reward.state":[function(t,e,r){"use strict";cc._RF.push(e,"bfeb2P7wStEP6VsB3oc01Kw","Reward.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.RewardState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),i([s.type("number")],e.prototype,"uid",void 0),i([s.type("string")],e.prototype,"characterWalletUid",void 0),i([s.type("number")],e.prototype,"shipUid",void 0),i([s.type("number")],e.prototype,"shipDataId",void 0),i([s.type("number")],e.prototype,"goldReward",void 0),i([s.type("number")],e.prototype,"createdAt",void 0),i([s.type("number")],e.prototype,"claimedAt",void 0),i([s.type("number")],e.prototype,"claimedTax",void 0),i([s.type("number")],e.prototype,"claimedGold",void 0),e}(s.Schema);r.RewardState=a,cc._RF.pop()},{"@colyseus/schema":3}],RewardClaimedError:[function(t,e,r){"use strict";cc._RF.push(e,"d3196RshoREXpzVeQIsMOZM","RewardClaimedError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.RewardClaimedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.REWARD_NOT_CLAIMED,"REWARD_NOT_CLAIMED")||this}return n(e,t),e}(s.default);r.RewardClaimedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],RewardInvalidUidError:[function(t,e,r){"use strict";cc._RF.push(e,"09f8c31FFZMkapsWjmeTFaj","RewardInvalidUidError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.RewardInvalidUidError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.REWARD_INVALID_UID,"REWARD_INVALID_UID")||this}return n(e,t),e}(s.default);r.RewardInvalidUidError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],RewardNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"7a32acCNm1CRrBqlenc/Lc0","RewardNotFoundError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.RewardNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.REWARD_NOT_FOUND,"REWARD_NOT_FOUND")||this}return n(e,t),e}(s.default);r.RewardNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],SessionExpiredError:[function(t,e,r){"use strict";cc._RF.push(e,"8adb7DxHzRPMa+fmW1w6cPT","SessionExpiredError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.SessionExpiredError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SESSION_EXPIRED,"Session expired")||this}return n(e,t),e}(s.default);r.SessionExpiredError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Ship.Unrepairable.Error":[function(t,e,r){"use strict";cc._RF.push(e,"8e411EUZAJLxZD2rjPj3bVs","Ship.Unrepairable.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipUnrepairableError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_UNREPAIRABLE,"SHIP_UNREPAIRABLE")||this}return n(e,t),e}(s.default);r.ShipUnrepairableError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Ship.state":[function(t,e,r){"use strict";cc._RF.push(e,"7b542AV0qlEi5Fa/+xjy9ia","Ship.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipState=void 0;var a=t("@colyseus/schema"),c=t("./Resource.state"),u=t("./Stats.state"),p=s(t("moment")),l=t("./EquipmentState"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uid=0,e.dataId=0,e.level=1,e.exp=0,e.durability=1/0,e.bullet=new c.ResourceState,e.equipments=new a.ArraySchema,e.bonusStats=new u.StatsState,e.stats=new u.StatsState,e.lastDurabilityCheckTime=0,e.repairTimes=0,e.unrepairable=!1,e.createdAt=p.default().valueOf(),e.boughtAt=p.default().valueOf(),e}return n(e,t),i([a.type("number")],e.prototype,"uid",void 0),i([a.type("string")],e.prototype,"characterWalletUid",void 0),i([a.type("number")],e.prototype,"dataId",void 0),i([a.type("number")],e.prototype,"level",void 0),i([a.type("number")],e.prototype,"exp",void 0),i([a.type("number")],e.prototype,"durability",void 0),i([a.type(c.ResourceState)],e.prototype,"bullet",void 0),i([a.type({array:l.EquipmentState})],e.prototype,"equipments",void 0),i([a.type(u.StatsState)],e.prototype,"bonusStats",void 0),i([a.type(u.StatsState)],e.prototype,"stats",void 0),i([a.type("number")],e.prototype,"lastDurabilityCheckTime",void 0),i([a.type("number")],e.prototype,"repairTimes",void 0),i([a.type("boolean")],e.prototype,"unrepairable",void 0),i([a.type("number")],e.prototype,"createdAt",void 0),i([a.type("number")],e.prototype,"boughtAt",void 0),e}(a.Schema);r.ShipState=f,cc._RF.pop()},{"./EquipmentState":"EquipmentState","./Resource.state":"Resource.state","./Stats.state":"Stats.state","@colyseus/schema":3,moment:34}],ShipCell:[function(t,e,r){"use strict";cc._RF.push(e,"f6b96duuX1IcoFHryd77TJP","ShipCell");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.avatar=null,e.numbTurn=null,e.selected=null,e.data=null,e.callback=null,e}return n(e,t),e.prototype.setData=function(t,e){this.index=e,this.data=t,this.numbTurn.string=t.bullet.quantity.toString(),this.avatar.spriteFrame=a.default.instance.getVisualById(t.dataId)},e.prototype.onSelect=function(){null!=this.callback&&this.callback(this.index)},i([p(cc.Sprite)],e.prototype,"avatar",void 0),i([p(cc.Label)],e.prototype,"numbTurn",void 0),i([p(cc.Node)],e.prototype,"selected",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../../Manager/GameManager":"GameManager"}],ShipData:[function(t,e,r){"use strict";cc._RF.push(e,"6935enrmNBFZZJOvvdRFq5O","ShipData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ShipData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.ShipData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],"ShipEquipment.state":[function(t,e,r){"use strict";cc._RF.push(e,"d794f1YsKhE8JpvfbeYnLiN","ShipEquipment.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipEquipmentState=void 0;var s=t("@colyseus/schema"),a=t("./EquipmentState"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cannon=new a.EquipmentState,e.bullet=new a.EquipmentState,e.sail=new a.EquipmentState,e.flag=new a.EquipmentState,e.head=new a.EquipmentState,e}return n(e,t),i([s.type(a.EquipmentState)],e.prototype,"cannon",void 0),i([s.type(a.EquipmentState)],e.prototype,"bullet",void 0),i([s.type(a.EquipmentState)],e.prototype,"sail",void 0),i([s.type(a.EquipmentState)],e.prototype,"flag",void 0),i([s.type(a.EquipmentState)],e.prototype,"head",void 0),e}(s.Schema);r.ShipEquipmentState=c,cc._RF.pop()},{"./EquipmentState":"EquipmentState","@colyseus/schema":3}],"ShipHistory.state":[function(t,e,r){"use strict";cc._RF.push(e,"a65fa+UU45I/JAURMHKasWg","ShipHistory.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipHistoryState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),i([s.type("number")],e.prototype,"uid",void 0),i([s.type("string")],e.prototype,"characterWalletUid",void 0),i([s.type("number")],e.prototype,"shipUid",void 0),i([s.type("number")],e.prototype,"shipDataId",void 0),i([s.type("number")],e.prototype,"monsterDataId",void 0),i([s.type("number")],e.prototype,"randomSeed",void 0),i([s.type("number")],e.prototype,"createdAt",void 0),i([s.type("number")],e.prototype,"finishedAt",void 0),i([s.type("number")],e.prototype,"rewardLevelId",void 0),i([s.type("number")],e.prototype,"goldReward",void 0),i([s.type("number")],e.prototype,"expReward",void 0),i([s.type("boolean")],e.prototype,"isSkip",void 0),e}(s.Schema);r.ShipHistoryState=a,cc._RF.pop()},{"@colyseus/schema":3}],ShipLimitError:[function(t,e,r){"use strict";cc._RF.push(e,"dbd85TRix5NeJNs2L+j3oeK","ShipLimitError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipLimitError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_LIMIT,"SHIP_LIMIT")||this}return n(e,t),e}(s.default);r.ShipLimitError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipNeedRepairError:[function(t,e,r){"use strict";cc._RF.push(e,"1d5ecTPhhpCk6SPHrY6Zoj1","ShipNeedRepairError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipNeedRepairError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_NEED_REPAIR,"SHIP_NEED_REPAIR")||this}return n(e,t),e}(s.default);r.ShipNeedRepairError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipNoNeedRepairError:[function(t,e,r){"use strict";cc._RF.push(e,"68ed40FNexPLop69UpbaLZm","ShipNoNeedRepairError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipNoNeedRepairError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_NO_NEED_REPAIR,"SHIP_NO_NEED_REPAIR")||this}return n(e,t),e}(s.default);r.ShipNoNeedRepairError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"5d4cbdbxCVJBKy+gSKEjWiU","ShipNotFoundError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_NOT_FOUND,"SHIP_NOT_FOUND")||this}return n(e,t),e}(s.default);r.ShipNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipPveBattleExpiredError:[function(t,e,r){"use strict";cc._RF.push(e,"d8283PIkbtIxYx8gI/UoiBs","ShipPveBattleExpiredError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipPveBattleExpiredError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_PVE_BATTLE_EXPIRED,"SHIP_PVE_BATTLE_EXPIRED")||this}return n(e,t),e}(s.default);r.ShipPveBattleExpiredError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipPveBattleFinishedError:[function(t,e,r){"use strict";cc._RF.push(e,"020b9z/bF5CpaQbb11Ol2RR","ShipPveBattleFinishedError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipPveBattleFinishedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_PVE_BATTLE_FINISHED,"SHIP_PVE_BATTLE_FINISHED")||this}return n(e,t),e}(s.default);r.ShipPveBattleFinishedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipPveBattleNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"4bcef6/ajFC+o4DekLNtkG5","ShipPveBattleNotFoundError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipPveBattleNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_PVE_BATTLE_NOT_FOUND,"SHIP_PVE_BATTLE_NOT_FOUND")||this}return n(e,t),e}(s.default);r.ShipPveBattleNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipPveFinishParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"4cf5f+1X1pNMbR+IinZPJKS","ShipPveFinishParamsError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipPveFinishParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_PVE_FINISH_PARAM_ERROR,"SHIP_PVE_FINISH_PARAM_ERROR")||this}return n(e,t),e}(s.default);r.ShipPveFinishParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipPveStartParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"da286CLXCpGArTsWYjiKRFp","ShipPveStartParamsError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipPveStartParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_PVE_START_PARAM_ERROR,"SHIP_PVE_START_PARAM_ERROR")||this}return n(e,t),e}(s.default);r.ShipPveStartParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipRepairInvalidParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"79c07mLmpdH2Zcg/X2SCTpQ","ShipRepairInvalidParamsError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipRepairInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_REPAIR_INVALID_PARAM,"SHIP_REPAIR_INVALID_PARAM")||this}return n(e,t),e}(s.default);r.ShipRepairInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipTypesData:[function(t,e,r){"use strict";cc._RF.push(e,"c0231mHEspAG437FYCC/N+5","ShipTypesData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ShipTypeData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.ShipTypeData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],"Shop.state":[function(t,e,r){"use strict";cc._RF.push(e,"755e7iEMfhBqrs5W/o7I8XA","Shop.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopState=void 0;var s=t("@colyseus/schema"),a=t("./ShopItem.state"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uid=0,e.dataId=0,e}return n(e,t),i([s.type("number")],e.prototype,"uid",void 0),i([s.type("string")],e.prototype,"characterWalletUid",void 0),i([s.type("number")],e.prototype,"dataId",void 0),i([s.type("boolean")],e.prototype,"isOpening",void 0),i([s.type("number")],e.prototype,"lastUpdateTime",void 0),i([s.type({array:a.ShopItemState})],e.prototype,"items",void 0),i([s.type("number")],e.prototype,"version",void 0),e}(s.Schema);r.ShopState=c,cc._RF.pop()},{"./ShopItem.state":"ShopItem.state","@colyseus/schema":3}],ShopBuyInvalidParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"cbab0IyFdJJdrmK0U4qmQXT","ShopBuyInvalidParamsError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopBuyInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHOP_BUY_INVALID_PARAM,"SHOP_BUY_INVALID_PARAM")||this}return n(e,t),e}(s.default);r.ShopBuyInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShopData:[function(t,e,r){"use strict";cc._RF.push(e,"d29d6YzqGtOKaHImdCihxrE","ShopData");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ShopData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("./BaseData").BaseData);r.ShopData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],"ShopItem.state":[function(t,e,r){"use strict";cc._RF.push(e,"8fd61X76WhL84mLqqoMix7r","ShopItem.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopItemState=void 0;var s=t("@colyseus/schema"),a=t("./Resource.state"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uid=0,e}return n(e,t),i([s.type("number")],e.prototype,"uid",void 0),i([s.type("boolean")],e.prototype,"isHot",void 0),i([s.type("boolean")],e.prototype,"onSale",void 0),i([s.type("number")],e.prototype,"boughtNumber",void 0),i([s.type("number")],e.prototype,"sellLimitNumber",void 0),i([s.type(a.ResourceState)],e.prototype,"price",void 0),i([s.type(a.ResourceState)],e.prototype,"salePrice",void 0),i([s.type(a.ResourceState)],e.prototype,"item",void 0),e}(s.Schema);r.ShopItemState=c,cc._RF.pop()},{"./Resource.state":"Resource.state","@colyseus/schema":3}],ShopItemData:[function(t,e,r){"use strict";cc._RF.push(e,"692f10x/8BBjbt5xmED3FH9","ShopItemData"),Object.defineProperty(r,"__esModule",{value:!0}),r.ShopItemData=void 0;r.ShopItemData=function(){},cc._RF.pop()},{}],ShopItemNotAvailableError:[function(t,e,r){"use strict";cc._RF.push(e,"b56ffBXV5FGA65Nh2gaKBmn","ShopItemNotAvailableError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopItemNotAvailableError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHOP_ITEM_NOT_AVAILABLE,"SHOP_ITEM_NOT_AVAILABLE")||this}return n(e,t),e}(s.default);r.ShopItemNotAvailableError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShopItemNotEnoughQuantityError:[function(t,e,r){"use strict";cc._RF.push(e,"14798INKR5CJYEaValyNUqs","ShopItemNotEnoughQuantityError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopItemNotEnoughQuantityError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHOP_ITEM_NOT_ENOUGH_QUANTITY,"SHOP_ITEM_NOT_ENOUGH_QUANTITY")||this}return n(e,t),e}(s.default);r.ShopItemNotEnoughQuantityError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShopItem:[function(t,e,r){"use strict";cc._RF.push(e,"42848x+r4VNdZtWLLGHIKWc","ShopItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.price=null,e.qtyItem=null,e.iconResource=null,e.iconItem=null,e.data=null,e.callback=null,e}return n(e,t),e.prototype.setData=function(t){this.data=t,this.price.string=t.price.quantity.toString(),this.qtyItem.string="x"+t.item.quantity,this.iconResource.spriteFrame=a.default.instance.getSpriteById(t.price.dataId),this.iconItem.spriteFrame=a.default.instance.getSpriteById(t.item.dataId)},e.prototype.onBuy=function(){null!=this.callback&&this.callback(this.data)},i([p(cc.Label)],e.prototype,"price",void 0),i([p(cc.Label)],e.prototype,"qtyItem",void 0),i([p(cc.Sprite)],e.prototype,"iconResource",void 0),i([p(cc.Sprite)],e.prototype,"iconItem",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../../Manager/GameManager":"GameManager"}],ShopModel:[function(t,e,r){"use strict";cc._RF.push(e,"33578qXS15Jo6ses8njX/m/","ShopModel");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ShopDataServer=r.ShopItemDataServer=void 0;var i=t("../../../pirate-king-nft-core/pk/dataLoader/ShopData"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("../../../pirate-king-nft-core/pk/dataLoader/ShopItemData").ShopItemData);r.ShopItemDataServer=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(i.ShopData);r.ShopDataServer=a,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/ShopData":"ShopData","../../../pirate-king-nft-core/pk/dataLoader/ShopItemData":"ShopItemData"}],ShopNotAvailableError:[function(t,e,r){"use strict";cc._RF.push(e,"f43d7LH7oRDCa1d35Vy8S2G","ShopNotAvailableError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopNotAvailableError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHOP_NOT_AVAILABLE,"SHOP_NOT_AVAILABLE")||this}return n(e,t),e}(s.default);r.ShopNotAvailableError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShopNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"30801T+GAFGX7VSHYRjnmpR","ShopNotFoundError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHOP_NOT_FOUND,"SHOP_NOT_FOUND")||this}return n(e,t),e}(s.default);r.ShopNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShopResetType:[function(t,e,r){"use strict";cc._RF.push(e,"a1c30r1HmREj6vrMu5XAez3","ShopResetType"),Object.defineProperty(r,"__esModule",{value:!0}),r.ShopResetType=void 0,function(t){t[t.NO_RESET=0]="NO_RESET",t[t.DURATION=1]="DURATION",t[t.HOURLY=2]="HOURLY",t[t.DAILY=3]="DAILY",t[t.WEEKLY=4]="WEEKLY",t[t.MONTHLY=5]="MONTHLY"}(r.ShopResetType||(r.ShopResetType={})),cc._RF.pop()},{}],ShopType:[function(t,e,r){"use strict";cc._RF.push(e,"4fde6WWQAlPZ4pfToRVOLz7","ShopType"),Object.defineProperty(r,"__esModule",{value:!0}),r.ShopType=void 0,function(t){t[t.GLOBAL=0]="GLOBAL",t[t.CHARACTER=1]="CHARACTER"}(r.ShopType||(r.ShopType={})),cc._RF.pop()},{}],ShopUI:[function(t,e,r){"use strict";cc._RF.push(e,"aaea3sMyLZCCo5osug7jooI","ShopUI");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("./../../Common/Toast"),c=t("./../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),u=s(t("../../Manager/GameManager")),p=s(t("./TabItem")),l=s(t("./ConfirmBuy")),f=s(t("./ShopItem")),d=t("../../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopBuy"),h=cc._decorator,_=h.ccclass,y=h.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.confirmPopup=null,e.tabs=null,e.groupItems=null,e.prefabTab=null,e.numbPage=null,e.curPage=1,e.maxPage=1,e.maxGrid=9,e.shops=[],e.curShop=null,e.curItem=null,e.items=[],e}return n(e,t),e.prototype.onEnable=function(){var t=this;this.items=this.groupItems.getComponentsInChildren(f.default),u.default.instance.client.listShop(function(e){t.shops=e.data.shops;var r=t.shops.findIndex(function(t){return 43==t.dataId});-1!=r&&t.shops.splice(r,1),t.loadUI()})},e.prototype.loadUI=function(){var t=this;this.tabs.destroyAllChildren();for(var e=0;e<this.shops.length;e++){var r=this.shops[e],o=cc.instantiate(this.prefabTab.data);o.parent=this.tabs;var n=o.getComponent(p.default);n.setData(r),n.callback=function(e){t.loadContent(e)},0==e&&n.onToggle(null)}},e.prototype.loadContent=function(t){this.curShop=t,this.loadPage()},e.prototype.nextPage=function(){this.curPage<this.maxPage&&(this.curPage++,this.loadPage())},e.prototype.previousPage=function(){this.curPage>1&&(this.curPage--,this.loadPage())},e.prototype.loadPage=function(){var t=this,e=(this.curPage-1)*this.maxGrid;this.numbPage.string=this.curPage+"/"+this.maxPage;for(var r=0;r<this.items.length;r++)if(r+e<this.curShop.items.length){var o=this.curShop.items[r+e];this.items[r].node.active=!0,this.items[r].setData(o),this.items[r].callback=function(e){t.onConfirmBuy(e)}}else this.items[r].node.active=!1},e.prototype.onConfirmBuy=function(t){var e=this;this.confirmPopup.setData(t),this.confirmPopup.callback=function(t){e.onAccept(t)}},e.prototype.onAccept=function(t){this.curItem=t;var e=this,r=u.default.instance.user,o=new d.ReqMsgShopBuyData;o.characterWalletUid=r.walletUid,o.shopDataId=this.curShop.dataId,o.shopItemUid=t.uid,o.quantity=1,u.default.instance.client.shopBuy(o,function(){var t=c.dataLoader.getGameDataItem(e.curItem.item.dataId);a.Toast.instance.showText("Congratulations, you have received "+t.name)})},i([y(l.default)],e.prototype,"confirmPopup",void 0),i([y(cc.Node)],e.prototype,"tabs",void 0),i([y(cc.Node)],e.prototype,"groupItems",void 0),i([y(cc.Prefab)],e.prototype,"prefabTab",void 0),i([y(cc.Label)],e.prototype,"numbPage",void 0),i([_],e)}(cc.Component);r.default=v,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopBuy":"ReqMsg.ShopBuy","../../Manager/GameManager":"GameManager","./../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","./../../Common/Toast":"Toast","./ConfirmBuy":"ConfirmBuy","./ShopItem":"ShopItem","./TabItem":"TabItem"}],ShopWasClosedError:[function(t,e,r){"use strict";cc._RF.push(e,"92d0bpqac5LGJJ6sITURUXc","ShopWasClosedError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopWasClosedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHOP_WAS_CLOSED,"SHOP_WAS_CLOSED")||this}return n(e,t),e}(s.default);r.ShopWasClosedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],SignatureVerifyFailedError:[function(t,e,r){"use strict";cc._RF.push(e,"560c0/inRNNAY7C5ZMvY78e","SignatureVerifyFailedError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.SignatureVerifyFailedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SIGNATURE_VERIFY_FAILED,"SignatureVerifyFailedError")||this}return n(e,t),e}(s.default);r.SignatureVerifyFailedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Stats.state":[function(t,e,r){"use strict";cc._RF.push(e,"a55f8Qzi7pHxaLPyqvxVOju","Stats.state");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.StatsState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damage=0,e.defence=0,e.hp=0,e}return n(e,t),i([s.type("number")],e.prototype,"damage",void 0),i([s.type("number")],e.prototype,"defence",void 0),i([s.type("number")],e.prototype,"hp",void 0),e}(s.Schema);r.StatsState=a,cc._RF.pop()},{"@colyseus/schema":3}],Stats:[function(t,e,r){"use strict";cc._RF.push(e,"86cc557j7BKIJRuxN3+3iOF","Stats");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.Stats=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(t("../entity/state/Stats.state").StatsState);r.Stats=i,cc._RF.pop()},{"../entity/state/Stats.state":"Stats.state"}],TabItem:[function(t,e,r){"use strict";cc._RF.push(e,"0cd82KBswRLIpw6eCPgp/fs","TabItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tabName=null,e.data=null,e.callback=null,e}return n(e,t),e.prototype.setData=function(t){this.data=t;var e=s.dataLoader.getShopData(this.data.dataId);this.tabName.string=e.name},e.prototype.onToggle=function(){null!=this.callback&&this.callback(this.data)},i([u(cc.Label)],e.prototype,"tabName",void 0),i([c],e)}(cc.Component);r.default=p,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader"}],Target:[function(t,e,r){"use strict";cc._RF.push(e,"d7a9deeH7lCYqqG/vdopBDU","Target");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=t("../../Common/Constants"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.type=s.IslandType.Castle,e.isAttack=!1,e}return n(e,t),i([u(sp.Skeleton)],e.prototype,"skeleton",void 0),i([u({type:cc.Enum(s.IslandType)})],e.prototype,"type",void 0),i([c],e)}(cc.Component);r.default=p,cc._RF.pop()},{"../../Common/Constants":"Constants"}],Toast:[function(t,e,r){"use strict";cc._RF.push(e,"4bb4976FNlMb7NRcTJUBZpw","Toast"),Object.defineProperty(r,"__esModule",{value:!0}),r.Toast=void 0;var o=function(){function t(){this.toastNode=null,this.textNode=null,this.textLabel=null,this.canvas=null,this.BG_COLOR=new cc.Color(0,0,0,400),this.toastNode=new cc.Node,this.toastNode.active=!1,this.toastNode.zIndex=1e4,this.canvas=cc.director.getScene().getComponentInChildren(cc.Canvas),this.canvas.node.addChild(this.toastNode),this.toastNode.height=70,this.toastNode.width=600;var t=this.toastNode.getComponent(cc.Graphics);t||(t=this.toastNode.addComponent(cc.Graphics)),t.rect(-this.toastNode.width/2,-this.toastNode.height/2,this.toastNode.width,this.toastNode.height),t.fillColor=this.BG_COLOR,t.fill();var e=this.toastNode.getComponent(cc.Layout);e||(e=this.toastNode.addComponent(cc.Layout)),e.resizeMode=cc.Layout.ResizeMode.CONTAINER,e.paddingBottom=10,e.paddingLeft=10,e.paddingRight=10,e.paddingTop=10,this.textNode=new cc.Node,this.toastNode.addChild(this.textNode),this.textLabel=this.textNode.addComponent(cc.Label),this.textLabel.fontSize=25,this.textLabel.lineHeight=30,this.textLabel.horizontalAlign=cc.Label.HorizontalAlign.CENTER}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.showText=function(t,e){var r=this;void 0===e&&(e=3.5),this.textLabel.string=t,this.toastNode.active=!0,this.toastNode.opacity=255;var o=cc.winSize.height;this.toastNode.position=cc.v3(0,-o/2+80,0),this.toastNode.runAction(cc.sequence(cc.delayTime(e),cc.fadeOut(.2),cc.callFunc(function(){r.toastNode.active=!1},this)))},t._instance=null,t}();r.Toast=o,cc._RF.pop()},{}],"Token.Deposit.TxnInvalid.Error":[function(t,e,r){"use strict";cc._RF.push(e,"37cacu4MH5GrarHxIOW2+gp","Token.Deposit.TxnInvalid.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenDepositTxnInvalidError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.TOKEN_TXN_INVALID)||this}return n(e,t),e}(s.default);r.TokenDepositTxnInvalidError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Token.TxnExist.Error":[function(t,e,r){"use strict";cc._RF.push(e,"d46a2bR8mNL8qjsQofg5ytB","Token.TxnExist.Error");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenTxnExistError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.TOKEN_TXN_EXIST)||this}return n(e,t),e}(s.default);r.TokenTxnExistError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Token.Withdrawal.CoolDownError":[function(t,e,r){"use strict";cc._RF.push(e,"7d4c2cluaJCeoyOX+7wE02k","Token.Withdrawal.CoolDownError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenWithdrawalCoolDownError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.TOKEN_WITHDRAWAL_COOL_DOWN)||this}return n(e,t),e}(s.default);r.TokenWithdrawalCoolDownError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Token.Withdrawal.InvalidParamsError":[function(t,e,r){"use strict";cc._RF.push(e,"39fe27yo85MdpRqGL/b+9sb","Token.Withdrawal.InvalidParamsError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenWithdrawalInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.TOKEN_WITHDRAWAL_INVALID_PARAM)||this}return n(e,t),e}(s.default);r.TokenWithdrawalInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Token.Withdrawal.LimitError":[function(t,e,r){"use strict";cc._RF.push(e,"c22eeucwrdL0oIQKYO2WqtH","Token.Withdrawal.LimitError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenWithdrawalLimitError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.TOKEN_WITHDRAWAL_LIMIT)||this}return n(e,t),e}(s.default);r.TokenWithdrawalLimitError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Token.Withdrawal.TxnNotFound":[function(t,e,r){"use strict";cc._RF.push(e,"acfe3hjhDxBaLyUNc2NzdVj","Token.Withdrawal.TxnNotFound");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenWithdrawalTxnNotFound=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.TOKEN_WITHDRAWAL_TXN_NOT_FOUND)||this}return n(e,t),e}(s.default);r.TokenWithdrawalTxnNotFound=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],UnknownError:[function(t,e,r){"use strict";cc._RF.push(e,"51c9dT2WSFP54aTs/QxBy2M","UnknownError");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.UnknownError=void 0;var s=i(t("./BaseError")),a=t("./ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.UNKNOWN_ERROR,"Unknown error")||this}return n(e,t),e}(s.default);r.UnknownError=c,cc._RF.pop()},{"./BaseError":"BaseError","./ErrorCode":"ErrorCode"}],Utils:[function(t,e,r){"use strict";cc._RF.push(e,"b2da39XUshC+6nGGoHE3uWU","Utils"),Object.defineProperty(r,"__esModule",{value:!0}),r.Utils=void 0;var o=t("axios"),n=t("../Manager/GameManager"),i=t("./Constants"),s=function(){function t(){}return t.log=function(t){i.default.DEV&&console.log(t)},t.readData=function(t){var e=cc.sys.localStorage.getItem(t);return e?JSON.parse(e):{mute:!1,muteSound:!1,auto:!0}},t.saveData=function(t,e){cc.sys.localStorage.setItem(t,JSON.stringify(e))},t.randomNum=function(t,e){var r=n.default.instance.rnd();return Math.floor(r*(e-t))+t},t.randomFloat=function(t,e){return n.default.instance.rnd()*(e-t)+t},t.stringToV3=function(t){t.startsWith("(")&&t.endsWith(")")&&(t=t.substring(1,t.length-2));var e=t.split(",");return cc.v3(Number(e[0]),Number(e[1]),Number(e[2]))},t.isV3Zero=function(t){return 0===t.x&&0===t.y&&0===t.z},t.http=function(t){void 0===t&&(t=!1);var e=o.default.create();return e.defaults.timeout=15e3,t&&(e.defaults.headers.post["Content-Type"]="multipart/form-data"),e},t.requestGet=function(t,e){void 0===e&&(e=null),this.http(!0).get(t).then(function(t){e&&e(t)}).catch(function(t){console.log("Utils -> request -> error",t),e&&e(t)})},t.request=function(t,e,r){void 0===r&&(r=null),null!=e&&null!=e||(e=new FormData),this.http(!0).post(t,e).then(function(t){r&&r(t)}).catch(function(t){console.log("Utils -> request -> error",t),r&&r(t.response)})},t.requestToken=function(t,e,r,o){void 0===o&&(o=null);var n={headers:{Authorization:"Bearer "+r}};null!=e&&null!=e||(e=new FormData),this.http(!0).post(t,e,n).then(function(t){o&&o(t)}).catch(function(t){console.log("Utils -> request -> error",t),o&&o(t.response)})},t.requestJsonToken=function(t,e,r,o){void 0===o&&(o=null);var n={headers:{Authorization:"Bearer "+r}};this.http(!0).post(t,e,n).then(function(t){o&&o(t)}).catch(function(t){console.log("Utils -> request -> error",t),o&&o(t.response)})},t.checkConnection=function(t){this.http().get((i.default.DEV?i.default.DOMAIN_DEV:i.default.DOMAIN)+"/checkNet.php").then(function(e){t&&t(e&&200===e.status)}).catch(function(){t&&t(!1)})},t.parseQueryString=function(t){t||(t=window.location.search.substring(1));var e={};return t.split("&").forEach(function(t){var r=t.split("="),o=decodeURIComponent(r[0]),n=decodeURIComponent(r.length>1?r[1]:"");e[o]=n}),this.log("parseQueryString: "+JSON.stringify(e)),e},t.getBackUrl=function(){n.default.instance.data},t.reset=function(){},t.unixTimeStampToDateTime=function(t){var e=new Date(t),r="0"+e.getDate(),o="0"+(e.getMonth()+1),n=e.getFullYear(),i=e.getHours(),s="0"+e.getMinutes(),a="0"+e.getSeconds(),c=e.getMilliseconds();return n+"-"+o.substr(-2)+"-"+r.substr(-2)+" "+i+":"+s.substr(-2)+":"+a.substr(-2)+":"+c},t}();r.Utils=s,cc._RF.pop()},{"../Manager/GameManager":"GameManager","./Constants":"Constants",axios:4}],WheelItem:[function(t,e,r){"use strict";cc._RF.push(e,"a3a09WA9vNKD58GG056WglA","WheelItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.icon=null,e}return n(e,t),e.prototype.setData=function(t){this._item=t,this.label.string="+"+t.quantity,0==t.quantity&&(this.label.string="+1");var e="wheelItem/"+t.dataId,r=this;cc.loader.loadRes(e,cc.SpriteFrame,function(t,e){r.icon.spriteFrame=e})},i([c(cc.Label)],e.prototype,"label",void 0),i([c(cc.Sprite)],e.prototype,"icon",void 0),i([a],e)}(cc.Component);r.default=u,cc._RF.pop()},{}],WheelUI:[function(t,e,r){"use strict";cc._RF.push(e,"fe12eXf5UdG9q/H8gnKzqXT","WheelUI");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),c=t("../../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopBuy"),u=s(t("../../Common/AnimPopup")),p=s(t("../../Common/Constants")),l=t("../../Common/CustomEventListener"),f=s(t("../../Common/ItemViewAnim")),d=t("../../Common/Toast"),h=s(t("../../Manager/GameManager")),_=s(t("./WheelItem")),y=cc._decorator,v=y.ccclass,g=y.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.wheelPrefab=null,e.nodeTurnable=null,e.btnRound=null,e.progessSpin=null,e.spinLabel=[],e.pvpPopup=null,e.listWheelItem=[],e.randValue=0,e}return n(e,t),e.prototype.onLoad=function(){if(null!=h.default.instance.spinShop&&null!=h.default.instance.spinShop||h.default.instance.client.listShop(function(t){h.default.instance.spinShop=t.data.shops.find(function(t){return 43==t.dataId})}),0==this.listWheelItem.length)for(var t=0;t<10;t++){var e=cc.instantiate(this.wheelPrefab.data);e.setParent(this.nodeTurnable),e.setPosition(0,0),e.setRotation(18+36*t);var r=e.getComponent(_.default);this.listWheelItem.push(r)}this.loadUI()},e.prototype.onEnable=function(){l.CustomEventListener.on(p.default.EventName.UPDATE_RESOURCE,this.updateResource,this),l.CustomEventListener.on(p.default.EventName.UPDATE_PVPSPIN,this.ResultSpin,this)},e.prototype.onDisable=function(){l.CustomEventListener.off(p.default.EventName.UPDATE_RESOURCE,this.updateResource,this),l.CustomEventListener.off(p.default.EventName.UPDATE_PVPSPIN,this.ResultSpin,this)},e.prototype.updateResource=function(){var t=h.default.instance.user;this.spinLabel.map(function(e){return e.string=t.resources[p.default.PVPSPIN_ID].quantity.toString()+"/"+t.resources[p.default.PVPSPIN_ID].maxQuantity.toString()}),this.progessSpin.progress=t.resources[p.default.PVPSPIN_ID].quantity/t.resources[p.default.PVPSPIN_ID].maxQuantity},e.prototype.loadUI=function(){h.default.instance.user,this.updateResource();for(var t=a.dataLoader.getPvpConfig(),e=0;e<t.pvpSpinRewards.length;e++)this.listWheelItem[e].setData(t.pvpSpinRewards[e])},e.prototype.startRun=function(){var t=this,e=this,r=this.nodeTurnable.eulerAngles.z%360;this.nodeTurnable.eulerAngles=cc.v3(0,0,r);var o=360-r,n=3+Math.floor(5*Math.random()),i=-360-360*n+36*this.randValue+18-360,s=o/360+.3*n;h.default.instance.isDelay=!0,cc.tween(this.nodeTurnable).to(s,{angle:i},{easing:"cubicOut"}).call(function(){t.btnRound.interactable=!0,h.default.instance.isDelay=!1,l.CustomEventListener.dispatchEvent(p.default.EventName.UPDATE_RESOURCE);var r=cc.instantiate(e.prefab.data);if(r.parent=e.node,r.getComponentInChildren(f.default).setData(h.default.instance.resultSpinItem.dataId,h.default.instance.resultSpinItem.quantity),h.default.instance.resultSpinItem.dataId==p.default.PVP_ID)e.startPVP();else{var o=a.dataLoader.getGameDataItem(h.default.instance.resultSpinItem.dataId);null!=o&&d.Toast.instance.showText("Congratulations on getting "+h.default.instance.resultSpinItem.quantity+" "+o.name)}}).start()},e.prototype.startPVP=function(){var t=this;h.default.instance.client.startPVP(function(e){h.default.instance.pvpData=e.data,console.log("\ud83d\ude80 ~ file: WheelUI.ts ~ line 137 ~ WheelUI ~ GameManager.instance.client.startPVP ~ GameManager.instance.pvpData",h.default.instance.pvpData),t.pvpPopup.showPopup()})},e.prototype.RoundClick=function(){h.default.instance.user.resources[p.default.PVPSPIN_ID].quantity>0?(this.btnRound.interactable=!1,h.default.instance.client.spinReward()):d.Toast.instance.showText("Your spin is over")},e.prototype.ResultSpin=function(){var t=h.default.instance.resultSpinItem;if(console.log("\ud83d\ude80 ~ file: WheelUI.ts ~ line 143 ~ WheelUI ~ ResultSpin ~ ResultSpin",t),null!=t&&null!=t){var e=this.listWheelItem.findIndex(function(e){return e._item.dataId==t.dataId&&e._item.quantity==t.quantity});-1!=e&&(this.randValue=e,this.startRun())}},e.prototype.BuySpin=function(){var t=h.default.instance,e=t.user,r=t.spinShop;if(null!=r&&null!=r){var o=new c.ReqMsgShopBuyData;o.characterWalletUid=e.walletUid,o.shopDataId=43,o.shopItemUid=r.items[0].uid,o.quantity=1,h.default.instance.client.shopBuy(o,function(){d.Toast.instance.showText("Buy 1 spin successfully!")})}else d.Toast.instance.showText("No data")},i([g(cc.Prefab)],e.prototype,"prefab",void 0),i([g(cc.Prefab)],e.prototype,"wheelPrefab",void 0),i([g(cc.Node)],e.prototype,"nodeTurnable",void 0),i([g(cc.Button)],e.prototype,"btnRound",void 0),i([g(cc.ProgressBar)],e.prototype,"progessSpin",void 0),i([g(cc.Label)],e.prototype,"spinLabel",void 0),i([g(u.default)],e.prototype,"pvpPopup",void 0),i([v],e)}(cc.Component);r.default=m,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopBuy":"ReqMsg.ShopBuy","../../Common/AnimPopup":"AnimPopup","../../Common/Constants":"Constants","../../Common/CustomEventListener":"CustomEventListener","../../Common/ItemViewAnim":"ItemViewAnim","../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager","./WheelItem":"WheelItem"}]},{},["Base.command","BaseHttp.command","BaseEntity","ReqMsg.Base","ResMsg.Base","BaseError","ErrorCode","InvalidActionError","InvalidNumberValueError","NeedDeclareError","UnknownError","AvatarData","BaseData","ConfigData","DataLoader","EquipmentData","EquipmentTypeData","GachaShipListItem","GameData","GameDataItemTypes","IslandData","IslandLevelConfigData","IslandPathData","ItemData","MonsterData","PortData","PveRewardLevel","RandomItem","ResourceTypeData","ShipData","ShipTypesData","ShopData","ShopItemData","ShopResetType","ShopType","Stats","PKConstants","Pvp.BotInfo","Pvp.Opponent","Pvp.RoomOptionData","Pvp.SessionUserInfo","PvpSessionLog","PvpSessionReward","ReqMsg.Admin.BoxBuyVerify","ReqMsg.Box.Buy","ReqMsg.Box.MyBox","ReqMsg.Box.MyItems","ReqMsg.Box.Open","ReqMsg.ChangeAvatar","ReqMsg.EquipmentAdd","ReqMsg.EquipmentEquip","ReqMsg.EquipmentUnEquip","ReqMsg.GachaShip","ReqMsg.GetLoginCode","ReqMsg.Login","ReqMsg.Market.Buy","ReqMsg.Market.Cancel","ReqMsg.Market.MyHistory","ReqMsg.Market.MyListing","ReqMsg.Market.MyOffer","ReqMsg.Market.Sell","ReqMsg.Market.TakeGold","ReqMsg.MarketList","ReqMsg.PortUse","ReqMsg.PveFinish","ReqMsg.PveStart","ReqMsg.Pvp.ClaimSessionReward","ReqMsg.Pvp.FinishCombat","ReqMsg.Pvp.JoinSession","ReqMsg.Pvp.MyMessages","ReqMsg.Pvp.MySessionInfo","ReqMsg.Pvp.PrizeDistributionCron","ReqMsg.Pvp.SendMessage","ReqMsg.Pvp.SessionRewardStatus","ReqMsg.Pvp.StartCombat","ReqMsg.PvpSpinReward","ReqMsg.PvpUpdateIsland","ReqMsg.PvpUpdateIslandPath","ReqMsg.Rename","ReqMsg.RewardClaim","ReqMsg.RewardClaimAll","ReqMsg.RewardList","ReqMsg.ShipReload","ReqMsg.ShipRepair","ReqMsg.ShopBuy","ReqMsg.ShopDetail","ReqMsg.ShopList","ReqMsg.SignatureVerify","ReqMsg.TokenDeposit","ReqMsg.TokenHistory","ReqMsg.TokenMyInfo","ReqMsg.TokenWithdrawal","ResMsg.Admin.BoxBuyVerify","ResMsg.Box.Buy","ResMsg.Box.MyBox","ResMsg.Box.MyItems","ResMsg.Box.Open","ResMsg.EquipmentAdd","ResMsg.GachaShip","ResMsg.GeneralMsg","ResMsg.GetLoginCode","ResMsg.Market.Buy","ResMsg.Market.Cancel","ResMsg.Market.List","ResMsg.Market.MyListing","ResMsg.Market.MyOffer","ResMsg.Market.Sell","ResMsg.Market.TakeGold","ResMsg.PveFinish","ResMsg.PveStart","ResMsg.Pvp.ClaimSessionReward","ResMsg.Pvp.FinishCombat","ResMsg.Pvp.JoinSession","ResMsg.Pvp.MyMessages","ResMsg.Pvp.MySessionInfo","ResMsg.Pvp.SendMessage","ResMsg.Pvp.SessionRewardStatus","ResMsg.Pvp.StartCombat","ResMsg.PvpSpinReward","ResMsg.RewardClaim","ResMsg.RewardClaimAll","ResMsg.RewardList","ResMsg.ShipReload","ResMsg.ShopBuy","ResMsg.ShopList","ResMsg.SignatureVerify","ResMsg.TokenDeposit","ResMsg.TokenHistory","ResMsg.TokenMyInfo","ResMsg.TokenWithdrawal","ResMsg.WebShopDetail","Character.state","CharacterLog.state","CharacterRoom.state","EquipmentState","Island.state","Item.state","Port.state","PvpRoom.Leaderboard.Item.state","PvpRoom.Session.state","PvpRoom.state","Resource.state","Reward.state","Ship.state","ShipEquipment.state","ShipHistory.state","Shop.state","ShopItem.state","Stats.state","Box.Open.InvalidParams.Error","Box.Open.NotOwn.Error","Box.Txn.NotFound.Error","CharacterAvatarNotFoundError","CharacterNotAllowedChangeUsernameError","CharacterNotFoundError","CharacterRenameParamsError","CharacterUsernameAlreadyExistError","CreateRoomActionDenied","EquipmentInUseError","EquipmentNotEquipError","EquipmentNotFoundError","EquipmentNotInUseError","GameDataInvalidDataTypeError","InvalidSignatureError","InvalidTokenError","InvalidTransactionUidError","InvalidWalletUidError","Item.UnusableError","LoginCodeExpiredError","Market.InvalidParams.Error","Market.Sell.NotEnoughMarketTicket.Error","Market.Sell.NotOwnShip.Error","Market.Sell.PortRequired.Error","Market.Sell.ShipBroken.Error","MarketHistoryItemNotFoundError","MarketItemNotFoundError","NotEnoughBulletError","NotEnoughGoldError","PortAlreadyOwnError","PortNotOwnError","PortUseInvalidParamsError","Pvp.Session.AlreadyJoined.Error","Pvp.Session.Combat.NotFound.Error","Pvp.Session.FightTimeOver.Error","Pvp.Session.FinishCombat.InvalidParam.Error","Pvp.Session.GetLeaderboardFailed.Error","Pvp.Session.NeedJoin.Error","Pvp.Session.NeedShip.Error","Pvp.Session.NoOpponent.Error","Pvp.Session.SendMessage.InvalidParam.Error","Pvp.Session.SendMessage.MessageSent.Error","PvpInvalidSpinTimesError","PvpUpdateIslandHighestLevelReachedError","PvpUpdateIslandNeedUpdatePathError","PvpUpdateIslandPathHighestLevelReachedError","PvpUpdateIslandPathInvalidParamsError","RedisConnectError","ResourceNotEnoughError","RewardClaimedError","RewardInvalidUidError","RewardNotFoundError","SessionExpiredError","Ship.Unrepairable.Error","ShipLimitError","ShipNeedRepairError","ShipNoNeedRepairError","ShipNotFoundError","ShipPveBattleExpiredError","ShipPveBattleFinishedError","ShipPveBattleNotFoundError","ShipPveFinishParamsError","ShipPveStartParamsError","ShipRepairInvalidParamsError","ShopBuyInvalidParamsError","ShopItemNotAvailableError","ShopItemNotEnoughQuantityError","ShopNotAvailableError","ShopNotFoundError","ShopWasClosedError","SignatureVerifyFailedError","Token.Deposit.TxnInvalid.Error","Token.TxnExist.Error","Token.Withdrawal.CoolDownError","Token.Withdrawal.InvalidParamsError","Token.Withdrawal.LimitError","Token.Withdrawal.TxnNotFound","ArrayUtils","HexAddressValidate","ObjectUtils","AnimPopup","AutoDestroy","Config","Constants","CustomEventListener","ItemViewAnim","NotifyPopup","Overlay","Toast","Utils","AtlasManager","GameManager","NetworkManager ","PoolManager","Bullet","GameScene","ShipCell","Target","AnimMoveBoat","BoatCell","BoatUI","ChangeInfo","EquipInfo","EquipItem","EquipmentUI","HomeScene","MakeBoatUI","IslandItem","IslandUI","WheelItem","WheelUI","LoadingScene","LeadboardItem","LeadboardPVP","MessagerPVP","MsgItem","MyMessager","MyMsgItem","PVPScene","ConfirmBuy","ShopItem","ShopModel","ShopUI","TabItem"]);