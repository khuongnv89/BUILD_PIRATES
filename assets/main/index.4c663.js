window.__require=function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var p=r[s]={exports:{}};e[s][0].call(p.exports,function(t){return o(e[s][1][t]||t)},p,p.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<n.length;s++)o(n[s]);return o}({AnimMoveBoat:[function(t,e,r){"use strict";cc._RF.push(e,"81c4e+D5oFEq49swddWhkfr","AnimMoveBoat");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("./../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),c=s(t("./BoatCell")),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnSpin=null,e.prefab=null,e.time=.3,e.startPos=-150,e.offset=50,e.itemSize=300,e}return o(e,t),e.prototype.onLoad=function(){this.startPos=this.node.position.x;var t=this.getComponent(cc.Layout);null!=t&&(this.offset=t.spacingX)},e.prototype.onEnable=function(){var t=this;this.node.destroyAllChildren();for(var e=a.dataLoader.getShipConfig(),r=15+Math.floor(10*Math.random()),n=0,o=0;o<r;o++){var i=cc.instantiate(this.prefab.data);i.setParent(this.node),i.getComponent(c.default).setData(e.gachaShipList[n].shipList[0].dataId),++n==e.gachaShipList.length&&(n=0)}this.node.setPosition(this.startPos,0);var s=this.itemSize*r+this.offset*(r-1)+this.startPos;cc.tween(this.node).to(r*this.time,{position:cc.v3(-s,0,0)},{easing:"quadOut"}).call(function(){t.btnSpin.interactable=!0}).start()},i([l(cc.Button)],e.prototype,"btnSpin",void 0),i([l(cc.Prefab)],e.prototype,"prefab",void 0),i([p],e)}(cc.Component);r.default=f,cc._RF.pop()},{"./../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","./BoatCell":"BoatCell"}],AnimPopup:[function(t,e,r){"use strict";cc._RF.push(e,"6629cFN4j1FI5jk+JAX2yjc","AnimPopup");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.showPopup=function(){this.node.active=!0,this.node.opacity=0,this.node.scale=.2,cc.tween(this.node).to(.5,{scale:1,opacity:255},{easing:"quartInOut"}).start()},e.prototype.hidePopup=function(){var t=this;cc.tween(this.node).to(.5,{scale:.2,opacity:0},{easing:"quartInOut"}).call(function(){t.node.active=!1}).start()},e.prototype.showFadePopup=function(){this.node.active=!0,this.node.opacity=0,cc.tween(this.node).to(1,{opacity:255},{easing:"quartInOut"}).start()},e.prototype.hideFadePopup=function(){var t=this;cc.tween(this.node).to(1,{opacity:0},{easing:"quartInOut"}).call(function(){t.node.active=!1}).start()},e.prototype.hideBottom=function(){cc.tween(this.node).to(.5,{position:cc.v3(0,-650)},{easing:"quartInOut"}).start()},e.prototype.showBottom=function(){cc.tween(this.node).delay(.5).to(.5,{position:cc.v3(0,-488)},{easing:"quartInOut"}).start()},i([a],e)}(cc.Component));r.default=c,cc._RF.pop()},{}],ArrayUtils:[function(t,e,r){"use strict";cc._RF.push(e,"4be40DVq3ZOr4PSyzQqkw6r","ArrayUtils"),Object.defineProperty(r,"__esModule",{value:!0}),r.shuffle=r.randomInPool=void 0;var n=t("random");r.randomInPool=function(t,e){e||(e="weight");var o=[];return t.forEach(function(t){for(var r=t[e],n=0;n<r;n++)o.push(t)}),r.shuffle(o),o[n.int(0,o.length-1)]},r.shuffle=function(t){for(var e,r,n=t.length;0!=n;)r=Math.floor(Math.random()*n),n--,e=[t[r],t[n]],t[n]=e[0],t[r]=e[1];return t},cc._RF.pop()},{random:50}],AtlasManager:[function(t,e,r){"use strict";cc._RF.push(e,"caf9d59N6ZGuorPa7j/dmZL","AtlasManager");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("./GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.home=null,e.img=null,e.icon=null,e.island=null,e}return o(e,t),e.prototype.onLoad=function(){a.default.instance.atlas=this,cc.game.addPersistRootNode(this.node)},i([p(cc.SpriteAtlas)],e.prototype,"home",void 0),i([p(cc.SpriteAtlas)],e.prototype,"img",void 0),i([p(cc.SpriteAtlas)],e.prototype,"icon",void 0),i([p(cc.SpriteAtlas)],e.prototype,"island",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"./GameManager":"GameManager"}],AutoDestroy:[function(t,e,r){"use strict";cc._RF.push(e,"e2c38U80KZCyr8KRPXHftm1","AutoDestroy");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=.5,e.timeElapsed=0,e}return o(e,t),e.prototype.start=function(){this.timeElapsed=0},e.prototype.update=function(t){this.timeElapsed+=t,this.timeElapsed>this.duration&&this.node.destroy()},i([c("number")],e.prototype,"duration",void 0),i([a],e)}(cc.Component);r.default=u,cc._RF.pop()},{}],AvatarData:[function(t,e,r){"use strict";cc._RF.push(e,"25267K2Wc1Fl6k9/HS8efDH","AvatarData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.AvatarData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.AvatarData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],"Base.command":[function(t,e,r){"use strict";cc._RF.push(e,"65838R1VrFKBaVHCvl4Kkbq","Base.command"),Object.defineProperty(r,"__esModule",{value:!0}),r.BaseCommand=void 0;r.BaseCommand=function(t){this.room=t},cc._RF.pop()},{}],BaseData:[function(t,e,r){"use strict";cc._RF.push(e,"b67250krqZE+rmjTC0phH83","BaseData"),Object.defineProperty(r,"__esModule",{value:!0}),r.BaseData=void 0;r.BaseData=function(){},cc._RF.pop()},{}],BaseEntity:[function(t,e,r){"use strict";cc._RF.push(e,"1447bPU3hBAs4oIwo74uBPy","BaseEntity"),Object.defineProperty(r,"__esModule",{value:!0}),r.BaseEntity=void 0;r.BaseEntity=function(){},cc._RF.pop()},{}],BaseError:[function(t,e,r){"use strict";cc._RF.push(e,"2750bARp0xI75/h9jB5AUhR","BaseError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=function(t){function e(e){var r=t.call(this,e+"")||this;return r.code=e,r}return o(e,t),e}(Error);r.default=i,cc._RF.pop()},{}],"BaseHttp.command":[function(t,e,r){"use strict";cc._RF.push(e,"d7674UPDeZJN6b28THzkdId","BaseHttp.command"),Object.defineProperty(r,"__esModule",{value:!0}),r.BaseHttpCommand=void 0;r.BaseHttpCommand=function(t){this.room=t},cc._RF.pop()},{}],BoatCell:[function(t,e,r){"use strict";cc._RF.push(e,"8bfd39Qj7RCjqTBfNni0UJT","BoatCell");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e}return o(e,t),e.prototype.setData=function(t){this.sprite.spriteFrame=a.default.instance.getSpriteById(t)},i([p(cc.Sprite)],e.prototype,"sprite",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../../Manager/GameManager":"GameManager"}],BoatUI:[function(t,e,r){"use strict";cc._RF.push(e,"99bca2SZ4tGerHjfWWMhWOa","BoatUI");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var p=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),l=u(t("../../Manager/GameManager")),f=u(t("./BoatCell")),h=u(t("./EquipmentUI")),d=u(t("./EquipInfo")),_=c(t("../../Common/Constants")),y=t("../../Common/CustomEventListener"),v=cc._decorator,g=v.ccclass,m=v.property,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.equipUI=null,e.equipInfo=null,e.repairBtn=null,e.notify=null,e.atk=null,e.def=null,e.hp=null,e.shot=null,e.quantity=null,e.limit=null,e.boatName=null,e.pageView=null,e.prefab=null,e.slots=[],e.listShip=[],e.curShip=null,e}return o(e,t),e.prototype.onLoad=function(){this.equipUI.node.active=!1,this.equipInfo.node.active=!1},e.prototype.onEnable=function(){y.CustomEventListener.on(_.default.EventName.UPDATE_EQUIP,this.loadInfoShip,this),this.loadUI()},e.prototype.onDisable=function(){y.CustomEventListener.off(_.default.EventName.UPDATE_EQUIP,this.loadInfoShip,this)},e.prototype.loadUI=function(){var t=l.default.instance.user;this.pageView.removeAllPages(),this.listShip=[],this.notify.active=0==t.ships.length;for(var e=0;e<t.ships.length;e++){var r=t.ships[e],n=cc.instantiate(this.prefab.data),o=n.getComponent(f.default);o.setData(r.dataId),this.listShip.push(o),this.pageView.addPage(n)}this.pageView.getPages().length>0&&this.onPageEvent(this.pageView,cc.PageView.EventType.PAGE_TURNING)},e.prototype.onEquip=function(t,e){var r=this,n=parseInt(e),o=this.curShip.equipments.find(function(t){return l.default.instance.getEquipType(t.dataId)==n});null==o?this.equipUI.setData(n,function(t){l.default.instance.client.changeEquip(r.curShip.uid,t.uid)}):(this.equipInfo.setData(o),this.equipInfo.onSwap=function(){r.equipUI.setData(n,function(t){l.default.instance.client.changeEquip(r.curShip.uid,t.uid)})},this.equipInfo.onRemove=function(t){l.default.instance.client.removeEquip(r.curShip.uid,t.uid)})},e.prototype.onNext=function(){var t=this.pageView.getCurrentPageIndex();t++,this.pageView.scrollToPage(t,1)},e.prototype.onPrevious=function(){var t=this.pageView.getCurrentPageIndex();t--,this.pageView.scrollToPage(t,1)},e.prototype.onPageEvent=function(t,e){if(e===cc.PageView.EventType.PAGE_TURNING){var r=l.default.instance.user,n=t.getCurrentPageIndex();this.curShip=r.ships[n],this.loadInfoShip()}},e.prototype.loadInfoShip=function(){var t=p.dataLoader.getShipData(this.curShip.dataId);this.atk.string="Attack: "+this.curShip.stats.damage,this.def.string="Defense: "+this.curShip.stats.defence,this.hp.string="HP: "+this.curShip.stats.hp,this.quantity.string="Quantity: "+t.shipType.name,this.shot.string="Shot: "+this.curShip.bullet.quantity+"/"+this.curShip.bullet.maxQuantity,this.limit.string="Durability: "+this.curShip.durability+"/"+t.shipType.maxDurability,this.boatName.string=t.name,this.repairBtn.interactable=0==this.curShip.durability;var e=function(t){var e=Object.keys(_.EquipType).indexOf(t);if(e<r.slots.length){var n=r.curShip.equipments.find(function(e){return l.default.instance.getEquipType(e.dataId)==Number(t)});r.slots[e].node.active=null!=n,null!=n&&(r.slots[e].spriteFrame=l.default.instance.getSpriteById(n.dataId))}},r=this;for(var n in _.EquipType)e(n)},e.prototype.repairShip=function(){var t=this;l.default.instance.client.repairShip(this.curShip.uid,function(){t.loadInfoShip()})},a([m(h.default)],e.prototype,"equipUI",void 0),a([m(d.default)],e.prototype,"equipInfo",void 0),a([m(cc.Button)],e.prototype,"repairBtn",void 0),a([m(cc.Node)],e.prototype,"notify",void 0),a([m(cc.Label)],e.prototype,"atk",void 0),a([m(cc.Label)],e.prototype,"def",void 0),a([m(cc.Label)],e.prototype,"hp",void 0),a([m(cc.Label)],e.prototype,"shot",void 0),a([m(cc.Label)],e.prototype,"quantity",void 0),a([m(cc.Label)],e.prototype,"limit",void 0),a([m(cc.Label)],e.prototype,"boatName",void 0),a([m(cc.PageView)],e.prototype,"pageView",void 0),a([m(cc.Prefab)],e.prototype,"prefab",void 0),a([m(cc.Sprite)],e.prototype,"slots",void 0),a([g],e)}(cc.Component);r.default=E,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../Common/Constants":"Constants","../../Common/CustomEventListener":"CustomEventListener","../../Manager/GameManager":"GameManager","./BoatCell":"BoatCell","./EquipInfo":"EquipInfo","./EquipmentUI":"EquipmentUI"}],Bullet:[function(t,e,r){"use strict";cc._RF.push(e,"2f8d9TKIh1CD7BvwH04ovum","Bullet");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.bulletImg=null,e.target=null,e}return o(e,t),e.prototype.create=function(t,e,r){var n=this;console.log("\ud83d\ude80 ~ file: Bullet.ts ~ line 23 ~ Bullet ~ create ~ bulletId",e),this.bulletImg.spriteFrame=a.default.instance.getSpriteById(e),this.target=t;var o=this,i=this.node.getPosition(),s=t.node.getPosition(),c=cc.bezierTo(1.5,[cc.v2(i.x,i.y),cc.v2(s.x,s.y+1e3),s]).easing(cc.easeBezierAction(.25,1,.5,1)),u=cc.scaleTo(1.5,.2),p=cc.spawn(u,c);this.node.runAction(p),this.scheduleOnce(function(){var e=cc.instantiate(o.prefab.data);e.setParent(t.skeleton.node),e.setPosition(cc.Vec2.ZERO),t.skeleton.setAnimation(0,"die",!1),t.isAttack=!0,null!=r&&r(),n.node.destroy()},1.5)},i([p(cc.Prefab)],e.prototype,"prefab",void 0),i([p(cc.Sprite)],e.prototype,"bulletImg",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../../Manager/GameManager":"GameManager"}],1:[function(){},{}],2:[function(t,e){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}function c(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}})();var u,p=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?p=u.concat(p):f=-1,p.length&&d())}function d(){if(!l){var t=a(h);l=!0;for(var e=p.length;e;){for(u=p,p=[];++f<e;)u&&u[f].run();f=-1,e=p.length}u=null,l=!1,c(t)}}function _(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];p.push(new _(t,e)),1!==p.length||l||a(d)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(){return[]},o.binding=function(){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],ChangeInfo:[function(t,e,r){"use strict";cc._RF.push(e,"46157fOqFRJpYvGzmVctA2G","ChangeInfo");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("../../Common/Toast"),c=s(t("../../Manager/GameManager")),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editTel=null,e}return o(e,t),e.prototype.start=function(){},e.prototype.SelectAvatar=function(t,e){c.default.instance.avataID=e},e.prototype.ChangeInfo=function(){c.default.instance.username=this.editTel.textLabel.string,""==c.default.instance.username||null==c.default.instance.username||null==c.default.instance.username?a.Toast.instance.showText("Please Enter your name."):(c.default.instance.client.reName(),c.default.instance.client.changeAvatar())},i([l(cc.EditBox)],e.prototype,"editTel",void 0),i([p],e)}(cc.Component);r.default=f,cc._RF.pop()},{"../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager"}],"Character.state":[function(t,e,r){"use strict";cc._RF.push(e,"e209ciJpkJK7YZVJiHVgALw","Character.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterState=void 0;var s=t("@colyseus/schema"),a=t("./Resource.state"),c=t("./Ship.state"),u=t("../../errors/ShipNotFoundError"),p=t("./EquipmentState"),l=t("../../errors/EquipmentNotFoundError"),f=t("./Island.state"),h=t("./Port.state"),d=t("./Item.state"),_=t("./CharacterLog.state"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gold=new a.ResourceState,e.ships=new s.ArraySchema,e.equipments=new s.ArraySchema,e.items=new s.ArraySchema,e}return o(e,t),e.prototype.getShip=function(t){var e=this.ships.find(function(e){return e.uid==t});if(!e)throw new u.ShipNotFoundError;return e},e.prototype.getEquipment=function(t){var e=this.equipments.find(function(e){return e.uid==t});if(!e)throw new l.EquipmentNotFoundError;return e},i([s.type("string")],e.prototype,"_id",void 0),i([s.type("string")],e.prototype,"walletUid",void 0),i([s.type("string")],e.prototype,"username",void 0),i([s.type("number")],e.prototype,"avatarId",void 0),i([s.type("number")],e.prototype,"createdAt",void 0),i([s.type("number")],e.prototype,"lastLogin",void 0),i([s.type(a.ResourceState)],e.prototype,"gold",void 0),i([s.type({array:c.ShipState})],e.prototype,"ships",void 0),i([s.type({array:p.EquipmentState})],e.prototype,"equipments",void 0),i([s.type({map:a.ResourceState})],e.prototype,"resources",void 0),i([s.type(f.IslandState)],e.prototype,"island",void 0),i([s.type(h.PortState)],e.prototype,"activePort",void 0),i([s.type(_.CharacterLogState)],e.prototype,"log",void 0),i([s.type({array:d.ItemState})],e.prototype,"items",void 0),e}(s.Schema);r.CharacterState=y,cc._RF.pop()},{"../../errors/EquipmentNotFoundError":"EquipmentNotFoundError","../../errors/ShipNotFoundError":"ShipNotFoundError","./CharacterLog.state":"CharacterLog.state","./EquipmentState":"EquipmentState","./Island.state":"Island.state","./Item.state":"Item.state","./Port.state":"Port.state","./Resource.state":"Resource.state","./Ship.state":"Ship.state","@colyseus/schema":3}],CharacterAvatarNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"8fffb97YR1J57OBTkvVdgLJ","CharacterAvatarNotFoundError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterAvatarNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.CHARACTER_AVATAR_NOT_FOUND,"CHARACTER_AVATAR_NOT_FOUND")||this}return o(e,t),e}(s.default);r.CharacterAvatarNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"CharacterLog.state":[function(t,e,r){"use strict";cc._RF.push(e,"219e3L0n8tL26F5WoChz2RS","CharacterLog.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterLogState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),i([s.type("number")],e.prototype,"lastWithdrawalTime",void 0),e}(s.Schema);r.CharacterLogState=a,cc._RF.pop()},{"@colyseus/schema":3}],CharacterNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"734edOF0oxCfL9FkdOFPz2N","CharacterNotFoundError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.CHARACTER_NOT_FOUND,"CHARACTER_NOT_FOUND")||this}return o(e,t),e}(s.default);r.CharacterNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],CharacterRenameParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"fbbc8PwFOdDiI5b+cgLGwDH","CharacterRenameParamsError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterRenameParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.CHARACTER_RENAME_PARAM_ERROR,"CHARACTER_RENAME_PARAM_ERROR")||this}return o(e,t),e}(s.default);r.CharacterRenameParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"CharacterRoom.state":[function(t,e,r){"use strict";cc._RF.push(e,"26a47tmNLpDjbuIiGiG8JzE","CharacterRoom.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterRoomState=void 0;var s=t("@colyseus/schema"),a=t("./Character.state"),c=function(t){function e(){var e=t.call(this)||this;return e.character=new a.CharacterState,e}return o(e,t),i([s.type(a.CharacterState)],e.prototype,"character",void 0),e}(s.Schema);r.CharacterRoomState=c,cc._RF.pop()},{"./Character.state":"Character.state","@colyseus/schema":3}],CharacterUsernameAlreadyExistError:[function(t,e,r){"use strict";cc._RF.push(e,"5006aZiDtlJtbDm6cQvm/2t","CharacterUsernameAlreadyExistError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.CharacterUsernameAlreadyExistError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.CHARACTER_USERNAME_ALREADY_EXIST,"CHARACTER_USERNAME_ALREADY_EXIST")||this}return o(e,t),e}(s.default);r.CharacterUsernameAlreadyExistError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ConfigData:[function(t,e,r){"use strict";cc._RF.push(e,"58243gpZihNBpxgzdgESOch","ConfigData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.GeneralConfigData=r.ShopConfigData=r.PvpConfigData=r.EquipmentConfigData=r.PveConfigData=r.ShipConfigData=r.ConfigData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.ConfigData=i;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i);r.ShipConfigData=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i);r.PveConfigData=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i);r.EquipmentConfigData=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i);r.PvpConfigData=u;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i);r.ShopConfigData=p;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i);r.GeneralConfigData=l,cc._RF.pop()},{"./BaseData":"BaseData"}],Config:[function(t,e,r){"use strict";cc._RF.push(e,"2d91aDIeGJNu7Hc1ix36Psd","Config"),Object.defineProperty(r,"__esModule",{value:!0}),r.Config=void 0;var n=t("./../../pirate-king-nft-core/pk/entity/PKConstants"),o=function(){function t(){}return t.assetUrls=["atlas/T001L000"],t.cannon=[{dataId:n.PKConstants.Default.DefaultCannonDataId,model:"phao_black",bullet:85},{dataId:29,model:"phao_bang",bullet:86},{dataId:84,model:"phao_rong",bullet:88},{dataId:83,model:"phao_keo",bullet:87},{dataId:82,model:"phao_nuoc",bullet:30}],t.posIsland=[{castle:{x:-14,y:128},pet:{x:-132,y:34},ship:{x:146,y:-3},tree:{x:-2,y:45}},{castle:{x:1,y:166},pet:{x:-150,y:57},ship:{x:148,y:-7},tree:{x:-4,y:84}},{castle:{x:2,y:165},pet:{x:-100,y:24},ship:{x:151,y:-18},tree:{x:5,y:80}},{castle:{x:-2,y:182},pet:{x:-174,y:45},ship:{x:156,y:-30},tree:{x:5,y:112}},{castle:{x:2,y:154},pet:{x:-168,y:8},ship:{x:157,y:-16},tree:{x:4,y:90}}],t}();r.Config=o,cc._RF.pop()},{"./../../pirate-king-nft-core/pk/entity/PKConstants":"PKConstants"}],ConfirmBuy:[function(t,e,r){"use strict";cc._RF.push(e,"66d70YvOLFIbZWbEKxo4Ua/","ConfirmBuy");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("./../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),c=s(t("../../Common/AnimPopup")),u=s(t("../../Manager/GameManager")),p=cc._decorator,l=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.msg=null,e.iconItem=null,e.callback=null,e.data=null,e}return o(e,t),e.prototype.setData=function(t){console.log("\ud83d\ude80 ~ file: ConfirmBuy.ts ~ line 26 ~ ConfirmBuy ~ setData ~ data",t),this.data=t,this.getComponent(c.default).showPopup(),this.iconItem.spriteFrame=u.default.instance.getSpriteById(t.item.dataId);var e=a.dataLoader.getGameDataItem(t.price.dataId);this.msg.string="YOU WANT TO USE\n "+t.price.quantity+" "+e.name+" TO BUY"},e.prototype.onAccept=function(){this.getComponent(c.default).hidePopup(),null!=this.callback&&this.callback(this.data)},i([f(cc.Label)],e.prototype,"msg",void 0),i([f(cc.Sprite)],e.prototype,"iconItem",void 0),i([l],e)}(cc.Component);r.default=h,cc._RF.pop()},{"../../Common/AnimPopup":"AnimPopup","../../Manager/GameManager":"GameManager","./../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader"}],Constants:[function(t,e,r){"use strict";cc._RF.push(e,"3ddddYY8n5J2p3ZRFpGPmy9","Constants"),Object.defineProperty(r,"__esModule",{value:!0}),r.EquipType=r.LogType=r.Tag=r.EventType=r.CharStatus=r.HeroType=r.GameState=r.CharMove=r.TypePool=r.Environment=void 0;var n,o,i=cc._decorator;i.ccclass,i.property,function(t){t.ENEMY_HIT="ENEMY_HIT",t.ENEMY_DIE="ENEMY_DIE",t.HERO_HIT="HERO_HIT",t.HERO_SKILL="HERO_SKILL",t.CHOSE_HERO="CHOSE_HERO",t.GAME_STATE="GAME_STATE",t.UPDATE_RESOURCE="UPDATE_RESOURCE",t.UPDATE_ISLAND="UPDATE_ISLAND",t.UPDATE_ISLAND_PATH="UPDATE_ISLAND_PATH",t.UPDATE_PVPSPIN="UPDATE_PVPSPIN",t.UPDATE_USERINFO="UPDATE_USERINFO",t.UPDATE_EQUIP="UPDATE_EQUIP",t.UPDATE_SPIN="UPDATE_SPIN",t.RELOAD_SHIP="RELOAD_SHIP"}(n||(n={})),function(t){t[t.Dev=0]="Dev",t[t.TestNet=1]="TestNet",t[t.TestAudit=2]="TestAudit"}(o=r.Environment||(r.Environment={}));var s=function(){function t(){}return t.token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ3YWxsZXRVaWQiOiIweGM5MDE0NDMyMDcyYmYwMDBkOWYyOTlkODljNGY3OTY1MGU5NTdhYzgiLCJpYXQiOjE2NDQ4NDYzNjIsImV4cCI6MTY0NTEwNTU2Mn0.NpYoyTMc9MjYkjHBnZScnqFM0ZG-SeCC_6ceF5FmqbU",t.DOMAIN="https://api2.thedynasty.app",t.DOMAIN_DEV="http://45.32.8.100:8080",t.DATA_SETTING="data",t.LS_KEY="dynasty:auth",t.DATA_VERSION="1.0.0",t.HOME_SCENE="HomeScene",t.Game_Scene="GameScene",t.LOADING_SCENE="LoadingScene",t.DEV=!1,t.REPLAY=!1,t.TIME_REFRESH_MAIL=300,t.LEVEL_MAX_ISLAND=5,t.GOLD_ID=39,t.PVPSPIN_ID=37,t.EventName=n,t.Env=o.TestNet,t}();r.default=s,function(t){t[t.Bot_1=0]="Bot_1",t[t.Bot_2=1]="Bot_2",t[t.Bot_3=2]="Bot_3",t[t.Bot_4=3]="Bot_4",t[t.Bot_5=4]="Bot_5",t[t.Bot_6=5]="Bot_6",t[t.Bot_7=6]="Bot_7",t[t.Bot_8=7]="Bot_8",t[t.Boss_1=10]="Boss_1",t[t.Boss_2=11]="Boss_2",t[t.Boss_3=12]="Boss_3",t[t.Boss_4=13]="Boss_4",t[t.Boss_5=14]="Boss_5",t[t.Boss_6=15]="Boss_6",t[t.Boss_7=16]="Boss_7",t[t.Boss_8=17]="Boss_8",t[t.Hero_1=100]="Hero_1",t[t.Hero_2=101]="Hero_2",t[t.Hero_3=102]="Hero_3",t[t.Hero_4=103]="Hero_4",t[t.Hero_5=104]="Hero_5",t[t.Hero_6=105]="Hero_6",t[t.Skill_1=200]="Skill_1",t[t.Skill_2=201]="Skill_2",t[t.Skill_3=202]="Skill_3",t[t.Skill_4=203]="Skill_4",t[t.Skill_5=204]="Skill_5",t[t.Skill_6=205]="Skill_6",t[t.Bullet_2=300]="Bullet_2",t[t.Bullet_4=303]="Bullet_4",t[t.Bullet_6=305]="Bullet_6",t[t.Impact_2=400]="Impact_2",t[t.Impact_4=403]="Impact_4",t[t.Impact_6=405]="Impact_6",t[t.Coin=406]="Coin",t[t.Score=407]="Score",t[t.Hud=408]="Hud",t[t.Hud_Msg=409]="Hud_Msg",t[t.FX_Die=410]="FX_Die"}(r.TypePool||(r.TypePool={})),function(t){t[t.Right=0]="Right",t[t.Left=1]="Left",t[t.Idle=2]="Idle"}(r.CharMove||(r.CharMove={})),function(t){t[t.Node=0]="Node",t[t.PLAY=1]="PLAY",t[t.PAUSE=2]="PAUSE",t[t.GAMEOVER=3]="GAMEOVER"}(r.GameState||(r.GameState={})),function(t){t[t.Melee=0]="Melee",t[t.Range=1]="Range",t[t.CustomMelee=2]="CustomMelee"}(r.HeroType||(r.HeroType={})),function(t){t[t.Idle=0]="Idle",t[t.Run=1]="Run",t[t.Attack=2]="Attack",t[t.AttackRange=3]="AttackRange",t[t.Skill=4]="Skill",t[t.Die=5]="Die"}(r.CharStatus||(r.CharStatus={})),function(t){t[t.GAME_STATE=0]="GAME_STATE",t[t.SCORE=1]="SCORE"}(r.EventType||(r.EventType={})),function(t){t[t.Enemy=1]="Enemy",t[t.Range=2]="Range",t[t.Weapon=3]="Weapon",t[t.EnemyHit=4]="EnemyHit",t[t.Player=5]="Player",t[t.BoxPlayer=6]="BoxPlayer",t[t.Skill=11]="Skill"}(r.Tag||(r.Tag={})),function(t){t[t.GAME_START=0]="GAME_START",t[t.ENEMY=1]="ENEMY",t[t.ENEMY_TYPE=2]="ENEMY_TYPE",t[t.BUFF=3]="BUFF",t[t.BUFF_HIGH=4]="BUFF_HIGH",t[t.BUFF_DISTANCE=5]="BUFF_DISTANCE",t[t.SCORE_UP=6]="SCORE_UP",t[t.UPDATE_HP=7]="UPDATE_HP",t[t.GAME_PAUSE=8]="GAME_PAUSE",t[t.GAME_OVER=9]="GAME_OVER"}(r.LogType||(r.LogType={})),function(t){t[t.Cannon=24]="Cannon",t[t.Bullet=25]="Bullet",t[t.Sail=26]="Sail",t[t.Flag=27]="Flag",t[t.Nose=28]="Nose"}(r.EquipType||(r.EquipType={})),cc._RF.pop()},{}],CustomEventListener:[function(t,e,r){"use strict";cc._RF.push(e,"3ccf7baeIVLFIxirKeBLqfH","CustomEventListener");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.CustomEventListener=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.on=function(t,e,r){this.handle[t]||(this.handle[t]=[]);var n={func:e,target:r};this.handle[t].push(n)},e.off=function(t,e,r){var n=this.handle[t];if(n&&!(n.length<=0))for(var o=0;o<n.length;o++){var i=n[o];if(i.func===e&&(!r||r===i.target)){n.splice(o,1);break}}},e.dispatchEvent=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=this.handle[t];if(n&&!(n.length<=0))for(var o=0;o<n.length;o++){var i=n[o];i.func.apply(i.target,e)}},e.handle={},e}(cc.Component);r.CustomEventListener=i,cc._RF.pop()},{}],DataLoader:[function(t,e,r){"use strict";cc._RF.push(e,"26fd8qDS+xIjrovF3Iruu9c","DataLoader");var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,i){function s(t){try{c(n.next(t))}catch(e){i(e)}}function a(t){try{c(n.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,a)}c((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.dataLoader=void 0;var a=t("../entity/PKConstants"),c=s(t("axios")),u=t("../../utils/ObjectUtils"),p=t("./GameData"),l=t("./GameDataItemTypes"),f=t("../errors/GameDataInvalidDataTypeError"),h=function(){function t(){}return t.prototype.init=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.loadData(t)];case 1:return e.sent(),[2]}})})},t.prototype.checkVersion=function(){return o(this,void 0,void 0,function(){return i(this,function(){return[2,1]})})},t.prototype.version=function(){return this.data.version},t.prototype.loadData=function(t){return o(this,void 0,void 0,function(){var e,r,o,s;return i(this,function(i){switch(i.label){case 0:return t||(t="https://api-testnet.piratesland.io/public/data.json"),[4,c.default.get(t)];case 1:for(r in e=i.sent(),this.data=Object.assign(new p.GameData,e.data),this.data)if(this.data.hasOwnProperty(r)&&["version","all"].indexOf(r)<0){for(s in o=u.jsonClone(this.data[r]))o.hasOwnProperty(s)&&(o[s].type=r);this.data.all=n(n({},this.data.all),o)}return Object.freeze(this.data),[2]}})})},t.prototype.getItem=function(t){return this.data.all[t]},t.prototype.getGameDataItem=function(t){return this.data.all[t]},t.prototype.getShipConfig=function(){return this.getItem(a.PKConstants.GameData.Config.ShipConfigDataId)},t.prototype.getPveConfig=function(){return this.getItem(a.PKConstants.GameData.Config.PveConfigDataId)},t.prototype.getEquipmentConfig=function(){return this.getItem(a.PKConstants.GameData.Config.EquipmentConfigDataId)},t.prototype.getPvpConfig=function(){return this.getItem(a.PKConstants.GameData.Config.PvpConfigDataId)},t.prototype.getShopConfigData=function(){return this.getItem(a.PKConstants.GameData.Config.ShopConfigDataId)},t.prototype.getGeneralConfigData=function(){return this.getItem(a.PKConstants.GameData.Config.GeneralConfigDataId)},t.prototype.getShipData=function(t){var e=this.getItem(t);if(e.type!=l.GameDataItemTypes.SHIP)throw new f.GameDataInvalidDataTypeError;return e},t.prototype.getEquipmentData=function(t){var e=this.getItem(t);if(e.type!=l.GameDataItemTypes.EQUIPMENT)throw new f.GameDataInvalidDataTypeError;return e},t.prototype.getShopData=function(t){var e=this.getItem(t);if(e.type!=l.GameDataItemTypes.SHOP)throw new f.GameDataInvalidDataTypeError;return e},t.prototype.getItemData=function(t){var e=this.getItem(t);if(e.type!=l.GameDataItemTypes.ITEM)throw new f.GameDataInvalidDataTypeError;return e},t.prototype.getPortData=function(t){var e=this.getItem(t);if(e.type!=l.GameDataItemTypes.PORT)throw new f.GameDataInvalidDataTypeError;return e},t}();r.dataLoader=new h,cc._RF.pop()},{"../../utils/ObjectUtils":"ObjectUtils","../entity/PKConstants":"PKConstants","../errors/GameDataInvalidDataTypeError":"GameDataInvalidDataTypeError","./GameData":"GameData","./GameDataItemTypes":"GameDataItemTypes",axios:4}],EquipInfo:[function(t,e,r){"use strict";cc._RF.push(e,"234f1WC4ctBmJ97aOIYMgTP","EquipInfo");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),c=s(t("../../Common/AnimPopup")),u=s(t("../../Manager/GameManager")),p=cc._decorator,l=p.ccclass,f=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameLb=null,e.descLb=null,e.statLb=null,e.icon=null,e.data=null,e.onSwap=null,e.onRemove=null,e}return o(e,t),e.prototype.setData=function(t){this.getComponent(c.default).showPopup(),this.data=t;var e=a.dataLoader.getEquipmentData(t.dataId);if(null!=e){this.nameLb.string=e.name,this.descLb.string=e.description;var r="";t.bonusStats.damage>0&&(r="ATK: "+t.bonusStats.damage),t.bonusStats.defence>0&&(r="DEF: "+t.bonusStats.defence),t.bonusStats.hp>0&&(r="HP: "+t.bonusStats.hp),this.statLb.string=r,this.icon.spriteFrame=u.default.instance.getSpriteById(t.dataId)}},e.prototype.onClickSwap=function(){null!=this.onSwap&&this.onSwap(this.data),this.getComponent(c.default).hidePopup()},e.prototype.onClickRemove=function(){null!=this.onRemove&&this.onRemove(this.data),this.getComponent(c.default).hidePopup()},i([f(cc.Label)],e.prototype,"nameLb",void 0),i([f(cc.Label)],e.prototype,"descLb",void 0),i([f(cc.Label)],e.prototype,"statLb",void 0),i([f(cc.Sprite)],e.prototype,"icon",void 0),i([l],e)}(cc.Component);r.default=h,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../Common/AnimPopup":"AnimPopup","../../Manager/GameManager":"GameManager"}],EquipItem:[function(t,e,r){"use strict";cc._RF.push(e,"8696coEBItD+KDn9ahDsvup","EquipItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.avatar=null,e.grayMateri=null,e.norMateri=null,e.data=null,e.callback=null,e}return o(e,t),e.prototype.setData=function(t){void 0===t&&(t=null),this.data=t,null!=t?(a.default.instance.atlas,this.avatar.node.active=!0,this.avatar.spriteFrame=a.default.instance.getSpriteById(this.data.dataId),this.avatar.setMaterial(0,t.shipUid>0?this.grayMateri:this.norMateri)):this.avatar.node.active=!1},e.prototype.onClick=function(){null!=this.callback&&null!=this.data&&this.callback(this.data)},i([p(cc.Sprite)],e.prototype,"avatar",void 0),i([p(cc.Material)],e.prototype,"grayMateri",void 0),i([p(cc.Material)],e.prototype,"norMateri",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../../Manager/GameManager":"GameManager"}],EquipmentData:[function(t,e,r){"use strict";cc._RF.push(e,"cd95cpH+a9PRJi1T5r9qd0n","EquipmentData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.EquipmentData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],EquipmentInUseError:[function(t,e,r){"use strict";cc._RF.push(e,"04064fZ0utPcLFhLBDA5dhs","EquipmentInUseError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentInUseError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.EQUIPMENT_IN_USE,"EQUIPMENT_IN_USE")||this}return o(e,t),e}(s.default);r.EquipmentInUseError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],EquipmentNotEquipError:[function(t,e,r){"use strict";cc._RF.push(e,"5a78advLrFP5ayeO5NqzyHf","EquipmentNotEquipError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentNotEquipError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.EQUIPMENT_NOT_EQUIP,"EQUIPMENT_NOT_EQUIP")||this}return o(e,t),e}(s.default);r.EquipmentNotEquipError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],EquipmentNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"7ae81mp619Gd54kkqf59UxP","EquipmentNotFoundError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.EQUIPMENT_NOT_FOUND,"EQUIPMENT_NOT_FOUND")||this}return o(e,t),e}(s.default);r.EquipmentNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],EquipmentNotInUseError:[function(t,e,r){"use strict";cc._RF.push(e,"f57df981JxE/bzQ6chrvswn","EquipmentNotInUseError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentNotInUseError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.EQUIPMENT_NOT_IN_USE,"EQUIPMENT_NOT_IN_USE")||this}return o(e,t),e}(s.default);r.EquipmentNotInUseError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],EquipmentState:[function(t,e,r){"use strict";cc._RF.push(e,"128420V5EZGyq9WImGpGmpH","EquipmentState");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentState=void 0;var a=t("@colyseus/schema"),c=t("./Stats.state"),u=s(t("moment")),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bonusStats=new c.StatsState,e.createdAt=u.default().valueOf(),e}return o(e,t),i([a.type("number")],e.prototype,"uid",void 0),i([a.type("number")],e.prototype,"dataId",void 0),i([a.type("string")],e.prototype,"characterWalletUid",void 0),i([a.type("number")],e.prototype,"shipUid",void 0),i([a.type(c.StatsState)],e.prototype,"bonusStats",void 0),i([a.type("number")],e.prototype,"createdAt",void 0),e}(a.Schema);r.EquipmentState=p,cc._RF.pop()},{"./Stats.state":"Stats.state","@colyseus/schema":3,moment:34}],EquipmentTypeData:[function(t,e,r){"use strict";cc._RF.push(e,"002bcQ2Pa9PzKqpgrYJ7G9/","EquipmentTypeData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.EquipmentTypeData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.EquipmentTypeData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],EquipmentUI:[function(t,e,r){"use strict";cc._RF.push(e,"002466s/LBBjrco0hvinccS","EquipmentUI");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=s(t("./EquipItem")),u=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),p=s(t("../../Common/AnimPopup")),l=s(t("./EquipInfo")),f=cc._decorator,h=f.ccclass,d=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=null,e.numbPage=null,e.equipInfo=null,e.listEquip=[],e.listData=[],e.curPage=1,e.maxPage=1,e.maxGrid=12,e.equipmentType=0,e.callback=null,e}return o(e,t),e.prototype.onLoad=function(){this.listEquip=this.grid.getComponentsInChildren(c.default)},e.prototype.onEnable=function(){var t=a.default.instance.user;if(this.listData=[],0==this.equipmentType)this.listData=t.equipments;else for(var e=0;e<t.equipments.length;e++){var r=t.equipments[e];u.dataLoader.getEquipmentData(r.dataId).equipmentType.dataId==this.equipmentType&&this.listData.push(r)}this.maxPage=Math.floor(this.listData.length/this.maxGrid)+1,this.loadPage()},e.prototype.setData=function(t,e){this.callback=e,this.equipmentType=t,this.getComponent(p.default).showPopup()},e.prototype.nextPage=function(){this.curPage<this.maxPage&&(this.curPage++,this.loadPage())},e.prototype.previousPage=function(){this.curPage>1&&(this.curPage--,this.loadPage())},e.prototype.loadPage=function(){var t=this,e=(this.curPage-1)*this.maxGrid;this.numbPage.string=this.curPage+"/"+this.maxPage;for(var r=0;r<this.listEquip.length;r++)if(r+e<this.listData.length){var n=this.listData[r+e];this.listEquip[r].setData(n),this.listEquip[r].callback=function(e){0==t.equipmentType?t.equipInfo.setData(e):(null!=t.callback&&t.callback(e),t.getComponent(p.default).hidePopup())}}else this.listEquip[r].setData()},i([d(cc.Node)],e.prototype,"grid",void 0),i([d(cc.Label)],e.prototype,"numbPage",void 0),i([d(l.default)],e.prototype,"equipInfo",void 0),i([h],e)}(cc.Component);r.default=_,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../Common/AnimPopup":"AnimPopup","../../Manager/GameManager":"GameManager","./EquipInfo":"EquipInfo","./EquipItem":"EquipItem"}],ErrorCode:[function(t,e,r){"use strict";cc._RF.push(e,"178ecDLlGFIY41V9ddHP9n0","ErrorCode"),Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorCode=void 0,function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.OTHER_DEVICE_LOGIN=4e3]="OTHER_DEVICE_LOGIN",t[t.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",t[t.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",t[t.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",t[t.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",t[t.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",t[t.AUTH_FAILED=4215]="AUTH_FAILED",t[t.APPLICATION_ERROR=4216]="APPLICATION_ERROR",t[t.UNKNOWN_ERROR=5e3]="UNKNOWN_ERROR",t[t.NEED_DECLARE=5001]="NEED_DECLARE",t[t.INVALID_ACTION=5002]="INVALID_ACTION",t[t.INVALID_NUMBER_VALUE=5003]="INVALID_NUMBER_VALUE",t[t.REDIS_CONNECT_ERROR=6100]="REDIS_CONNECT_ERROR",t[t.INVALID_WALLET_UID=6200]="INVALID_WALLET_UID",t[t.INVALID_TRANSACTION_HASH=6201]="INVALID_TRANSACTION_HASH",t[t.INVALID_SIGNATURE_HASH=6202]="INVALID_SIGNATURE_HASH",t[t.SIGNATURE_VERIFY_FAILED=6203]="SIGNATURE_VERIFY_FAILED",t[t.LOGIN_CODE_EXPIRED=6204]="LOGIN_CODE_EXPIRED",t[t.SESSION_EXPIRED=6205]="SESSION_EXPIRED",t[t.INVALID_TOKEN=6206]="INVALID_TOKEN",t[t.CHARACTER_NOT_FOUND=6300]="CHARACTER_NOT_FOUND",t[t.CHARACTER_RENAME_PARAM_ERROR=6301]="CHARACTER_RENAME_PARAM_ERROR",t[t.CHARACTER_USERNAME_ALREADY_EXIST=6302]="CHARACTER_USERNAME_ALREADY_EXIST",t[t.NOT_ENOUGH_GOLD=6303]="NOT_ENOUGH_GOLD",t[t.RESOURCE_NOT_ENOUGH=6304]="RESOURCE_NOT_ENOUGH",t[t.GAMED_DATA_INVALID_DATA_TYPE=6305]="GAMED_DATA_INVALID_DATA_TYPE",t[t.CHARACTER_AVATAR_NOT_FOUND=6306]="CHARACTER_AVATAR_NOT_FOUND",t[t.SHIP_LIMIT=6350]="SHIP_LIMIT",t[t.SHIP_NOT_ENOUGH_BULLET=6351]="SHIP_NOT_ENOUGH_BULLET",t[t.SHIP_NOT_FOUND=6352]="SHIP_NOT_FOUND",t[t.SHIP_NEED_REPAIR=6353]="SHIP_NEED_REPAIR",t[t.SHIP_PVE_BATTLE_NOT_FOUND=6354]="SHIP_PVE_BATTLE_NOT_FOUND",t[t.SHIP_PVE_BATTLE_EXPIRED=6355]="SHIP_PVE_BATTLE_EXPIRED",t[t.SHIP_PVE_BATTLE_FINISHED=6356]="SHIP_PVE_BATTLE_FINISHED",t[t.SHIP_PVE_START_PARAM_ERROR=6357]="SHIP_PVE_START_PARAM_ERROR",t[t.SHIP_PVE_FINISH_PARAM_ERROR=6358]="SHIP_PVE_FINISH_PARAM_ERROR",t[t.SHIP_REPAIR_INVALID_PARAM=6359]="SHIP_REPAIR_INVALID_PARAM",t[t.SHIP_NO_NEED_REPAIR=6360]="SHIP_NO_NEED_REPAIR",t[t.SHIP_UNREPAIRABLE=6361]="SHIP_UNREPAIRABLE",t[t.REWARD_INVALID_UID=6400]="REWARD_INVALID_UID",t[t.REWARD_NOT_FOUND=6401]="REWARD_NOT_FOUND",t[t.REWARD_NOT_CLAIMED=6402]="REWARD_NOT_CLAIMED",t[t.EQUIPMENT_NOT_FOUND=6500]="EQUIPMENT_NOT_FOUND",t[t.EQUIPMENT_NOT_EQUIP=6501]="EQUIPMENT_NOT_EQUIP",t[t.EQUIPMENT_IN_USE=6502]="EQUIPMENT_IN_USE",t[t.EQUIPMENT_NOT_IN_USE=6503]="EQUIPMENT_NOT_IN_USE",t[t.PVP_INVALID_SPIN_TIMES=6600]="PVP_INVALID_SPIN_TIMES",t[t.PVP_UPDATE_ISLAND_PATH_INVALID_PARAM=6601]="PVP_UPDATE_ISLAND_PATH_INVALID_PARAM",t[t.PVP_UPDATE_ISLAND_PATH_HIGHEST_LEVEL_REACHED=6602]="PVP_UPDATE_ISLAND_PATH_HIGHEST_LEVEL_REACHED",t[t.PVP_UPDATE_ISLAND_NEED_UPDATE_PATH=6603]="PVP_UPDATE_ISLAND_NEED_UPDATE_PATH",t[t.PVP_UPDATE_ISLAND_HIGHEST_LEVEL_REACHED=6604]="PVP_UPDATE_ISLAND_HIGHEST_LEVEL_REACHED",t[t.SHOP_NOT_FOUND=6700]="SHOP_NOT_FOUND",t[t.SHOP_WAS_CLOSED=6701]="SHOP_WAS_CLOSED",t[t.SHOP_NOT_AVAILABLE=6702]="SHOP_NOT_AVAILABLE",t[t.SHOP_ITEM_NOT_AVAILABLE=6703]="SHOP_ITEM_NOT_AVAILABLE",t[t.SHOP_ITEM_NOT_ENOUGH_QUANTITY=6704]="SHOP_ITEM_NOT_ENOUGH_QUANTITY",t[t.SHOP_BUY_INVALID_PARAM=6705]="SHOP_BUY_INVALID_PARAM",t[t.PORT_ALREADY_OWN=6800]="PORT_ALREADY_OWN",t[t.PORT_NOT_OWN=6801]="PORT_NOT_OWN",t[t.PORT_USE_INVALID_PARAM=6802]="PORT_USE_INVALID_PARAM",t[t.TOKEN_TXN_EXIST=6900]="TOKEN_TXN_EXIST",t[t.TOKEN_TXN_INVALID=6901]="TOKEN_TXN_INVALID",t[t.TOKEN_WITHDRAWAL_INVALID_PARAM=6902]="TOKEN_WITHDRAWAL_INVALID_PARAM",t[t.TOKEN_WITHDRAWAL_COOL_DOWN=6903]="TOKEN_WITHDRAWAL_COOL_DOWN",t[t.TOKEN_WITHDRAWAL_LIMIT=6904]="TOKEN_WITHDRAWAL_LIMIT",t[t.TOKEN_WITHDRAWAL_TXN_NOT_FOUND=6905]="TOKEN_WITHDRAWAL_TXN_NOT_FOUND",t[t.MARKET_INVALID_PARAM=7e3]="MARKET_INVALID_PARAM",t[t.MARKET_SELL_NOT_OWN_SHIP=7001]="MARKET_SELL_NOT_OWN_SHIP",t[t.MARKET_SELL_PORT_REQUIRED=7002]="MARKET_SELL_PORT_REQUIRED",t[t.MARKET_SELL_NOT_ENOUGH_MARKET_TICKET=7003]="MARKET_SELL_NOT_ENOUGH_MARKET_TICKET",t[t.MARKET_CANCEL_MARKET_ITEM_NOT_FOUND=7004]="MARKET_CANCEL_MARKET_ITEM_NOT_FOUND",t[t.MARKET_SELL_SHIP_BROKEN=7005]="MARKET_SELL_SHIP_BROKEN"}(r.ErrorCode||(r.ErrorCode={})),cc._RF.pop()},{}],3:[function(t,e,r){(function(t,n){"object"==typeof r&&void 0!==e?n(r):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).schema={})})(this,function(t){"use strict";var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,r)};function r(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}function n(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function o(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t}var i,s=255;t.OPERATION=void 0,(i=t.OPERATION||(t.OPERATION={}))[i.ADD=128]="ADD",i[i.REPLACE=0]="REPLACE",i[i.DELETE=64]="DELETE",i[i.DELETE_AND_ADD=192]="DELETE_AND_ADD",i[i.TOUCH=1]="TOUCH",i[i.CLEAR=10]="CLEAR";var a=function(){function t(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return t.prototype.getNextUniqueId=function(){return this.nextUniqueId++},t.prototype.addRef=function(t,e,r){void 0===r&&(r=!0),this.refs.set(t,e),r&&(this.refCounts[t]=(this.refCounts[t]||0)+1)},t.prototype.removeRef=function(t){this.refCounts[t]=this.refCounts[t]-1,this.deletedRefs.add(t)},t.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},t.prototype.garbageCollectDeletedRefs=function(){var t=this;this.deletedRefs.forEach(function(e){if(t.refCounts[e]<=0){var r=t.refs.get(e);if(r instanceof ft)for(var n in r._definition.schema)"string"!=typeof r._definition.schema[n]&&r[n]&&r[n].$changes&&t.removeRef(r[n].$changes.refId);else{var o=r.$changes.parent._definition,i=o.schema[o.fieldsByIndex[r.$changes.parentIndex]];"function"==typeof Object.values(i)[0]&&Array.from(r.values()).forEach(function(e){return t.removeRef(e.$changes.refId)})}t.refs.delete(e),delete t.refCounts[e]}}),this.deletedRefs.clear()},t}(),c=function(){function e(t,e,r){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=t,this.setParent(e,r)}return e.prototype.setParent=function(t,e,r){var n=this;if(this.indexes||(this.indexes=this.ref instanceof ft?this.ref._definition.indexes:{}),this.parent=t,this.parentIndex=r,e)if(this.root=e,this.ref instanceof ft){var o=this.ref._definition;for(var i in o.schema){var s=this.ref[i];if(s&&s.$changes){var a=o.indexes[i];s.$changes.setParent(this.ref,e,a)}}}else"object"==typeof this.ref&&this.ref.forEach(function(t,e){if(t instanceof ft){var r=t.$changes,o=n.ref.$changes.indexes[e];r.setParent(n.ref,n.root,o)}})},e.prototype.operation=function(t){this.changes.set(--this.currentCustomOperation,t)},e.prototype.change=function(e,r){void 0===r&&(r=t.OPERATION.ADD);var n="number"==typeof e?e:this.indexes[e];this.assertValidIndex(n,e);var o=this.changes.get(n);o&&o.op!==t.OPERATION.DELETE&&o.op!==t.OPERATION.TOUCH||this.changes.set(n,{op:o&&o.op===t.OPERATION.DELETE?t.OPERATION.DELETE_AND_ADD:r,index:n}),this.allChanges.add(n),this.changed=!0,this.touchParents()},e.prototype.touch=function(e){var r="number"==typeof e?e:this.indexes[e];this.assertValidIndex(r,e),this.changes.has(r)||this.changes.set(r,{op:t.OPERATION.TOUCH,index:r}),this.allChanges.add(r),this.touchParents()},e.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},e.prototype.getType=function(t){if(this.ref._definition)return(e=this.ref._definition).schema[e.fieldsByIndex[t]];var e,r=(e=this.parent._definition).schema[e.fieldsByIndex[this.parentIndex]];return Object.values(r)[0]},e.prototype.getChildrenFilter=function(){var t=this.parent._definition.childFilters;return t&&t[this.parentIndex]},e.prototype.getValue=function(t){return this.ref.getByIndex(t)},e.prototype.delete=function(e){var r="number"==typeof e?e:this.indexes[e];if(void 0!==r){var n=this.getValue(r);this.changes.set(r,{op:t.OPERATION.DELETE,index:r}),this.allChanges.delete(r),delete this.caches[r],n&&n.$changes&&(n.$changes.parent=void 0),this.changed=!0,this.touchParents()}else console.warn("@colyseus/schema "+this.ref.constructor.name+": trying to delete non-existing index: "+e+" ("+r+")")},e.prototype.discard=function(e,r){var n=this;void 0===e&&(e=!1),void 0===r&&(r=!1),this.ref instanceof ft||this.changes.forEach(function(e){if(e.op===t.OPERATION.DELETE){var r=n.ref.getIndex(e.index);delete n.indexes[r]}}),this.changes.clear(),this.changed=e,r&&this.allChanges.clear(),this.currentCustomOperation=0},e.prototype.discardAll=function(){var t=this;this.changes.forEach(function(e){var r=t.getValue(e.index);r&&r.$changes&&r.$changes.discardAll()}),this.discard()},e.prototype.cache=function(t,e){this.caches[t]=e},e.prototype.clone=function(){return new e(this.ref,this.parent,this.root)},e.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},e.prototype.assertValidIndex=function(t,e){if(void 0===t)throw new Error('ChangeTree: missing index for field "'+e+'"')},e}(),u=function(t,e){var r=t.toString(),n=e.toString();return r<n?-1:r>n?1:0};function p(t){return t.$proxy=!0,new Proxy(t,{get:function(t,e){return"symbol"==typeof e||isNaN(e)?t[e]:t.at(e)},set:function(t,e,r){if("symbol"==typeof e||isNaN(e))t[e]=r;else{var n=Array.from(t.$items.keys()),o=parseInt(n[e]||e);null==r?t.deleteAt(o):t.setAt(o,r)}return!0},deleteProperty:function(t,e){return"number"==typeof e?t.deleteAt(e):delete t[e],!0}})}var l=function(){function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,t)}return e.is=function(t){return Array.isArray(t)||void 0!==t.array},Object.defineProperty(e.prototype,"length",{get:function(){return this.$items.size},set:function(t){0===t?this.clear():this.splice(t,this.length-t)},enumerable:!1,configurable:!0}),e.prototype.push=function(){for(var t,e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.forEach(function(r){t=e.$refId++,e.setAt(t,r)}),t},e.prototype.pop=function(){var t=Array.from(this.$indexes.values()).pop();if(void 0!==t){this.$changes.delete(t),this.$indexes.delete(t);var e=this.$items.get(t);return this.$items.delete(t),e}},e.prototype.at=function(t){var e=Array.from(this.$items.keys())[t];return this.$items.get(e)},e.prototype.setAt=function(e,r){var n,o;void 0!==r.$changes&&r.$changes.setParent(this,this.$changes.root,e);var i=null!==(o=null===(n=this.$changes.indexes[e])||void 0===n?void 0:n.op)&&void 0!==o?o:t.OPERATION.ADD;this.$changes.indexes[e]=e,this.$indexes.set(e,e),this.$items.set(e,r),this.$changes.change(e,i)},e.prototype.deleteAt=function(t){var e=Array.from(this.$items.keys())[t];return void 0!==e&&this.$deleteAt(e)},e.prototype.$deleteAt=function(t){return this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t)},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.concat=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new(e.bind.apply(e,o([void 0],(t=Array.from(this.$items.values())).concat.apply(t,r))))},e.prototype.join=function(t){return Array.from(this.$items.values()).join(t)},e.prototype.reverse=function(){var t=this,e=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach(function(r,n){t.setAt(e[n],r)}),this},e.prototype.shift=function(){var t=Array.from(this.$items.keys()).shift();if(void 0!==t){var e=this.$items.get(t);return this.$deleteAt(t),e}},e.prototype.slice=function(t,r){return new(e.bind.apply(e,o([void 0],Array.from(this.$items.values()).slice(t,r))))},e.prototype.sort=function(t){var e=this;void 0===t&&(t=u);var r=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(t).forEach(function(t,n){e.setAt(r[n],t)}),this},e.prototype.splice=function(t,e){void 0===e&&(e=this.length-t);for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];for(var o=Array.from(this.$items.keys()),i=[],s=t;s<t+e;s++)i.push(this.$items.get(o[s])),this.$deleteAt(o[s]);return i},e.prototype.unshift=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.length,o=e.length,i=Array.from(this.$items.values());return e.forEach(function(e,r){t.setAt(r,e)}),i.forEach(function(e,r){t.setAt(o+r,e)}),n+o},e.prototype.indexOf=function(t,e){return Array.from(this.$items.values()).indexOf(t,e)},e.prototype.lastIndexOf=function(t,e){return void 0===e&&(e=this.length-1),Array.from(this.$items.values()).lastIndexOf(t,e)},e.prototype.every=function(t,e){return Array.from(this.$items.values()).every(t,e)},e.prototype.some=function(t,e){return Array.from(this.$items.values()).some(t,e)},e.prototype.forEach=function(t,e){Array.from(this.$items.values()).forEach(t,e)},e.prototype.map=function(t,e){return Array.from(this.$items.values()).map(t,e)},e.prototype.filter=function(t,e){return Array.from(this.$items.values()).filter(t,e)},e.prototype.reduce=function(t,e){return Array.from(this.$items.values()).reduce(t,e)},e.prototype.reduceRight=function(t,e){return Array.from(this.$items.values()).reduceRight(t,e)},e.prototype.find=function(t,e){return Array.from(this.$items.values()).find(t,e)},e.prototype.findIndex=function(t,e){return Array.from(this.$items.values()).findIndex(t,e)},e.prototype.fill=function(){throw new Error("ArraySchema#fill() not implemented")},e.prototype.copyWithin=function(){throw new Error("ArraySchema#copyWithin() not implemented")},e.prototype.toString=function(){return this.$items.toString()},e.prototype.toLocaleString=function(){return this.$items.toLocaleString()},e.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},e.prototype[Symbol.unscopables]=function(){return this.$items[Symbol.unscopables]()},e.prototype.entries=function(){return this.$items.entries()},e.prototype.keys=function(){return this.$items.keys()},e.prototype.values=function(){return this.$items.values()},e.prototype.includes=function(t,e){return Array.from(this.$items.values()).includes(t,e)},e.prototype.flatMap=function(){throw new Error("ArraySchema#flatMap() is not supported.")},e.prototype.flat=function(){throw new Error("ArraySchema#flat() is not supported.")},e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){return this.toArray().map(function(t){return"function"==typeof t.toJSON?t.toJSON():t})},e.prototype.clone=function(t){return t?new(e.bind.apply(e,o([void 0],Array.from(this.$items.values())))):new(e.bind.apply(e,o([void 0],this.map(function(t){return t.$changes?t.clone():t}))))},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}();function f(t){return t.$proxy=!0,new Proxy(t,{get:function(t,e){return"symbol"!=typeof e&&void 0===t[e]?t.get(e):t[e]},set:function(t,e,r){return"symbol"!=typeof e&&-1===e.indexOf("$")&&"onAdd"!==e&&"onRemove"!==e&&"onChange"!==e?t.set(e,r):t[e]=r,!0},deleteProperty:function(t,e){return t.delete(e),!0}})}var h=function(){function e(t){var e=this;if(this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t)if(t instanceof Map)t.forEach(function(t,r){return e.set(r,t)});else for(var r in t)this.set(r,t[r])}return e.is=function(t){return void 0!==t.map},e.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),e.prototype.set=function(e,r){if(null==r)throw new Error("MapSchema#set('"+e+"', "+r+"): trying to set "+r+" value on '"+e+"'.");var n=void 0!==this.$changes.indexes[e],o=n?this.$changes.indexes[e]:this.$refId++,i=n?t.OPERATION.REPLACE:t.OPERATION.ADD,s=void 0!==r.$changes;return s&&r.$changes.setParent(this,this.$changes.root,o),n?s&&this.$items.get(e)!==r&&(i=t.OPERATION.ADD):(this.$changes.indexes[e]=o,this.$indexes.set(o,e)),this.$items.set(e,r),this.$changes.change(e,i),this},e.prototype.get=function(t){return this.$items.get(t)},e.prototype.delete=function(t){return this.$changes.delete(t),this.$items.delete(t)},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){return this.$items.has(t)},e.prototype.forEach=function(t){this.$items.forEach(t)},e.prototype.entries=function(){return this.$items.entries()},e.prototype.keys=function(){return this.$items.keys()},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toJSON=function(){var t={};return this.forEach(function(e,r){t[r]="function"==typeof e.toJSON?e.toJSON():e}),t},e.prototype.clone=function(t){var r;return t?r=Object.assign(new e,this):(r=new e,this.forEach(function(t,e){t.$changes?r.set(e,t.clone()):r.set(e,t)})),r},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}(),d={};function _(t,e){d[t]=e}function y(t){return d[t]}var v=function(){function t(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return t.create=function(e){var r=new t;return r.schema=Object.assign({},e&&e.schema||{}),r.indexes=Object.assign({},e&&e.indexes||{}),r.fieldsByIndex=Object.assign({},e&&e.fieldsByIndex||{}),r.descriptors=Object.assign({},e&&e.descriptors||{}),r.deprecated=Object.assign({},e&&e.deprecated||{}),r},t.prototype.addField=function(t,e){var r=this.getNextFieldIndex();this.fieldsByIndex[r]=t,this.indexes[t]=r,this.schema[t]=Array.isArray(e)?{array:e[0]}:e},t.prototype.addFilter=function(t,e){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[t]]=e,this.indexesWithFilters.push(this.indexes[t]),!0},t.prototype.addChildrenFilter=function(t,e){var r=this.indexes[t],n=this.schema[t];if(y(Object.keys(n)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[r]=e,!0;console.warn("@filterChildren: field '"+t+"' can't have children. Ignoring filter.")},t.prototype.getChildrenFilter=function(t){return this.childFilters&&this.childFilters[this.indexes[t]]},t.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},t}(),g=function(){function t(){this.types={},this.schemas=new Map,this.useFilters=!1}return t.prototype.has=function(t){return this.schemas.has(t)},t.prototype.get=function(t){return this.types[t]},t.prototype.add=function(t,e){void 0===e&&(e=this.schemas.size),t._definition=v.create(t._definition),t._typeid=e,this.types[e]=t,this.schemas.set(t,e)},t.create=function(e){return void 0===e&&(e=new t),function(t){return E(t,e)}},t}(),m=new g;function E(t,e){return void 0===e&&(e=m),function(r,n){if(!t)throw new Error("Type not found. Ensure your `@type` annotations are correct and that you don't have any circular dependencies.");var i=r.constructor;i._context=e,e.has(i)||e.add(i);var s=i._definition;if(s.addField(n,t),s.descriptors[n]){if(s.deprecated[n])return;try{throw new Error("@colyseus/schema: Duplicate '"+n+"' definition on '"+i.name+"'.\nCheck @type() annotation")}catch(y){var a=y.stack.split("\n")[4].trim();throw new Error(y.message+" "+a)}}var c=l.is(t),u=!c&&h.is(t);if("string"!=typeof t&&!ft.is(t)){var d=Object.values(t)[0];"string"==typeof d||e.has(d)||e.add(d)}var _="_"+n;s.descriptors[_]={enumerable:!1,configurable:!1,writable:!0},s.descriptors[n]={get:function(){return this[_]},set:function(t){t!==this[_]&&(null!=t?(!c||t instanceof l||(t=new(l.bind.apply(l,o([void 0],t)))),!u||t instanceof h||(t=new h(t)),void 0===t.$proxy&&(u?t=f(t):c&&(t=p(t))),this.$changes.change(n),t.$changes&&t.$changes.setParent(this,this.$changes.root,this._definition.indexes[n])):this.$changes.delete(n),this[_]=t)},enumerable:!0,configurable:!0}}}function O(t){for(var e=0,r=0,n=0,o=t.length;n<o;n++)(e=t.charCodeAt(n))<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function b(t,e,r){for(var n=0,o=0,i=r.length;o<i;o++)(n=r.charCodeAt(o))<128?t[e++]=n:n<2048?(t[e++]=192|n>>6,t[e++]=128|63&n):n<55296||n>=57344?(t[e++]=224|n>>12,t[e++]=128|n>>6&63,t[e++]=128|63&n):(o++,n=65536+((1023&n)<<10|1023&r.charCodeAt(o)),t[e++]=240|n>>18,t[e++]=128|n>>12&63,t[e++]=128|n>>6&63,t[e++]=128|63&n)}function R(t,e){t.push(255&e)}function P(t,e){t.push(255&e)}function M(t,e){t.push(255&e),t.push(e>>8&255)}function I(t,e){t.push(255&e),t.push(e>>8&255)}function w(t,e){t.push(255&e),t.push(e>>8&255),t.push(e>>16&255),t.push(e>>24&255)}function S(t,e){var r=e>>24,n=e>>16,o=e>>8,i=e;t.push(255&i),t.push(255&o),t.push(255&n),t.push(255&r)}function A(t,e){var r=Math.floor(e/Math.pow(2,32));S(t,e>>>0),S(t,r)}function C(t,e){var r=e/Math.pow(2,32)>>0;S(t,e>>>0),S(t,r)}var D=new Int32Array(2),T=new Float32Array(D.buffer),j=new Float64Array(D.buffer);function N(t,e){T[0]=e,w(t,D[0])}function x(t,e){j[0]=e,w(t,D[0]),w(t,D[1])}function L(t,e){e||(e="");var r=O(e),n=0;if(r<32)t.push(160|r),n=1;else if(r<256)t.push(217),P(t,r),n=2;else if(r<65536)t.push(218),I(t,r),n=3;else{if(!(r<4294967296))throw new Error("String too long");t.push(219),S(t,r),n=5}return b(t,t.length,e),n+r}function B(t,e){return isNaN(e)?B(t,0):isFinite(e)?e!==(0|e)?(t.push(203),x(t,e),9):e>=0?e<128?(P(t,e),1):e<256?(t.push(204),P(t,e),2):e<65536?(t.push(205),I(t,e),3):e<4294967296?(t.push(206),S(t,e),5):(t.push(207),C(t,e),9):e>=-32?(t.push(224|e+32),1):e>=-128?(t.push(208),R(t,e),2):e>=-32768?(t.push(209),M(t,e),3):e>=-2147483648?(t.push(210),w(t,e),5):(t.push(211),A(t,e),9):B(t,e>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var k=Object.freeze({__proto__:null,utf8Write:b,int8:R,uint8:P,int16:M,uint16:I,int32:w,uint32:S,int64:A,uint64:C,float32:function(t,e){N(t,e)},float64:function(t,e){x(t,e)},writeFloat32:N,writeFloat64:x,boolean:function(t,e){return P(t,e?1:0)},string:L,number:B});function q(t,e,r){for(var n="",o=0,i=e,s=e+r;i<s;i++){var a=t[i];0!=(128&a)?192!=(224&a)?224!=(240&a)?240!=(248&a)?console.error("Invalid byte "+a.toString(16)):(o=(7&a)<<18|(63&t[++i])<<12|(63&t[++i])<<6|(63&t[++i])<<0)>=65536?(o-=65536,n+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):n+=String.fromCharCode(o):n+=String.fromCharCode((15&a)<<12|(63&t[++i])<<6|(63&t[++i])<<0):n+=String.fromCharCode((31&a)<<6|63&t[++i]):n+=String.fromCharCode(a)}return n}function F(t,e){return U(t,e)<<24>>24}function U(t,e){return t[e.offset++]}function $(t,e){return H(t,e)<<16>>16}function H(t,e){return t[e.offset++]|t[e.offset++]<<8}function V(t,e){return t[e.offset++]|t[e.offset++]<<8|t[e.offset++]<<16|t[e.offset++]<<24}function G(t,e){return V(t,e)>>>0}function W(t,e){var r=G(t,e);return V(t,e)*Math.pow(2,32)+r}function Y(t,e){var r=G(t,e);return G(t,e)*Math.pow(2,32)+r}var K=new Int32Array(2),z=new Float32Array(K.buffer),J=new Float64Array(K.buffer);function Q(t,e){return K[0]=V(t,e),z[0]}function X(t,e){return K[0]=V(t,e),K[1]=V(t,e),J[0]}function Z(t,e){var r,n=t[e.offset++];n<192?r=31&n:217===n?r=U(t,e):218===n?r=H(t,e):219===n&&(r=G(t,e));var o=q(t,e.offset,r);return e.offset+=r,o}function tt(t,e){var r=t[e.offset++];return r<128?r:202===r?Q(t,e):203===r?X(t,e):204===r?U(t,e):205===r?H(t,e):206===r?G(t,e):207===r?Y(t,e):208===r?F(t,e):209===r?$(t,e):210===r?V(t,e):211===r?W(t,e):r>223?-1*(255-r+1):void 0}function et(t,e){return t[e.offset-1]===s&&(t[e.offset]<128||t[e.offset]>=202&&t[e.offset]<=211)}var rt=Object.freeze({__proto__:null,int8:F,uint8:U,int16:$,uint16:H,int32:V,uint32:G,float32:function(t,e){return Q(t,e)},float64:function(t,e){return X(t,e)},int64:W,uint64:Y,readFloat32:Q,readFloat64:X,boolean:function(t,e){return U(t,e)>0},string:Z,stringCheck:function(t,e){var r=t[e.offset];return r<192&&r>160||217===r||218===r||219===r},number:tt,numberCheck:function(t,e){var r=t[e.offset];return r<128||r>=202&&r<=211},arrayCheck:function(t,e){return t[e.offset]<160},switchStructureCheck:et}),nt=function(){function e(t){var e=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t&&t.forEach(function(t){return e.add(t)})}return e.is=function(t){return void 0!==t.collection},e.prototype.add=function(t){var e=this.$refId++;return void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,e),this.$changes.indexes[e]=e,this.$indexes.set(e,e),this.$items.set(e,t),this.$changes.change(e),e},e.prototype.at=function(t){var e=Array.from(this.$items.keys())[t];return this.$items.get(e)},e.prototype.entries=function(){return this.$items.entries()},e.prototype.delete=function(t){for(var e,r,n=this.$items.entries();(r=n.next())&&!r.done;)if(t===r.value[1]){e=r.value[0];break}return void 0!==e&&(this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e))},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){return Array.from(this.$items.values()).some(function(e){return e===t})},e.prototype.forEach=function(t){var e=this;this.$items.forEach(function(r,n){return t(r,n,e)})},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){var t=[];return this.forEach(function(e){t.push("function"==typeof e.toJSON?e.toJSON():e)}),t},e.prototype.clone=function(t){var r;return t?r=Object.assign(new e,this):(r=new e,this.forEach(function(t){t.$changes?r.add(t.clone()):r.add(t)})),r},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}(),ot=function(){function e(t){var e=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t&&t.forEach(function(t){return e.add(t)})}return e.is=function(t){return void 0!==t.set},e.prototype.add=function(e){var r,n;if(this.has(e))return!1;var o=this.$refId++;void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,o);var i=null!==(n=null===(r=this.$changes.indexes[o])||void 0===r?void 0:r.op)&&void 0!==n?n:t.OPERATION.ADD;return this.$changes.indexes[o]=o,this.$indexes.set(o,o),this.$items.set(o,e),this.$changes.change(o,i),o},e.prototype.entries=function(){return this.$items.entries()},e.prototype.delete=function(t){for(var e,r,n=this.$items.entries();(r=n.next())&&!r.done;)if(t===r.value[1]){e=r.value[0];break}return void 0!==e&&(this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e))},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){for(var e,r=this.$items.values(),n=!1;(e=r.next())&&!e.done;)if(t===e.value){n=!0;break}return n},e.prototype.forEach=function(t){var e=this;this.$items.forEach(function(r,n){return t(r,n,e)})},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){var t=[];return this.forEach(function(e){t.push("function"==typeof e.toJSON?e.toJSON():e)}),t},e.prototype.clone=function(t){var r;return t?r=Object.assign(new e,this):(r=new e,this.forEach(function(t){t.$changes?r.add(t.clone()):r.add(t)})),r},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}(),it=function(){function t(){this.handlers=[]}return t.prototype.register=function(t){return this.handlers.push(t),this},t.prototype.invoke=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.handlers.forEach(function(e){return e.apply(void 0,t)})},t.prototype.invokeAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Promise.all(this.handlers.map(function(e){return e.apply(void 0,t)}))},t.prototype.remove=function(t){var e=this.handlers.indexOf(t);this.handlers[e]=this.handlers[this.handlers.length-1],this.handlers.pop()},t.prototype.clear=function(){this.handlers=[]},t}(),st=function(){function t(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return t.prototype.addRefId=function(t){this.refIds.has(t)||(this.refIds.add(t),this.containerIndexes.set(t,new Set))},t.get=function(e){return void 0===e.$filterState&&(e.$filterState=new t),e.$filterState},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(Error);function ct(t,e,r,n){var o,i=!1;switch(e){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":o="number",isNaN(t)&&console.log('trying to encode "NaN" in '+r.constructor.name+"#"+n);break;case"string":o="string",i=!0;break;case"boolean":return}if(typeof t!==o&&(!i||i&&null!==t)){var s="'"+JSON.stringify(t)+"'"+(t&&t.constructor&&" ("+t.constructor.name+")"||"");throw new at("a '"+o+"' was expected, but "+s+" was provided in "+r.constructor.name+"#"+n)}}function ut(t,e,r,n){if(!(t instanceof e))throw new at("a '"+e.name+"' was expected, but '"+t.constructor.name+"' was provided in "+r.constructor.name+"#"+n)}function pt(t,e,r,n,o){ct(r,t,n,o);var i=k[t];if(!i)throw new at("a '"+t+"' was expected, but "+r+" was provided in "+n.constructor.name+"#"+o);i(e,r)}function lt(t,e,r){return rt[t](e,r)}var ft=function(){function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Object.defineProperties(this,{$changes:{value:new c(this,void 0,new a),enumerable:!1,writable:!0},$listeners:{value:{},enumerable:!1,writable:!0}});var r=this._definition.descriptors;r&&Object.defineProperties(this,r),t[0]&&this.assign(t[0])}return e.onError=function(t){console.error(t)},e.is=function(t){return t._definition&&void 0!==t._definition.schema},e.prototype.assign=function(t){return Object.assign(this,t),this},Object.defineProperty(e.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),e.prototype.listen=function(t,e){var r=this;return this.$listeners[t]||(this.$listeners[t]=new it),this.$listeners[t].register(e),function(){return r.$listeners[t].remove(e)}},e.prototype.decode=function(r,n,o,i){void 0===n&&(n={offset:0}),void 0===o&&(o=this),void 0===i&&(i=new Map);var a=this.$changes.root,c=r.length,u=0,p=[];for(a.refs.set(u,this),i.set(u,p);n.offset<c;){var f=r[n.offset++];if(f!=s){var d=o.$changes,_=void 0!==o._definition,v=_?f>>6<<6:f;if(v!==t.OPERATION.CLEAR){var g=_?f%(v||255):tt(r,n),m=_?o._definition.fieldsByIndex[g]:"",E=d.getType(g),O=void 0,b=void 0,R=void 0;if(_?b=o["_"+m]:(b=o.getByIndex(g),(v&t.OPERATION.ADD)===t.OPERATION.ADD?(R=o instanceof h?Z(r,n):g,o.setIndex(g,R)):R=o.getIndex(g)),(v&t.OPERATION.DELETE)===t.OPERATION.DELETE&&(v!==t.OPERATION.DELETE_AND_ADD&&o.deleteByIndex(g),b&&b.$changes&&a.removeRef(b.$changes.refId),O=null),void 0!==m){if(v===t.OPERATION.DELETE);else if(e.is(E)){var P=tt(r,n);if(O=a.refs.get(P),v!==t.OPERATION.REPLACE){var M=this.getSchemaType(r,n,E);O||((O=this.createTypeInstance(M)).$changes.refId=P,b&&(O.onChange=b.onChange,O.onRemove=b.onRemove,O.$listeners=b.$listeners,b.$changes.refId&&P!==b.$changes.refId&&a.removeRef(b.$changes.refId))),a.addRef(P,O,O!==b)}}else if("string"==typeof E)O=lt(E,r,n);else{var I=y(Object.keys(E)[0]),w=tt(r,n),S=a.refs.has(w)?b||a.refs.get(w):new I.constructor;if((O=S.clone(!0)).$changes.refId=w,b&&(O.onAdd=b.onAdd,O.onRemove=b.onRemove,O.onChange=b.onChange,b.$changes.refId&&w!==b.$changes.refId)){a.removeRef(b.$changes.refId);for(var A=[],C=b.entries(),D=void 0;(D=C.next())&&!D.done;){var T=D.value,j=T[0],N=T[1];A.push({op:t.OPERATION.DELETE,field:j,value:void 0,previousValue:N})}i.set(b.$changes.refId,A)}a.addRef(w,O,S!==b),I.getProxy&&(O=I.getProxy(O))}var x=b!==O;if(null!=O)if(O.$changes&&O.$changes.setParent(d.ref,d.root,g),o instanceof e)o[m]=O;else if(o instanceof h)j=R,o.$items.set(j,O);else if(o instanceof l)o.setAt(g,O);else if(o instanceof nt){var L=o.add(O);o.setIndex(g,L)}else o instanceof ot&&!1!==(L=o.add(O))&&o.setIndex(g,L);x&&p.push({op:v,field:m,dynamicIndex:R,value:O,previousValue:b})}else{console.warn("@colyseus/schema: definition mismatch");for(var B={offset:n.offset};n.offset<c&&(!et(r,n)||(B.offset=n.offset+1,!a.refs.has(tt(r,B))));)n.offset++}}else o.clear(!0)}else{u=tt(r,n);var k=a.refs.get(u);if(!k)throw new Error('"refId" not found: '+u);o=k,p=[],i.set(u,p)}}return this._triggerChanges(i),a.garbageCollectDeletedRefs(),i},e.prototype.encode=function(r,n,o){void 0===r&&(r=!1),void 0===n&&(n=[]),void 0===o&&(o=!1);for(var i=this.$changes,a=new WeakSet,c=[i],u=1,p=0;p<u;p++){var l=c[p],f=l.ref,d=f instanceof e;l.ensureRefId(),a.add(l),l!==i&&(l.changed||r)&&(P(n,s),B(n,l.refId));for(var _=r?Array.from(l.allChanges):Array.from(l.changes.values()),v=0,g=_.length;v<g;v++){var m=r?{op:t.OPERATION.ADD,index:_[v]}:_[v],E=m.index,O=d?f._definition.fieldsByIndex&&f._definition.fieldsByIndex[E]:E,b=n.length;if(m.op!==t.OPERATION.TOUCH)if(d)P(n,E|m.op);else{if(P(n,m.op),m.op===t.OPERATION.CLEAR)continue;B(n,E)}if(d||(m.op&t.OPERATION.ADD)!=t.OPERATION.ADD||f instanceof h&&L(n,l.ref.$indexes.get(E)),m.op!==t.OPERATION.DELETE){var R=l.getType(E),M=l.getValue(E);if(M&&M.$changes&&!a.has(M.$changes)&&(c.push(M.$changes),M.$changes.ensureRefId(),u++),m.op!==t.OPERATION.TOUCH){if(e.is(R))ut(M,R,f,O),B(n,M.$changes.refId),(m.op&t.OPERATION.ADD)===t.OPERATION.ADD&&this.tryEncodeTypeId(n,R,M.constructor);else if("string"==typeof R)pt(R,n,M,f,O);else{var I=y(Object.keys(R)[0]);ut(f["_"+O],I.constructor,f,O),B(n,M.$changes.refId)}o&&l.cache(E,n.slice(b))}}}r||o||l.discard()}return n},e.prototype.encodeAll=function(t){return this.encode(!0,[],t)},e.prototype.applyFilters=function(r,n){var o,i;void 0===n&&(n=!1);for(var a=this,c=new Set,u=st.get(r),p=[this.$changes],l=1,f=[],d=function(d){var _=p[d];if(c.has(_.refId))return"continue";var y=_.ref,v=y instanceof e;P(f,s),B(f,_.refId);var g=u.refIds.has(_),m=n||!g;u.addRefId(_);var E=u.containerIndexes.get(_),O=m?Array.from(_.allChanges):Array.from(_.changes.values());!n&&v&&y._definition.indexesWithFilters&&y._definition.indexesWithFilters.forEach(function(e){!E.has(e)&&_.allChanges.has(e)&&(m?O.push(e):O.push({op:t.OPERATION.ADD,index:e}))});for(var b=0,R=O.length;b<R;b++){var M=m?{op:t.OPERATION.ADD,index:O[b]}:O[b];if(M.op!==t.OPERATION.CLEAR){var I=M.index;if(M.op!==t.OPERATION.DELETE){var w=_.getValue(I),S=_.getType(I);if(v){if((A=y._definition.filters&&y._definition.filters[I])&&!A.call(y,r,w,a)){w&&w.$changes&&c.add(w.$changes.refId);continue}}else{var A,C=_.parent;if((A=_.getChildrenFilter())&&!A.call(C,r,y.$indexes.get(I),w,a)){w&&w.$changes&&c.add(w.$changes.refId);continue}}if(w.$changes&&(p.push(w.$changes),l++),M.op!==t.OPERATION.TOUCH)if(M.op===t.OPERATION.ADD||v)f.push.apply(f,null!==(o=_.caches[I])&&void 0!==o?o:[]),E.add(I);else if(E.has(I))f.push.apply(f,null!==(i=_.caches[I])&&void 0!==i?i:[]);else{if(E.add(I),P(f,t.OPERATION.ADD),B(f,I),y instanceof h){var D=_.ref.$indexes.get(I);L(f,D)}w.$changes?B(f,w.$changes.refId):k[S](f,w)}else w.$changes&&!v&&(P(f,t.OPERATION.ADD),B(f,I),y instanceof h&&(D=_.ref.$indexes.get(I),L(f,D)),B(f,w.$changes.refId))}else v?P(f,M.op|I):(P(f,M.op),B(f,I))}else P(f,M.op)}},_=0;_<l;_++)d(_);return f},e.prototype.clone=function(){var t=new this.constructor,e=this._definition.schema;for(var r in e)"object"==typeof this[r]&&"function"==typeof this[r].clone?t[r]=this[r].clone():t[r]=this[r];return t},e.prototype.triggerAll=function(){if(0!==this.$changes.root.refs.size){var t=new Map;e.prototype._triggerAllFillChanges.call(this,this,t);try{e.prototype._triggerChanges.call(this,t)}catch(r){e.onError(r)}}},e.prototype.toJSON=function(){var t=this._definition.schema,e=this._definition.deprecated,r={};for(var n in t)e[n]||null===this[n]||void 0===this[n]||(r[n]="function"==typeof this[n].toJSON?this[n].toJSON():this["_"+n]);return r},e.prototype.discardAllChanges=function(){this.$changes.discardAll()},e.prototype.getByIndex=function(t){return this[this._definition.fieldsByIndex[t]]},e.prototype.deleteByIndex=function(t){this[this._definition.fieldsByIndex[t]]=void 0},e.prototype.tryEncodeTypeId=function(t,e,r){e._typeid!==r._typeid&&(P(t,213),B(t,r._typeid))},e.prototype.getSchemaType=function(t,e,r){var n;return 213===t[e.offset]&&(e.offset++,n=this.constructor._context.get(tt(t,e))),n||r},e.prototype.createTypeInstance=function(t){var e=new t;return e.$changes.root=this.$changes.root,e},e.prototype._triggerAllFillChanges=function(r,n){if(!n.has(r.$changes.refId)){var o=[];if(n.set(r.$changes.refId||0,o),r instanceof e){var i=r._definition.schema;for(var s in i)void 0!==(l=r["_"+s])&&(o.push({op:t.OPERATION.ADD,field:s,value:l,previousValue:void 0}),void 0!==l.$changes&&e.prototype._triggerAllFillChanges.call(this,l,n))}else for(var a=r.entries(),c=void 0;(c=a.next())&&!c.done;){var u=c.value,p=u[0],l=u[1];o.push({op:t.OPERATION.ADD,field:p,dynamicIndex:p,value:l,previousValue:void 0}),void 0!==l.$changes&&e.prototype._triggerAllFillChanges.call(this,l,n)}}},e.prototype._triggerChanges=function(r){var n=this;r.forEach(function(r,o){var i,s,a,c,u,p,l,f,h,d,_,y;if(r.length>0){for(var v=n.$changes.root.refs.get(o),g=v instanceof e,m=0;m<r.length;m++){var E=r[m],O=v.$listeners&&v.$listeners[E.field];if(g||(E.op===t.OPERATION.ADD&&void 0===E.previousValue?null===(s=(i=v).onAdd)||void 0===s||s.call(i,E.value,null!==(a=E.dynamicIndex)&&void 0!==a?a:E.field):E.op===t.OPERATION.DELETE?void 0!==E.previousValue&&(null===(u=(c=v).onRemove)||void 0===u||u.call(c,E.previousValue,null!==(p=E.dynamicIndex)&&void 0!==p?p:E.field)):E.op===t.OPERATION.DELETE_AND_ADD?(void 0!==E.previousValue&&(null===(f=(l=v).onRemove)||void 0===f||f.call(l,E.previousValue,E.dynamicIndex)),null===(d=(h=v).onAdd)||void 0===d||d.call(h,E.value,E.dynamicIndex)):E.op!==t.OPERATION.REPLACE&&E.value===E.previousValue||null===(y=(_=v).onChange)||void 0===y||y.call(_,E.value,E.dynamicIndex)),(E.op&t.OPERATION.DELETE)===t.OPERATION.DELETE&&E.previousValue instanceof e&&E.previousValue.onRemove&&E.previousValue.onRemove(),O)try{O.invoke(E.value,E.previousValue)}catch(b){e.onError(b)}}if(g&&v.onChange)try{v.onChange(r)}catch(b){e.onError(b)}}})},e._definition=v.create(),e}(),ht=new g,dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),n([E("string",ht)],e.prototype,"name",void 0),n([E("string",ht)],e.prototype,"type",void 0),n([E("number",ht)],e.prototype,"referencedType",void 0),e}(ft),_t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fields=new l,e}return r(e,t),n([E("number",ht)],e.prototype,"id",void 0),n([E([dt],ht)],e.prototype,"fields",void 0),e}(ft),yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.types=new l,e}return r(e,t),e.encode=function(t){var r=t.constructor,n=new e;n.rootType=r._typeid;var o=function(t,e){for(var r in e){var o=new dt;o.name=r;var i=void 0;if("string"==typeof e[r])i=e[r];else{var s=e[r],a=void 0;ft.is(s)?(i="ref",a=e[r]):"string"==typeof s[i=Object.keys(s)[0]]?i+=":"+s[i]:a=s[i],o.referencedType=a?a._typeid:-1}o.type=i,t.fields.push(o)}n.types.push(t)},i=r._context.types;for(var s in i){var a=new _t;a.id=Number(s),o(a,i[s]._definition.schema)}return n.encodeAll()},e.decode=function(t,n){var o=new g,i=new e;i.decode(t,n);var s=i.types.reduce(function(t,e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(ft),i=e.id;return t[i]=n,o.add(n,i),t},{});i.types.forEach(function(t){var e=s[t.id];t.fields.forEach(function(t){var r;if(void 0!==t.referencedType){var n=t.type,i=s[t.referencedType];if(!i){var a=t.type.split(":");n=a[0],i=a[1]}"ref"===n?E(i,o)(e.prototype,t.name):E(((r={})[n]=i,r),o)(e.prototype,t.name)}else E(t.type,o)(e.prototype,t.name)})});var a=s[i.rootType],c=new a;for(var u in a._definition.schema){var p=a._definition.schema[u];"string"!=typeof p&&(c[u]="function"==typeof p?new p:new(y(Object.keys(p)[0]).constructor))}return c},n([E([_t],ht)],e.prototype,"types",void 0),n([E("number",ht)],e.prototype,"rootType",void 0),e}(ft);_("map",{constructor:h,getProxy:f}),_("array",{constructor:l,getProxy:p}),_("set",{constructor:ot}),_("collection",{constructor:nt}),t.ArraySchema=l,t.CollectionSchema=nt,t.Context=g,t.MapSchema=h,t.Reflection=yt,t.ReflectionField=dt,t.ReflectionType=_t,t.Schema=ft,t.SchemaDefinition=v,t.SetSchema=ot,t.decode=rt,t.defineTypes=function(t,e,r){for(var n in void 0===r&&(r=t._context||m),e)E(e[n],r)(t.prototype,n);return t},t.deprecated=function(t){return void 0===t&&(t=!0),function(e,r){var n=e.constructor._definition;n.deprecated[r]=!0,t&&(n.descriptors[r]={get:function(){throw new Error(r+" is deprecated.")},set:function(){},enumerable:!1,configurable:!0})}},t.dumpChanges=function(t){for(var e=[t.$changes],r={},n=r,o=function(t){var r=e[t];r.changes.forEach(function(t){var e=r.ref,o=t.index,i=e._definition?e._definition.fieldsByIndex[o]:e.$indexes.get(o);n[i]=r.getValue(o)})},i=0;i<1;i++)o(i);return r},t.encode=k,t.filter=function(t){return function(e,r){var n=e.constructor;n._definition.addFilter(r,t)&&(n._context.useFilters=!0)}},t.filterChildren=function(t){return function(e,r){var n=e.constructor;n._definition.addChildrenFilter(r,t)&&(n._context.useFilters=!0)}},t.hasFilter=function(t){return t._context&&t._context.useFilters},t.registerType=_,t.type=E,Object.defineProperty(t,"__esModule",{value:!0})})},{}],4:[function(t,e){e.exports=t("./lib/axios")},{"./lib/axios":6}],5:[function(t,e){"use strict";var r=t("./../utils"),n=t("./../core/settle"),o=t("./../helpers/cookies"),i=t("./../helpers/buildURL"),s=t("../core/buildFullPath"),a=t("./../helpers/parseHeaders"),c=t("./../helpers/isURLSameOrigin"),u=t("../core/createError"),p=t("../defaults"),l=t("../cancel/Cancel");e.exports=function(t){return new Promise(function(e,f){var h,d=t.data,_=t.headers,y=t.responseType;function v(){t.cancelToken&&t.cancelToken.unsubscribe(h),t.signal&&t.signal.removeEventListener("abort",h)}r.isFormData(d)&&delete _["Content-Type"];var g=new XMLHttpRequest;if(t.auth){var m=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";_.Authorization="Basic "+btoa(m+":"+E)}var O=s(t.baseURL,t.url);function b(){if(g){var r="getAllResponseHeaders"in g?a(g.getAllResponseHeaders()):null,o={data:y&&"text"!==y&&"json"!==y?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:t,request:g};n(function(t){e(t),v()},function(t){f(t),v()},o),g=null}}if(g.open(t.method.toUpperCase(),i(O,t.params,t.paramsSerializer),!0),g.timeout=t.timeout,"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(b)},g.onabort=function(){g&&(f(u("Request aborted",t,"ECONNABORTED",g)),g=null)},g.onerror=function(){f(u("Network Error",t,null,g)),g=null},g.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||p.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),f(u(e,t,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var R=(t.withCredentials||c(O))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;R&&(_[t.xsrfHeaderName]=R)}"setRequestHeader"in g&&r.forEach(_,function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete _[e]:g.setRequestHeader(e,t)}),r.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),y&&"json"!==y&&(g.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&g.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(h=function(t){g&&(f(!t||t&&t.type?new l("canceled"):t),g.abort(),g=null)},t.cancelToken&&t.cancelToken.subscribe(h),t.signal&&(t.signal.aborted?h():t.signal.addEventListener("abort",h))),d||(d=null),g.send(d)})}},{"../cancel/Cancel":7,"../core/buildFullPath":12,"../core/createError":13,"../defaults":19,"./../core/settle":17,"./../helpers/buildURL":22,"./../helpers/cookies":24,"./../helpers/isURLSameOrigin":27,"./../helpers/parseHeaders":29,"./../utils":32}],6:[function(t,e){"use strict";var r=t("./utils"),n=t("./helpers/bind"),o=t("./core/Axios"),i=t("./core/mergeConfig"),s=function t(e){var s=new o(e),a=n(o.prototype.request,s);return r.extend(a,o.prototype,s),r.extend(a,s),a.create=function(r){return t(i(e,r))},a}(t("./defaults"));s.Axios=o,s.Cancel=t("./cancel/Cancel"),s.CancelToken=t("./cancel/CancelToken"),s.isCancel=t("./cancel/isCancel"),s.VERSION=t("./env/data").version,s.all=function(t){return Promise.all(t)},s.spread=t("./helpers/spread"),s.isAxiosError=t("./helpers/isAxiosError"),e.exports=s,e.exports.default=s},{"./cancel/Cancel":7,"./cancel/CancelToken":8,"./cancel/isCancel":9,"./core/Axios":10,"./core/mergeConfig":16,"./defaults":19,"./env/data":20,"./helpers/bind":21,"./helpers/isAxiosError":26,"./helpers/spread":30,"./utils":32}],7:[function(t,e){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},{}],8:[function(t,e){"use strict";var r=t("./Cancel");function n(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;this.promise.then(function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}}),this.promise.then=function(t){var e,r=new Promise(function(t){n.subscribe(t),e=t}).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},n.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},n.source=function(){var t;return{token:new n(function(e){t=e}),cancel:t}},e.exports=n},{"./Cancel":7}],9:[function(t,e){"use strict";e.exports=function(t){return!(!t||!t.__CANCEL__)}},{}],10:[function(t,e){"use strict";var r=t("./../utils"),n=t("../helpers/buildURL"),o=t("./InterceptorManager"),i=t("./dispatchRequest"),s=t("./mergeConfig"),a=t("../helpers/validator"),c=a.validators;function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&a.assertOptions(e,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],n=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(n=n&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});var o,u=[];if(this.interceptors.response.forEach(function(t){u.push(t.fulfilled,t.rejected)}),!n){var p=[i,void 0];for(Array.prototype.unshift.apply(p,r),p=p.concat(u),o=Promise.resolve(t);p.length;)o=o.then(p.shift(),p.shift());return o}for(var l=t;r.length;){var f=r.shift(),h=r.shift();try{l=f(l)}catch(d){h(d);break}}try{o=i(l)}catch(d){return Promise.reject(d)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},u.prototype.getUri=function(t){return t=s(this.defaults,t),n(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],function(t){u.prototype[t]=function(e,r){return this.request(s(r||{},{method:t,url:e,data:(r||{}).data}))}}),r.forEach(["post","put","patch"],function(t){u.prototype[t]=function(e,r,n){return this.request(s(n||{},{method:t,url:e,data:r}))}}),e.exports=u},{"../helpers/buildURL":22,"../helpers/validator":31,"./../utils":32,"./InterceptorManager":11,"./dispatchRequest":14,"./mergeConfig":16}],11:[function(t,e){"use strict";var r=t("./../utils");function n(){this.handlers=[]}n.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},n.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},e.exports=n},{"./../utils":32}],12:[function(t,e){"use strict";var r=t("../helpers/isAbsoluteURL"),n=t("../helpers/combineURLs");e.exports=function(t,e){return t&&!r(e)?n(t,e):e}},{"../helpers/combineURLs":23,"../helpers/isAbsoluteURL":25}],13:[function(t,e){"use strict";var r=t("./enhanceError");e.exports=function(t,e,n,o,i){var s=new Error(t);return r(s,e,n,o,i)}},{"./enhanceError":15}],14:[function(t,e){"use strict";var r=t("./../utils"),n=t("./transformData"),o=t("../cancel/isCancel"),i=t("../defaults"),s=t("../cancel/Cancel");function a(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s("canceled")}e.exports=function(t){return a(t),t.headers=t.headers||{},t.data=n.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||i.adapter)(t).then(function(e){return a(t),e.data=n.call(t,e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(a(t),e&&e.response&&(e.response.data=n.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},{"../cancel/Cancel":7,"../cancel/isCancel":9,"../defaults":19,"./../utils":32,"./transformData":18}],15:[function(t,e){"use strict";e.exports=function(t,e,r,n,o){return t.config=e,r&&(t.code=r),t.request=n,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},{}],16:[function(t,e){"use strict";var r=t("../utils");e.exports=function(t,e){e=e||{};var n={};function o(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function i(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:o(void 0,t[n]):o(t[n],e[n])}function s(t){if(!r.isUndefined(e[t]))return o(void 0,e[t])}function a(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:o(void 0,t[n]):o(void 0,e[n])}function c(r){return r in e?o(t[r],e[r]):r in t?o(void 0,t[r]):void 0}var u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(t).concat(Object.keys(e)),function(t){var e=u[t]||i,o=e(t);r.isUndefined(o)&&e!==c||(n[t]=o)}),n}},{"../utils":32}],17:[function(t,e){"use strict";var r=t("./createError");e.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},{"./createError":13}],18:[function(t,e){"use strict";var r=t("./../utils"),n=t("./../defaults");e.exports=function(t,e,o){var i=this||n;return r.forEach(o,function(r){t=r.call(i,t,e)}),t}},{"./../defaults":19,"./../utils":32}],19:[function(t,e){(function(r){"use strict";var n=t("./utils"),o=t("./helpers/normalizeHeaderName"),i=t("./core/enhanceError"),s={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function c(t,e,r){if(n.isString(t))try{return(e||JSON.parse)(t),n.trim(t)}catch(o){if("SyntaxError"!==o.name)throw o}return(r||JSON.stringify)(t)}var u,p={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?u=t("./adapters/xhr"):void 0!==r&&"[object process]"===Object.prototype.toString.call(r)&&(u=t("./adapters/http")),u),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)||e&&"application/json"===e["Content-Type"]?(a(e,"application/json"),c(t)):t}],transformResponse:[function(t){var e=this.transitional||p.transitional,r=e&&e.silentJSONParsing,o=e&&e.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||o&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(s){if("SyntaxError"===a.name)throw i(a,this,"E_JSON_PARSE");throw a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){p.headers[t]={}}),n.forEach(["post","put","patch"],function(t){p.headers[t]=n.merge(s)}),e.exports=p}).call(this,t("_process"))},{"./adapters/http":5,"./adapters/xhr":5,"./core/enhanceError":15,"./helpers/normalizeHeaderName":28,"./utils":32,_process:2}],20:[function(t,e){e.exports={version:"0.24.0"}},{}],21:[function(t,e){"use strict";e.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},{}],22:[function(t,e){"use strict";var r=t("./../utils");function n(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(t,e,o){if(!e)return t;var i;if(o)i=o(e);else if(r.isURLSearchParams(e))i=e.toString();else{var s=[];r.forEach(e,function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(n(e)+"="+n(t))}))}),i=s.join("&")}if(i){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},{"./../utils":32}],23:[function(t,e){"use strict";e.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},{}],24:[function(t,e){"use strict";var r=t("./../utils");e.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{"./../utils":32}],25:[function(t,e){"use strict";e.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},{}],26:[function(t,e){"use strict";e.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},{}],27:[function(t,e){"use strict";var r=t("./../utils");e.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},{"./../utils":32}],28:[function(t,e){"use strict";var r=t("../utils");e.exports=function(t,e){r.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},{"../utils":32}],29:[function(t,e){"use strict";var r=t("./../utils"),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(t){var e,o,i,s={};return t?(r.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),o=r.trim(t.substr(i+1)),e){if(s[e]&&n.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([o]):s[e]?s[e]+", "+o:o}}),s):s}},{"./../utils":32}],30:[function(t,e){"use strict";e.exports=function(t){return function(e){return t.apply(null,e)}}},{}],31:[function(t,e){"use strict";var r=t("../env/data").version,n={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){n[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var o={};n.transitional=function(t,e,n){function i(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(r,n,s){if(!1===t)throw new Error(i(n," has been removed"+(e?" in "+e:"")));return e&&!o[n]&&(o[n]=!0,console.warn(i(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,s)}},e.exports={assertOptions:function(t,e,r){if("object"!=typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),o=n.length;o-- >0;){var i=n[o],s=e[i];if(s){var a=t[i],c=void 0===a||s(a,i,t);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:n}},{"../env/data":20}],32:[function(t,e){"use strict";var r=t("./helpers/bind"),n=Object.prototype.toString;function o(t){return"[object Array]"===n.call(t)}function i(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function a(t){if("[object Object]"!==n.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===n.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}e.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===n.call(t)},isBuffer:function(t){return null!==t&&!i(t)&&null!==t.constructor&&!i(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:a,isUndefined:i,isDate:function(t){return"[object Date]"===n.call(t)},isFile:function(t){return"[object File]"===n.call(t)},isBlob:function(t){return"[object Blob]"===n.call(t)},isFunction:c,isStream:function(t){return s(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function r(r,n){a(e[n])&&a(r)?e[n]=t(e[n],r):a(r)?e[n]=t({},r):o(r)?e[n]=r.slice():e[n]=r}for(var n=0,i=arguments.length;n<i;n++)u(arguments[n],r);return e},extend:function(t,e,n){return u(e,function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},{"./helpers/bind":21}],33:[function(t,e,r){(function(t){(function(t,n){"object"==typeof r&&void 0!==e?n(r):"function"==typeof define&&define.amd?define("colyseus.js",["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).Colyseus={})})(this,function(e){"use strict";ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return null!==t&&"object"==typeof t&&t.buffer instanceof ArrayBuffer}),"undefined"==typeof globalThis&&"undefined"!=typeof window&&(window.globalThis=window);var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,r,n){return new(r||(r=Promise))(function(o,i){function s(t){try{c(n.next(t))}catch(e){i(e)}}function a(t){try{c(n.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,a)}c((n=n.apply(t,e||[])).next())})}function i(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function s(t,e){e.headers=t.headers||{},e.statusMessage=t.statusText,e.statusCode=t.status,e.data=t.response}function a(t,e,r){return new Promise(function(n,o){r=r||{};var i,a,c,u=new XMLHttpRequest,p=r.body,l=r.headers||{};for(i in r.timeout&&(u.timeout=r.timeout),u.ontimeout=u.onerror=function(t){t.timeout="timeout"==t.type,o(t)},u.open(t,e.href||e),u.onload=function(){for(c=u.getAllResponseHeaders().trim().split(/[\r\n]+/),s(u,u);a=c.shift();)a=a.split(": "),u.headers[a.shift().toLowerCase()]=a.join(": ");if((a=u.headers["content-type"])&&~a.indexOf("application/json"))try{u.data=JSON.parse(u.data,r.reviver)}catch(t){return s(u,t),o(t)}(u.status>=400?o:n)(u)},typeof FormData<"u"&&p instanceof FormData||p&&"object"==typeof p&&(l["content-type"]="application/json",p=JSON.stringify(p)),u.withCredentials=!!r.withCredentials,l)u.setRequestHeader(i,l[i]);u.send(p)})}var c=a.bind(a,"GET"),u=a.bind(a,"POST"),p=a.bind(a,"PATCH"),l=a.bind(a,"DELETE"),f=c,h=p,d=u,_=a.bind(a,"PUT"),y=a,v={del:l,get:f,patch:h,post:d,put:_,send:y},g=Object.freeze(Object.assign(Object.create(null),v,{default:v,del:l,get:f,patch:h,post:d,put:_,send:y})),m=function(t){function e(e,r){var n=t.call(this,r)||this;return n.name="ServerError",n.code=e,n}return n(e,t),e}(Error);function E(t,e){if(this._offset=e,t instanceof ArrayBuffer)this._buffer=t,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(t))throw new Error("Invalid argument");this._buffer=t.buffer,this._view=new DataView(this._buffer,t.byteOffset,t.byteLength)}}function O(t,e,r){for(var n="",o=0,i=e,s=e+r;i<s;i++){var a=t.getUint8(i);if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(o=(7&a)<<18|(63&t.getUint8(++i))<<12|(63&t.getUint8(++i))<<6|(63&t.getUint8(++i))<<0)>=65536?(o-=65536,n+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):n+=String.fromCharCode(o)}else n+=String.fromCharCode((15&a)<<12|(63&t.getUint8(++i))<<6|(63&t.getUint8(++i))<<0);else n+=String.fromCharCode((31&a)<<6|63&t.getUint8(++i));else n+=String.fromCharCode(a)}return n}function b(t,e){void 0===e&&(e=0);var r=new E(t,e),n=r._parse();if(r._offset!==t.byteLength)throw new Error(t.byteLength-r._offset+" trailing bytes");return n}function R(t,e,r){for(var n=0,o=0,i=r.length;o<i;o++)(n=r.charCodeAt(o))<128?t.setUint8(e++,n):n<2048?(t.setUint8(e++,192|n>>6),t.setUint8(e++,128|63&n)):n<55296||n>=57344?(t.setUint8(e++,224|n>>12),t.setUint8(e++,128|n>>6&63),t.setUint8(e++,128|63&n)):(o++,n=65536+((1023&n)<<10|1023&r.charCodeAt(o)),t.setUint8(e++,240|n>>18),t.setUint8(e++,128|n>>12&63),t.setUint8(e++,128|n>>6&63),t.setUint8(e++,128|63&n))}function P(t){for(var e=0,r=0,n=0,o=t.length;n<o;n++)(e=t.charCodeAt(n))<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function M(t,e,r){var n=typeof r,o=0,i=0,s=0,a=0,c=0,u=0;if("string"===n){if((c=P(r))<32)t.push(160|c),u=1;else if(c<256)t.push(217,c),u=2;else if(c<65536)t.push(218,c>>8,c),u=3;else{if(!(c<4294967296))throw new Error("String too long");t.push(219,c>>24,c>>16,c>>8,c),u=5}return e.push({_str:r,_length:c,_offset:t.length}),u+c}if("number"===n)return Math.floor(r)===r&&isFinite(r)?r>=0?r<128?(t.push(r),1):r<256?(t.push(204,r),2):r<65536?(t.push(205,r>>8,r),3):r<4294967296?(t.push(206,r>>24,r>>16,r>>8,r),5):(s=r/Math.pow(2,32)>>0,a=r>>>0,t.push(207,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),9):r>=-32?(t.push(r),1):r>=-128?(t.push(208,r),2):r>=-32768?(t.push(209,r>>8,r),3):r>=-2147483648?(t.push(210,r>>24,r>>16,r>>8,r),5):(s=Math.floor(r/Math.pow(2,32)),a=r>>>0,t.push(211,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),9):(t.push(203),e.push({_float:r,_length:8,_offset:t.length}),9);if("object"===n){if(null===r)return t.push(192),1;if(Array.isArray(r)){if((c=r.length)<16)t.push(144|c),u=1;else if(c<65536)t.push(220,c>>8,c),u=3;else{if(!(c<4294967296))throw new Error("Array too large");t.push(221,c>>24,c>>16,c>>8,c),u=5}for(o=0;o<c;o++)u+=M(t,e,r[o]);return u}if(r instanceof Date){var p=r.getTime();return s=Math.floor(p/Math.pow(2,32)),a=p>>>0,t.push(215,0,s>>24,s>>16,s>>8,s,a>>24,a>>16,a>>8,a),10}if(r instanceof ArrayBuffer){if((c=r.byteLength)<256)t.push(196,c),u=2;else if(c<65536)t.push(197,c>>8,c),u=3;else{if(!(c<4294967296))throw new Error("Buffer too large");t.push(198,c>>24,c>>16,c>>8,c),u=5}return e.push({_bin:r,_length:c,_offset:t.length}),u+c}if("function"==typeof r.toJSON)return M(t,e,r.toJSON());var l=[],f="",h=Object.keys(r);for(o=0,i=h.length;o<i;o++)"function"!=typeof r[f=h[o]]&&l.push(f);if((c=l.length)<16)t.push(128|c),u=1;else if(c<65536)t.push(222,c>>8,c),u=3;else{if(!(c<4294967296))throw new Error("Object too large");t.push(223,c>>24,c>>16,c>>8,c),u=5}for(o=0;o<c;o++)u+=M(t,e,f=l[o]),u+=M(t,e,r[f]);return u}if("boolean"===n)return t.push(r?195:194),1;if("undefined"===n)return t.push(212,0,0),3;throw new Error("Could not encode")}function I(t){var e=[],r=[],n=M(e,r,t),o=new ArrayBuffer(n),i=new DataView(o),s=0,a=0,c=-1;r.length>0&&(c=r[0]._offset);for(var u,p=0,l=0,f=0,h=e.length;f<h;f++)if(i.setUint8(a+f,e[f]),f+1===c){if(p=(u=r[s])._length,l=a+c,u._bin)for(var d=new Uint8Array(u._bin),_=0;_<p;_++)i.setUint8(l+_,d[_]);else u._str?R(i,l,u._str):void 0!==u._float&&i.setFloat64(l,u._float);a+=p,r[++s]&&(c=r[s]._offset)}return o}E.prototype._array=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=this._parse();return e},E.prototype._map=function(t){for(var e={},r=0;r<t;r++)e[this._parse()]=this._parse();return e},E.prototype._str=function(t){var e=O(this._view,this._offset,t);return this._offset+=t,e},E.prototype._bin=function(t){var e=this._buffer.slice(this._offset,this._offset+t);return this._offset+=t,e},E.prototype._parse=function(){var t,e=this._view.getUint8(this._offset++),r=0,n=0,o=0,i=0;if(e<192)return e<128?e:e<144?this._map(15&e):e<160?this._array(15&e):this._str(31&e);if(e>223)return-1*(255-e+1);switch(e){case 192:return null;case 194:return!1;case 195:return!0;case 196:return r=this._view.getUint8(this._offset),this._offset+=1,this._bin(r);case 197:return r=this._view.getUint16(this._offset),this._offset+=2,this._bin(r);case 198:return r=this._view.getUint32(this._offset),this._offset+=4,this._bin(r);case 199:return r=this._view.getUint8(this._offset),n=this._view.getInt8(this._offset+1),this._offset+=2,[n,this._bin(r)];case 200:return r=this._view.getUint16(this._offset),n=this._view.getInt8(this._offset+2),this._offset+=3,[n,this._bin(r)];case 201:return r=this._view.getUint32(this._offset),n=this._view.getInt8(this._offset+4),this._offset+=5,[n,this._bin(r)];case 202:return t=this._view.getFloat32(this._offset),this._offset+=4,t;case 203:return t=this._view.getFloat64(this._offset),this._offset+=8,t;case 204:return t=this._view.getUint8(this._offset),this._offset+=1,t;case 205:return t=this._view.getUint16(this._offset),this._offset+=2,t;case 206:return t=this._view.getUint32(this._offset),this._offset+=4,t;case 207:return o=this._view.getUint32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,o+i;case 208:return t=this._view.getInt8(this._offset),this._offset+=1,t;case 209:return t=this._view.getInt16(this._offset),this._offset+=2,t;case 210:return t=this._view.getInt32(this._offset),this._offset+=4,t;case 211:return o=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,o+i;case 212:return n=this._view.getInt8(this._offset),this._offset+=1,0===n?void(this._offset+=1):[n,this._bin(1)];case 213:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(2)];case 214:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(4)];case 215:return n=this._view.getInt8(this._offset),this._offset+=1,0===n?(o=this._view.getInt32(this._offset)*Math.pow(2,32),i=this._view.getUint32(this._offset+4),this._offset+=8,new Date(o+i)):[n,this._bin(8)];case 216:return n=this._view.getInt8(this._offset),this._offset+=1,[n,this._bin(16)];case 217:return r=this._view.getUint8(this._offset),this._offset+=1,this._str(r);case 218:return r=this._view.getUint16(this._offset),this._offset+=2,this._str(r);case 219:return r=this._view.getUint32(this._offset),this._offset+=4,this._str(r);case 220:return r=this._view.getUint16(this._offset),this._offset+=2,this._array(r);case 221:return r=this._view.getUint32(this._offset),this._offset+=4,this._array(r);case 222:return r=this._view.getUint16(this._offset),this._offset+=2,this._map(r);case 223:return r=this._view.getUint32(this._offset),this._offset+=4,this._map(r)}throw new Error("Could not parse")};var w,S,A=globalThis.WebSocket||function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},C=function(){function t(t){this.events=t}return t.prototype.send=function(t){t instanceof ArrayBuffer?this.ws.send(t):Array.isArray(t)&&this.ws.send(new Uint8Array(t).buffer)},t.prototype.connect=function(t){this.ws=new A(t,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror},t.prototype.close=function(t,e){this.ws.close(t,e)},t}(),D=function(){function t(){this.events={},this.transport=new C(this.events)}return t.prototype.send=function(t){this.transport.send(t)},t.prototype.connect=function(t){this.transport.connect(t)},t.prototype.close=function(t,e){this.transport.close(t,e)},t}(),T={};function j(t,e){T[t]=e}function N(t){var e=T[t];if(!e)throw new Error("missing serializer: "+t);return e}function x(t,e){for(var r=t[e++],n="",o=0,i=e,s=e+r;i<s;i++){var a=t[i];if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(o=(7&a)<<18|(63&t[++i])<<12|(63&t[++i])<<6|(63&t[++i])<<0)>=65536?(o-=65536,n+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):n+=String.fromCharCode(o)}else n+=String.fromCharCode((15&a)<<12|(63&t[++i])<<6|(63&t[++i])<<0);else n+=String.fromCharCode((31&a)<<6|63&t[++i]);else n+=String.fromCharCode(a)}return n}function L(t){void 0===t&&(t="");for(var e=0,r=0,n=0,o=t.length;n<o;n++)(e=t.charCodeAt(n))<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r+1}e.Protocol=void 0,(w=e.Protocol||(e.Protocol={}))[w.HANDSHAKE=9]="HANDSHAKE",w[w.JOIN_ROOM=10]="JOIN_ROOM",w[w.ERROR=11]="ERROR",w[w.LEAVE_ROOM=12]="LEAVE_ROOM",w[w.ROOM_DATA=13]="ROOM_DATA",w[w.ROOM_STATE=14]="ROOM_STATE",w[w.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",w[w.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",e.ErrorCode=void 0,(S=e.ErrorCode||(e.ErrorCode={}))[S.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",S[S.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",S[S.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",S[S.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",S[S.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",S[S.AUTH_FAILED=4215]="AUTH_FAILED",S[S.APPLICATION_ERROR=4216]="APPLICATION_ERROR";let B=()=>({events:{},emit(t,...e){(this.events[t]||[]).forEach(t=>t(...e))},on(t,e){return(this.events[t]=this.events[t]||[]).push(e),()=>this.events[t]=(this.events[t]||[]).filter(t=>t!==e)}});var k=function(){function t(){this.handlers=[]}return t.prototype.register=function(t){return this.handlers.push(t),this},t.prototype.invoke=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.handlers.forEach(function(r){return r.apply(t,e)})},t.prototype.invokeAsync=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Promise.all(this.handlers.map(function(r){return r.apply(t,e)}))},t.prototype.remove=function(t){var e=this.handlers.indexOf(t);this.handlers[e]=this.handlers[this.handlers.length-1],this.handlers.pop()},t.prototype.clear=function(){this.handlers=[]},t}();function q(){var t=new k;function e(e){return t.register(e,null===this)}return e.once=function(e){var r=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];e.apply(this,n),t.remove(r)};t.register(r)},e.remove=function(e){return t.remove(e)},e.invoke=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.invoke.apply(t,e)},e.invokeAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.invokeAsync.apply(t,e)},e.clear=function(){return t.clear()},e}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var F,U=function(){var t={exports:{}};return function(t,e){!function(t){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,r)};function r(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}function n(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function o(t,e){for(var r=0,n=e.length,o=t.length;r<n;r++,o++)t[o]=e[r];return t}var i,s=255;t.OPERATION=void 0,(i=t.OPERATION||(t.OPERATION={}))[i.ADD=128]="ADD",i[i.REPLACE=0]="REPLACE",i[i.DELETE=64]="DELETE",i[i.DELETE_AND_ADD=192]="DELETE_AND_ADD",i[i.TOUCH=1]="TOUCH",i[i.CLEAR=10]="CLEAR";var a=function(){function t(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return t.prototype.getNextUniqueId=function(){return this.nextUniqueId++},t.prototype.addRef=function(t,e,r){void 0===r&&(r=!0),this.refs.set(t,e),r&&(this.refCounts[t]=(this.refCounts[t]||0)+1)},t.prototype.removeRef=function(t){this.refCounts[t]=this.refCounts[t]-1,this.deletedRefs.add(t)},t.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},t.prototype.garbageCollectDeletedRefs=function(){var t=this;this.deletedRefs.forEach(function(e){if(t.refCounts[e]<=0){var r=t.refs.get(e);if(r instanceof ft)for(var n in r._definition.schema)"string"!=typeof r._definition.schema[n]&&r[n]&&r[n].$changes&&t.removeRef(r[n].$changes.refId);else{var o=r.$changes.parent._definition,i=o.schema[o.fieldsByIndex[r.$changes.parentIndex]];"function"==typeof Object.values(i)[0]&&Array.from(r.values()).forEach(function(e){return t.removeRef(e.$changes.refId)})}t.refs.delete(e),delete t.refCounts[e]}}),this.deletedRefs.clear()},t}(),c=function(){function e(t,e,r){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=t,this.setParent(e,r)}return e.prototype.setParent=function(t,e,r){var n=this;if(this.indexes||(this.indexes=this.ref instanceof ft?this.ref._definition.indexes:{}),this.parent=t,this.parentIndex=r,e)if(this.root=e,this.ref instanceof ft){var o=this.ref._definition;for(var i in o.schema){var s=this.ref[i];if(s&&s.$changes){var a=o.indexes[i];s.$changes.setParent(this.ref,e,a)}}}else"object"==typeof this.ref&&this.ref.forEach(function(t,e){if(t instanceof ft){var r=t.$changes,o=n.ref.$changes.indexes[e];r.setParent(n.ref,n.root,o)}})},e.prototype.operation=function(t){this.changes.set(--this.currentCustomOperation,t)},e.prototype.change=function(e,r){void 0===r&&(r=t.OPERATION.ADD);var n="number"==typeof e?e:this.indexes[e];this.assertValidIndex(n,e);var o=this.changes.get(n);o&&o.op!==t.OPERATION.DELETE&&o.op!==t.OPERATION.TOUCH||this.changes.set(n,{op:o&&o.op===t.OPERATION.DELETE?t.OPERATION.DELETE_AND_ADD:r,index:n}),this.allChanges.add(n),this.changed=!0,this.touchParents()},e.prototype.touch=function(e){var r="number"==typeof e?e:this.indexes[e];this.assertValidIndex(r,e),this.changes.has(r)||this.changes.set(r,{op:t.OPERATION.TOUCH,index:r}),this.allChanges.add(r),this.touchParents()},e.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},e.prototype.getType=function(t){if(this.ref._definition)return(e=this.ref._definition).schema[e.fieldsByIndex[t]];var e,r=(e=this.parent._definition).schema[e.fieldsByIndex[this.parentIndex]];return Object.values(r)[0]},e.prototype.getChildrenFilter=function(){var t=this.parent._definition.childFilters;return t&&t[this.parentIndex]},e.prototype.getValue=function(t){return this.ref.getByIndex(t)},e.prototype.delete=function(e){var r="number"==typeof e?e:this.indexes[e];if(void 0!==r){var n=this.getValue(r);this.changes.set(r,{op:t.OPERATION.DELETE,index:r}),this.allChanges.delete(r),delete this.caches[r],n&&n.$changes&&(n.$changes.parent=void 0),this.changed=!0,this.touchParents()}else console.warn("@colyseus/schema "+this.ref.constructor.name+": trying to delete non-existing index: "+e+" ("+r+")")},e.prototype.discard=function(e,r){var n=this;void 0===e&&(e=!1),void 0===r&&(r=!1),this.ref instanceof ft||this.changes.forEach(function(e){if(e.op===t.OPERATION.DELETE){var r=n.ref.getIndex(e.index);delete n.indexes[r]}}),this.changes.clear(),this.changed=e,r&&this.allChanges.clear(),this.currentCustomOperation=0},e.prototype.discardAll=function(){var t=this;this.changes.forEach(function(e){var r=t.getValue(e.index);r&&r.$changes&&r.$changes.discardAll()}),this.discard()},e.prototype.cache=function(t,e){this.caches[t]=e},e.prototype.clone=function(){return new e(this.ref,this.parent,this.root)},e.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},e.prototype.assertValidIndex=function(t,e){if(void 0===t)throw new Error('ChangeTree: missing index for field "'+e+'"')},e}(),u=function(t,e){var r=t.toString(),n=e.toString();return r<n?-1:r>n?1:0};function p(t){return t.$proxy=!0,new Proxy(t,{get:function(t,e){return"symbol"==typeof e||isNaN(e)?t[e]:t.at(e)},set:function(t,e,r){if("symbol"==typeof e||isNaN(e))t[e]=r;else{var n=Array.from(t.$items.keys()),o=parseInt(n[e]||e);null==r?t.deleteAt(o):t.setAt(o,r)}return!0},deleteProperty:function(t,e){return"number"==typeof e?t.deleteAt(e):delete t[e],!0}})}var l=function(){function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,t)}return e.is=function(t){return Array.isArray(t)||void 0!==t.array},Object.defineProperty(e.prototype,"length",{get:function(){return this.$items.size},set:function(t){0===t?this.clear():this.splice(t,this.length-t)},enumerable:!1,configurable:!0}),e.prototype.push=function(){for(var t,e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.forEach(function(r){t=e.$refId++,e.setAt(t,r)}),t},e.prototype.pop=function(){var t=Array.from(this.$indexes.values()).pop();if(void 0!==t){this.$changes.delete(t),this.$indexes.delete(t);var e=this.$items.get(t);return this.$items.delete(t),e}},e.prototype.at=function(t){var e=Array.from(this.$items.keys())[t];return this.$items.get(e)},e.prototype.setAt=function(e,r){var n,o;void 0!==r.$changes&&r.$changes.setParent(this,this.$changes.root,e);var i=null!==(o=null===(n=this.$changes.indexes[e])||void 0===n?void 0:n.op)&&void 0!==o?o:t.OPERATION.ADD;this.$changes.indexes[e]=e,this.$indexes.set(e,e),this.$items.set(e,r),this.$changes.change(e,i)},e.prototype.deleteAt=function(t){var e=Array.from(this.$items.keys())[t];return void 0!==e&&this.$deleteAt(e)},e.prototype.$deleteAt=function(t){return this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t)},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.concat=function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new(e.bind.apply(e,o([void 0],(t=Array.from(this.$items.values())).concat.apply(t,r))))},e.prototype.join=function(t){return Array.from(this.$items.values()).join(t)},e.prototype.reverse=function(){var t=this,e=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach(function(r,n){t.setAt(e[n],r)}),this},e.prototype.shift=function(){var t=Array.from(this.$items.keys()).shift();if(void 0!==t){var e=this.$items.get(t);return this.$deleteAt(t),e}},e.prototype.slice=function(t,r){return new(e.bind.apply(e,o([void 0],Array.from(this.$items.values()).slice(t,r))))},e.prototype.sort=function(t){var e=this;void 0===t&&(t=u);var r=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(t).forEach(function(t,n){e.setAt(r[n],t)}),this},e.prototype.splice=function(t,e){void 0===e&&(e=this.length-t);for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];for(var o=Array.from(this.$items.keys()),i=[],s=t;s<t+e;s++)i.push(this.$items.get(o[s])),this.$deleteAt(o[s]);return i},e.prototype.unshift=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.length,o=e.length,i=Array.from(this.$items.values());return e.forEach(function(e,r){t.setAt(r,e)}),i.forEach(function(e,r){t.setAt(o+r,e)}),n+o},e.prototype.indexOf=function(t,e){return Array.from(this.$items.values()).indexOf(t,e)},e.prototype.lastIndexOf=function(t,e){return void 0===e&&(e=this.length-1),Array.from(this.$items.values()).lastIndexOf(t,e)},e.prototype.every=function(t,e){return Array.from(this.$items.values()).every(t,e)},e.prototype.some=function(t,e){return Array.from(this.$items.values()).some(t,e)},e.prototype.forEach=function(t,e){Array.from(this.$items.values()).forEach(t,e)},e.prototype.map=function(t,e){return Array.from(this.$items.values()).map(t,e)},e.prototype.filter=function(t,e){return Array.from(this.$items.values()).filter(t,e)},e.prototype.reduce=function(t,e){return Array.from(this.$items.values()).reduce(t,e)},e.prototype.reduceRight=function(t,e){return Array.from(this.$items.values()).reduceRight(t,e)},e.prototype.find=function(t,e){return Array.from(this.$items.values()).find(t,e)},e.prototype.findIndex=function(t,e){return Array.from(this.$items.values()).findIndex(t,e)},e.prototype.fill=function(){throw new Error("ArraySchema#fill() not implemented")},e.prototype.copyWithin=function(){throw new Error("ArraySchema#copyWithin() not implemented")},e.prototype.toString=function(){return this.$items.toString()},e.prototype.toLocaleString=function(){return this.$items.toLocaleString()},e.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},e.prototype[Symbol.unscopables]=function(){return this.$items[Symbol.unscopables]()},e.prototype.entries=function(){return this.$items.entries()},e.prototype.keys=function(){return this.$items.keys()},e.prototype.values=function(){return this.$items.values()},e.prototype.includes=function(t,e){return Array.from(this.$items.values()).includes(t,e)},e.prototype.flatMap=function(){throw new Error("ArraySchema#flatMap() is not supported.")},e.prototype.flat=function(){throw new Error("ArraySchema#flat() is not supported.")},e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){return this.toArray().map(function(t){return"function"==typeof t.toJSON?t.toJSON():t})},e.prototype.clone=function(t){return t?new(e.bind.apply(e,o([void 0],Array.from(this.$items.values())))):new(e.bind.apply(e,o([void 0],this.map(function(t){return t.$changes?t.clone():t}))))},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}();function f(t){return t.$proxy=!0,new Proxy(t,{get:function(t,e){return"symbol"!=typeof e&&void 0===t[e]?t.get(e):t[e]},set:function(t,e,r){return"symbol"!=typeof e&&-1===e.indexOf("$")&&"onAdd"!==e&&"onRemove"!==e&&"onChange"!==e?t.set(e,r):t[e]=r,!0},deleteProperty:function(t,e){return t.delete(e),!0}})}var h=function(){function e(t){var e=this;if(this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t)if(t instanceof Map)t.forEach(function(t,r){return e.set(r,t)});else for(var r in t)this.set(r,t[r])}return e.is=function(t){return void 0!==t.map},e.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),e.prototype.set=function(e,r){if(null==r)throw new Error("MapSchema#set('"+e+"', "+r+"): trying to set "+r+" value on '"+e+"'.");var n=void 0!==this.$changes.indexes[e],o=n?this.$changes.indexes[e]:this.$refId++,i=n?t.OPERATION.REPLACE:t.OPERATION.ADD,s=void 0!==r.$changes;return s&&r.$changes.setParent(this,this.$changes.root,o),n?s&&this.$items.get(e)!==r&&(i=t.OPERATION.ADD):(this.$changes.indexes[e]=o,this.$indexes.set(o,e)),this.$items.set(e,r),this.$changes.change(e,i),this},e.prototype.get=function(t){return this.$items.get(t)},e.prototype.delete=function(t){return this.$changes.delete(t),this.$items.delete(t)},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){return this.$items.has(t)},e.prototype.forEach=function(t){this.$items.forEach(t)},e.prototype.entries=function(){return this.$items.entries()},e.prototype.keys=function(){return this.$items.keys()},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toJSON=function(){var t={};return this.forEach(function(e,r){t[r]="function"==typeof e.toJSON?e.toJSON():e}),t},e.prototype.clone=function(t){var r;return t?r=Object.assign(new e,this):(r=new e,this.forEach(function(t,e){t.$changes?r.set(e,t.clone()):r.set(e,t)})),r},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}(),d={};function _(t,e){d[t]=e}function y(t){return d[t]}var v=function(){function t(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return t.create=function(e){var r=new t;return r.schema=Object.assign({},e&&e.schema||{}),r.indexes=Object.assign({},e&&e.indexes||{}),r.fieldsByIndex=Object.assign({},e&&e.fieldsByIndex||{}),r.descriptors=Object.assign({},e&&e.descriptors||{}),r.deprecated=Object.assign({},e&&e.deprecated||{}),r},t.prototype.addField=function(t,e){var r=this.getNextFieldIndex();this.fieldsByIndex[r]=t,this.indexes[t]=r,this.schema[t]=Array.isArray(e)?{array:e[0]}:e},t.prototype.addFilter=function(t,e){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[t]]=e,this.indexesWithFilters.push(this.indexes[t]),!0},t.prototype.addChildrenFilter=function(t,e){var r=this.indexes[t],n=this.schema[t];if(y(Object.keys(n)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[r]=e,!0;console.warn("@filterChildren: field '"+t+"' can't have children. Ignoring filter.")},t.prototype.getChildrenFilter=function(t){return this.childFilters&&this.childFilters[this.indexes[t]]},t.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},t}(),g=function(){function t(){this.types={},this.schemas=new Map,this.useFilters=!1}return t.prototype.has=function(t){return this.schemas.has(t)},t.prototype.get=function(t){return this.types[t]},t.prototype.add=function(t,e){void 0===e&&(e=this.schemas.size),t._definition=v.create(t._definition),t._typeid=e,this.types[e]=t,this.schemas.set(t,e)},t.create=function(e){return void 0===e&&(e=new t),function(t){return E(t,e)}},t}(),m=new g;function E(t,e){return void 0===e&&(e=m),function(r,n){var i=r.constructor;i._context=e,e.has(i)||e.add(i);var s=i._definition;if(s.addField(n,t),s.descriptors[n]){if(s.deprecated[n])return;try{throw new Error("@colyseus/schema: Duplicate '"+n+"' definition on '"+i.name+"'.\nCheck @type() annotation")}catch(y){var a=y.stack.split("\n")[4].trim();throw new Error(y.message+" "+a)}}var c=l.is(t),u=!c&&h.is(t);if("string"!=typeof t&&!ft.is(t)){var d=Object.values(t)[0];"string"==typeof d||e.has(d)||e.add(d)}var _="_"+n;s.descriptors[_]={enumerable:!1,configurable:!1,writable:!0},s.descriptors[n]={get:function(){return this[_]},set:function(t){t!==this[_]&&(null!=t?(!c||t instanceof l||(t=new(l.bind.apply(l,o([void 0],t)))),!u||t instanceof h||(t=new h(t)),void 0===t.$proxy&&(u?t=f(t):c&&(t=p(t))),this.$changes.change(n),t.$changes&&t.$changes.setParent(this,this.$changes.root,this._definition.indexes[n])):this.$changes.delete(n),this[_]=t)},enumerable:!0,configurable:!0}}}function O(t){for(var e=0,r=0,n=0,o=t.length;n<o;n++)(e=t.charCodeAt(n))<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function b(t,e,r){for(var n=0,o=0,i=r.length;o<i;o++)(n=r.charCodeAt(o))<128?t[e++]=n:n<2048?(t[e++]=192|n>>6,t[e++]=128|63&n):n<55296||n>=57344?(t[e++]=224|n>>12,t[e++]=128|n>>6&63,t[e++]=128|63&n):(o++,n=65536+((1023&n)<<10|1023&r.charCodeAt(o)),t[e++]=240|n>>18,t[e++]=128|n>>12&63,t[e++]=128|n>>6&63,t[e++]=128|63&n)}function R(t,e){t.push(255&e)}function P(t,e){t.push(255&e)}function M(t,e){t.push(255&e),t.push(e>>8&255)}function I(t,e){t.push(255&e),t.push(e>>8&255)}function w(t,e){t.push(255&e),t.push(e>>8&255),t.push(e>>16&255),t.push(e>>24&255)}function S(t,e){var r=e>>24,n=e>>16,o=e>>8,i=e;t.push(255&i),t.push(255&o),t.push(255&n),t.push(255&r)}function A(t,e){var r=Math.floor(e/Math.pow(2,32));S(t,e>>>0),S(t,r)}function C(t,e){var r=e/Math.pow(2,32)>>0;S(t,e>>>0),S(t,r)}var D=new Int32Array(2),T=new Float32Array(D.buffer),j=new Float64Array(D.buffer);function N(t,e){T[0]=e,w(t,D[0])}function x(t,e){j[0]=e,w(t,D[0]),w(t,D[1])}function L(t,e){e||(e="");var r=O(e),n=0;if(r<32)t.push(160|r),n=1;else if(r<256)t.push(217),P(t,r),n=2;else if(r<65536)t.push(218),I(t,r),n=3;else{if(!(r<4294967296))throw new Error("String too long");t.push(219),S(t,r),n=5}return b(t,t.length,e),n+r}function B(t,e){return isNaN(e)?B(t,0):isFinite(e)?e!==(0|e)?(t.push(203),x(t,e),9):e>=0?e<128?(P(t,e),1):e<256?(t.push(204),P(t,e),2):e<65536?(t.push(205),I(t,e),3):e<4294967296?(t.push(206),S(t,e),5):(t.push(207),C(t,e),9):e>=-32?(t.push(224|e+32),1):e>=-128?(t.push(208),R(t,e),2):e>=-32768?(t.push(209),M(t,e),3):e>=-2147483648?(t.push(210),w(t,e),5):(t.push(211),A(t,e),9):B(t,e>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var k=Object.freeze({__proto__:null,utf8Write:b,int8:R,uint8:P,int16:M,uint16:I,int32:w,uint32:S,int64:A,uint64:C,float32:function(t,e){N(t,e)},float64:function(t,e){x(t,e)},writeFloat32:N,writeFloat64:x,boolean:function(t,e){return P(t,e?1:0)},string:L,number:B});function q(t,e,r){for(var n="",o=0,i=e,s=e+r;i<s;i++){var a=t[i];0!=(128&a)?192!=(224&a)?224!=(240&a)?240!=(248&a)?console.error("Invalid byte "+a.toString(16)):(o=(7&a)<<18|(63&t[++i])<<12|(63&t[++i])<<6|(63&t[++i])<<0)>=65536?(o-=65536,n+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):n+=String.fromCharCode(o):n+=String.fromCharCode((15&a)<<12|(63&t[++i])<<6|(63&t[++i])<<0):n+=String.fromCharCode((31&a)<<6|63&t[++i]):n+=String.fromCharCode(a)}return n}function F(t,e){return U(t,e)<<24>>24}function U(t,e){return t[e.offset++]}function $(t,e){return H(t,e)<<16>>16}function H(t,e){return t[e.offset++]|t[e.offset++]<<8}function V(t,e){return t[e.offset++]|t[e.offset++]<<8|t[e.offset++]<<16|t[e.offset++]<<24}function G(t,e){return V(t,e)>>>0}function W(t,e){var r=G(t,e);return V(t,e)*Math.pow(2,32)+r}function Y(t,e){var r=G(t,e);return G(t,e)*Math.pow(2,32)+r}var K=new Int32Array(2),z=new Float32Array(K.buffer),J=new Float64Array(K.buffer);function Q(t,e){return K[0]=V(t,e),z[0]}function X(t,e){return K[0]=V(t,e),K[1]=V(t,e),J[0]}function Z(t,e){var r,n=t[e.offset++];n<192?r=31&n:217===n?r=U(t,e):218===n?r=H(t,e):219===n&&(r=G(t,e));var o=q(t,e.offset,r);return e.offset+=r,o}function tt(t,e){var r=t[e.offset++];return r<128?r:202===r?Q(t,e):203===r?X(t,e):204===r?U(t,e):205===r?H(t,e):206===r?G(t,e):207===r?Y(t,e):208===r?F(t,e):209===r?$(t,e):210===r?V(t,e):211===r?W(t,e):r>223?-1*(255-r+1):void 0}function et(t,e){return t[e.offset-1]===s&&(t[e.offset]<128||t[e.offset]>=202&&t[e.offset]<=211)}var rt=Object.freeze({__proto__:null,int8:F,uint8:U,int16:$,uint16:H,int32:V,uint32:G,float32:function(t,e){return Q(t,e)},float64:function(t,e){return X(t,e)},int64:W,uint64:Y,readFloat32:Q,readFloat64:X,boolean:function(t,e){return U(t,e)>0},string:Z,stringCheck:function(t,e){var r=t[e.offset];return r<192&&r>160||217===r||218===r||219===r},number:tt,numberCheck:function(t,e){var r=t[e.offset];return r<128||r>=202&&r<=211},arrayCheck:function(t,e){return t[e.offset]<160},switchStructureCheck:et}),nt=function(){function e(t){var e=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t&&t.forEach(function(t){return e.add(t)})}return e.is=function(t){return void 0!==t.collection},e.prototype.add=function(t){var e=this.$refId++;return void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,e),this.$changes.indexes[e]=e,this.$indexes.set(e,e),this.$items.set(e,t),this.$changes.change(e),e},e.prototype.at=function(t){var e=Array.from(this.$items.keys())[t];return this.$items.get(e)},e.prototype.entries=function(){return this.$items.entries()},e.prototype.delete=function(t){for(var e,r,n=this.$items.entries();(r=n.next())&&!r.done;)if(t===r.value[1]){e=r.value[0];break}return void 0!==e&&(this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e))},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){return Array.from(this.$items.values()).some(function(e){return e===t})},e.prototype.forEach=function(t){var e=this;this.$items.forEach(function(r,n){return t(r,n,e)})},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){var t=[];return this.forEach(function(e){t.push("function"==typeof e.toJSON?e.toJSON():e)}),t},e.prototype.clone=function(t){var r;return t?r=Object.assign(new e,this):(r=new e,this.forEach(function(t){t.$changes?r.add(t.clone()):r.add(t)})),r},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}(),ot=function(){function e(t){var e=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,t&&t.forEach(function(t){return e.add(t)})}return e.is=function(t){return void 0!==t.set},e.prototype.add=function(e){var r,n;if(this.has(e))return!1;var o=this.$refId++;void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,o);var i=null!==(n=null===(r=this.$changes.indexes[o])||void 0===r?void 0:r.op)&&void 0!==n?n:t.OPERATION.ADD;return this.$changes.indexes[o]=o,this.$indexes.set(o,o),this.$items.set(o,e),this.$changes.change(o,i),o},e.prototype.entries=function(){return this.$items.entries()},e.prototype.delete=function(t){for(var e,r,n=this.$items.entries();(r=n.next())&&!r.done;)if(t===r.value[1]){e=r.value[0];break}return void 0!==e&&(this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e))},e.prototype.clear=function(e){var r=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(t){r.$changes.root.removeRef(t.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:t.OPERATION.CLEAR}),this.$changes.touchParents()},e.prototype.has=function(t){for(var e,r=this.$items.values(),n=!1;(e=r.next())&&!e.done;)if(t===e.value){n=!0;break}return n},e.prototype.forEach=function(t){var e=this;this.$items.forEach(function(r,n){return t(r,n,e)})},e.prototype.values=function(){return this.$items.values()},Object.defineProperty(e.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),e.prototype.setIndex=function(t,e){this.$indexes.set(t,e)},e.prototype.getIndex=function(t){return this.$indexes.get(t)},e.prototype.getByIndex=function(t){return this.$items.get(this.$indexes.get(t))},e.prototype.deleteByIndex=function(t){var e=this.$indexes.get(t);this.$items.delete(e),this.$indexes.delete(t)},e.prototype.toArray=function(){return Array.from(this.$items.values())},e.prototype.toJSON=function(){var t=[];return this.forEach(function(e){t.push("function"==typeof e.toJSON?e.toJSON():e)}),t},e.prototype.clone=function(t){var r;return t?r=Object.assign(new e,this):(r=new e,this.forEach(function(t){t.$changes?r.add(t.clone()):r.add(t)})),r},e.prototype.triggerAll=function(){ft.prototype.triggerAll.apply(this)},e}(),it=function(){function t(){this.handlers=[]}return t.prototype.register=function(t){return this.handlers.push(t),this},t.prototype.invoke=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.handlers.forEach(function(e){return e.apply(void 0,t)})},t.prototype.invokeAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Promise.all(this.handlers.map(function(e){return e.apply(void 0,t)}))},t.prototype.remove=function(t){var e=this.handlers.indexOf(t);this.handlers[e]=this.handlers[this.handlers.length-1],this.handlers.pop()},t.prototype.clear=function(){this.handlers=[]},t}(),st=function(){function t(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return t.prototype.addRefId=function(t){this.refIds.has(t)||(this.refIds.add(t),this.containerIndexes.set(t,new Set))},t.get=function(e){return void 0===e.$filterState&&(e.$filterState=new t),e.$filterState},t}(),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(Error);function ct(t,e,r,n){var o,i=!1;switch(e){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":o="number",isNaN(t)&&console.log('trying to encode "NaN" in '+r.constructor.name+"#"+n);break;case"string":o="string",i=!0;break;case"boolean":return}if(typeof t!==o&&(!i||i&&null!==t)){var s="'"+JSON.stringify(t)+"'"+(t&&t.constructor&&" ("+t.constructor.name+")"||"");throw new at("a '"+o+"' was expected, but "+s+" was provided in "+r.constructor.name+"#"+n)}}function ut(t,e,r,n){if(!(t instanceof e))throw new at("a '"+e.name+"' was expected, but '"+t.constructor.name+"' was provided in "+r.constructor.name+"#"+n)}function pt(t,e,r,n,o){ct(r,t,n,o);var i=k[t];if(!i)throw new at("a '"+t+"' was expected, but "+r+" was provided in "+n.constructor.name+"#"+o);i(e,r)}function lt(t,e,r){return rt[t](e,r)}var ft=function(){function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Object.defineProperties(this,{$changes:{value:new c(this,void 0,new a),enumerable:!1,writable:!0},$listeners:{value:{},enumerable:!1,writable:!0}});var r=this._definition.descriptors;r&&Object.defineProperties(this,r),t[0]&&this.assign(t[0])}return e.onError=function(t){console.error(t)},e.is=function(t){return t._definition&&void 0!==t._definition.schema},e.prototype.assign=function(t){return Object.assign(this,t),this},Object.defineProperty(e.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),e.prototype.listen=function(t,e){var r=this;return this.$listeners[t]||(this.$listeners[t]=new it),this.$listeners[t].register(e),function(){return r.$listeners[t].remove(e)}},e.prototype.decode=function(r,n,o,i){void 0===n&&(n={offset:0}),void 0===o&&(o=this),void 0===i&&(i=new Map);var a=this.$changes.root,c=r.length,u=0,p=[];for(a.refs.set(u,this),i.set(u,p);n.offset<c;){var f=r[n.offset++];if(f!=s){var d=o.$changes,_=void 0!==o._definition,v=_?f>>6<<6:f;if(v!==t.OPERATION.CLEAR){var g=_?f%(v||255):tt(r,n),m=_?o._definition.fieldsByIndex[g]:"",E=d.getType(g),O=void 0,b=void 0,R=void 0;if(_?b=o["_"+m]:(b=o.getByIndex(g),(v&t.OPERATION.ADD)===t.OPERATION.ADD?(R=o instanceof h?Z(r,n):g,o.setIndex(g,R)):R=o.getIndex(g)),(v&t.OPERATION.DELETE)===t.OPERATION.DELETE&&(v!==t.OPERATION.DELETE_AND_ADD&&o.deleteByIndex(g),b&&b.$changes&&a.removeRef(b.$changes.refId),O=null),void 0!==m){if(v===t.OPERATION.DELETE);else if(e.is(E)){var P=tt(r,n);if(O=a.refs.get(P),v!==t.OPERATION.REPLACE){var M=this.getSchemaType(r,n,E);O||((O=this.createTypeInstance(M)).$changes.refId=P,b&&(O.onChange=b.onChange,O.onRemove=b.onRemove,O.$listeners=b.$listeners,b.$changes.refId&&P!==b.$changes.refId&&a.removeRef(b.$changes.refId))),a.addRef(P,O,O!==b)}}else if("string"==typeof E)O=lt(E,r,n);else{var I=y(Object.keys(E)[0]),w=tt(r,n),S=a.refs.has(w)?b||a.refs.get(w):new I.constructor;if((O=S.clone(!0)).$changes.refId=w,b&&(O.onAdd=b.onAdd,O.onRemove=b.onRemove,O.onChange=b.onChange,b.$changes.refId&&w!==b.$changes.refId)){a.removeRef(b.$changes.refId);for(var A=[],C=b.entries(),D=void 0;(D=C.next())&&!D.done;){var T=D.value,j=T[0],N=T[1];A.push({op:t.OPERATION.DELETE,field:j,value:void 0,previousValue:N})}i.set(b.$changes.refId,A)}a.addRef(w,O,S!==b),I.getProxy&&(O=I.getProxy(O))}var x=b!==O;if(null!=O)if(O.$changes&&O.$changes.setParent(d.ref,d.root,g),o instanceof e)o[m]=O;else if(o instanceof h)j=R,o.$items.set(j,O);else if(o instanceof l)o.setAt(g,O);else if(o instanceof nt){var L=o.add(O);o.setIndex(g,L)}else o instanceof ot&&!1!==(L=o.add(O))&&o.setIndex(g,L);x&&p.push({op:v,field:m,dynamicIndex:R,value:O,previousValue:b})}else{console.warn("@colyseus/schema: definition mismatch");for(var B={offset:n.offset};n.offset<c&&(!et(r,n)||(B.offset=n.offset+1,!a.refs.has(tt(r,B))));)n.offset++}}else o.clear(!0)}else{u=tt(r,n);var k=a.refs.get(u);if(!k)throw new Error('"refId" not found: '+u);o=k,p=[],i.set(u,p)}}return this._triggerChanges(i),a.garbageCollectDeletedRefs(),i},e.prototype.encode=function(r,n,o){void 0===r&&(r=!1),void 0===n&&(n=[]),void 0===o&&(o=!1);for(var i=this.$changes,a=new WeakSet,c=[i],u=1,p=0;p<u;p++){var l=c[p],f=l.ref,d=f instanceof e;l.ensureRefId(),a.add(l),l!==i&&(l.changed||r)&&(P(n,s),B(n,l.refId));for(var _=r?Array.from(l.allChanges):Array.from(l.changes.values()),v=0,g=_.length;v<g;v++){var m=r?{op:t.OPERATION.ADD,index:_[v]}:_[v],E=m.index,O=d?f._definition.fieldsByIndex&&f._definition.fieldsByIndex[E]:E,b=n.length;if(m.op!==t.OPERATION.TOUCH)if(d)P(n,E|m.op);else{if(P(n,m.op),m.op===t.OPERATION.CLEAR)continue;B(n,E)}if(d||(m.op&t.OPERATION.ADD)!=t.OPERATION.ADD||f instanceof h&&L(n,l.ref.$indexes.get(E)),m.op!==t.OPERATION.DELETE){var R=l.getType(E),M=l.getValue(E);if(M&&M.$changes&&!a.has(M.$changes)&&(c.push(M.$changes),M.$changes.ensureRefId(),u++),m.op!==t.OPERATION.TOUCH){if(e.is(R))ut(M,R,f,O),B(n,M.$changes.refId),(m.op&t.OPERATION.ADD)===t.OPERATION.ADD&&this.tryEncodeTypeId(n,R,M.constructor);else if("string"==typeof R)pt(R,n,M,f,O);else{var I=y(Object.keys(R)[0]);ut(f["_"+O],I.constructor,f,O),B(n,M.$changes.refId)}o&&l.cache(E,n.slice(b))}}}r||o||l.discard()}return n},e.prototype.encodeAll=function(t){return this.encode(!0,[],t)},e.prototype.applyFilters=function(r,n){var o,i;void 0===n&&(n=!1);for(var a=this,c=new Set,u=st.get(r),p=[this.$changes],l=1,f=[],d=function(d){var _=p[d];if(c.has(_.refId))return"continue";var y=_.ref,v=y instanceof e;P(f,s),B(f,_.refId);var g=u.refIds.has(_),m=n||!g;u.addRefId(_);var E=u.containerIndexes.get(_),O=m?Array.from(_.allChanges):Array.from(_.changes.values());!n&&v&&y._definition.indexesWithFilters&&y._definition.indexesWithFilters.forEach(function(e){!E.has(e)&&_.allChanges.has(e)&&(m?O.push(e):O.push({op:t.OPERATION.ADD,index:e}))});for(var b=0,R=O.length;b<R;b++){var M=m?{op:t.OPERATION.ADD,index:O[b]}:O[b];if(M.op!==t.OPERATION.CLEAR){var I=M.index;if(M.op!==t.OPERATION.DELETE){var w=_.getValue(I),S=_.getType(I);if(v){if((A=y._definition.filters&&y._definition.filters[I])&&!A.call(y,r,w,a)){w&&w.$changes&&c.add(w.$changes.refId);continue}}else{var A,C=_.parent;if((A=_.getChildrenFilter())&&!A.call(C,r,y.$indexes.get(I),w,a)){w&&w.$changes&&c.add(w.$changes.refId);continue}}if(w.$changes&&(p.push(w.$changes),l++),M.op!==t.OPERATION.TOUCH)if(M.op===t.OPERATION.ADD||v)f.push.apply(f,null!==(o=_.caches[I])&&void 0!==o?o:[]),E.add(I);else if(E.has(I))f.push.apply(f,null!==(i=_.caches[I])&&void 0!==i?i:[]);else{if(E.add(I),P(f,t.OPERATION.ADD),B(f,I),y instanceof h){var D=_.ref.$indexes.get(I);L(f,D)}w.$changes?B(f,w.$changes.refId):k[S](f,w)}else w.$changes&&!v&&(P(f,t.OPERATION.ADD),B(f,I),y instanceof h&&(D=_.ref.$indexes.get(I),L(f,D)),B(f,w.$changes.refId))}else v?P(f,M.op|I):(P(f,M.op),B(f,I))}else P(f,M.op)}},_=0;_<l;_++)d(_);return f},e.prototype.clone=function(){var t=new this.constructor,e=this._definition.schema;for(var r in e)"object"==typeof this[r]&&"function"==typeof this[r].clone?t[r]=this[r].clone():t[r]=this[r];return t},e.prototype.triggerAll=function(){if(0!==this.$changes.root.refs.size){var t=new Map;e.prototype._triggerAllFillChanges.call(this,this,t);try{e.prototype._triggerChanges.call(this,t)}catch(r){e.onError(r)}}},e.prototype.toJSON=function(){var t=this._definition.schema,e=this._definition.deprecated,r={};for(var n in t)e[n]||null===this[n]||void 0===this[n]||(r[n]="function"==typeof this[n].toJSON?this[n].toJSON():this["_"+n]);return r},e.prototype.discardAllChanges=function(){this.$changes.discardAll()},e.prototype.getByIndex=function(t){return this[this._definition.fieldsByIndex[t]]},e.prototype.deleteByIndex=function(t){this[this._definition.fieldsByIndex[t]]=void 0},e.prototype.tryEncodeTypeId=function(t,e,r){e._typeid!==r._typeid&&(P(t,213),B(t,r._typeid))},e.prototype.getSchemaType=function(t,e,r){var n;return 213===t[e.offset]&&(e.offset++,n=this.constructor._context.get(tt(t,e))),n||r},e.prototype.createTypeInstance=function(t){var e=new t;return e.$changes.root=this.$changes.root,e},e.prototype._triggerAllFillChanges=function(r,n){if(!n.has(r.$changes.refId)){var o=[];if(n.set(r.$changes.refId||0,o),r instanceof e){var i=r._definition.schema;for(var s in i)void 0!==(l=r["_"+s])&&(o.push({op:t.OPERATION.ADD,field:s,value:l,previousValue:void 0}),void 0!==l.$changes&&e.prototype._triggerAllFillChanges.call(this,l,n))}else for(var a=r.entries(),c=void 0;(c=a.next())&&!c.done;){var u=c.value,p=u[0],l=u[1];o.push({op:t.OPERATION.ADD,field:p,dynamicIndex:p,value:l,previousValue:void 0}),void 0!==l.$changes&&e.prototype._triggerAllFillChanges.call(this,l,n)}}},e.prototype._triggerChanges=function(r){var n=this;r.forEach(function(r,o){var i,s,a,c,u,p,l,f,h,d,_,y;if(r.length>0){for(var v=n.$changes.root.refs.get(o),g=v instanceof e,m=0;m<r.length;m++){var E=r[m],O=v.$listeners&&v.$listeners[E.field];if(g||(E.op===t.OPERATION.ADD&&void 0===E.previousValue?null===(s=(i=v).onAdd)||void 0===s||s.call(i,E.value,null!==(a=E.dynamicIndex)&&void 0!==a?a:E.field):E.op===t.OPERATION.DELETE?void 0!==E.previousValue&&(null===(u=(c=v).onRemove)||void 0===u||u.call(c,E.previousValue,null!==(p=E.dynamicIndex)&&void 0!==p?p:E.field)):E.op===t.OPERATION.DELETE_AND_ADD?(void 0!==E.previousValue&&(null===(f=(l=v).onRemove)||void 0===f||f.call(l,E.previousValue,E.dynamicIndex)),null===(d=(h=v).onAdd)||void 0===d||d.call(h,E.value,E.dynamicIndex)):E.op!==t.OPERATION.REPLACE&&E.value===E.previousValue||null===(y=(_=v).onChange)||void 0===y||y.call(_,E.value,E.dynamicIndex)),(E.op&t.OPERATION.DELETE)===t.OPERATION.DELETE&&E.previousValue instanceof e&&E.previousValue.onRemove&&E.previousValue.onRemove(),O)try{O.invoke(E.value,E.previousValue)}catch(b){e.onError(b)}}if(g&&v.onChange)try{v.onChange(r)}catch(b){e.onError(b)}}})},e._definition=v.create(),e}(),ht=new g,dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),n([E("string",ht)],e.prototype,"name",void 0),n([E("string",ht)],e.prototype,"type",void 0),n([E("number",ht)],e.prototype,"referencedType",void 0),e}(ft),_t=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fields=new l,e}return r(e,t),n([E("number",ht)],e.prototype,"id",void 0),n([E([dt],ht)],e.prototype,"fields",void 0),e}(ft),yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.types=new l,e}return r(e,t),e.encode=function(t){var r=t.constructor,n=new e;n.rootType=r._typeid;var o=function(t,e){for(var r in e){var o=new dt;o.name=r;var i=void 0;if("string"==typeof e[r])i=e[r];else{var s=e[r],a=void 0;ft.is(s)?(i="ref",a=e[r]):"string"==typeof s[i=Object.keys(s)[0]]?i+=":"+s[i]:a=s[i],o.referencedType=a?a._typeid:-1}o.type=i,t.fields.push(o)}n.types.push(t)},i=r._context.types;for(var s in i){var a=new _t;a.id=Number(s),o(a,i[s]._definition.schema)}return n.encodeAll()},e.decode=function(t,n){var o=new g,i=new e;i.decode(t,n);var s=i.types.reduce(function(t,e){var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(ft),i=e.id;return t[i]=n,o.add(n,i),t},{});i.types.forEach(function(t){var e=s[t.id];t.fields.forEach(function(t){var r;if(void 0!==t.referencedType){var n=t.type,i=s[t.referencedType];if(!i){var a=t.type.split(":");n=a[0],i=a[1]}"ref"===n?E(i,o)(e.prototype,t.name):E(((r={})[n]=i,r),o)(e.prototype,t.name)}else E(t.type,o)(e.prototype,t.name)})});var a=s[i.rootType],c=new a;for(var u in a._definition.schema){var p=a._definition.schema[u];"string"!=typeof p&&(c[u]="function"==typeof p?new p:new(y(Object.keys(p)[0]).constructor))}return c},n([E([_t],ht)],e.prototype,"types",void 0),n([E("number",ht)],e.prototype,"rootType",void 0),e}(ft);_("map",{constructor:h,getProxy:f}),_("array",{constructor:l,getProxy:p}),_("set",{constructor:ot}),_("collection",{constructor:nt}),t.ArraySchema=l,t.CollectionSchema=nt,t.Context=g,t.MapSchema=h,t.Reflection=yt,t.ReflectionField=dt,t.ReflectionType=_t,t.Schema=ft,t.SchemaDefinition=v,t.SetSchema=ot,t.decode=rt,t.defineTypes=function(t,e,r){for(var n in void 0===r&&(r=t._context||m),e)E(e[n],r)(t.prototype,n);return t},t.deprecated=function(t){return void 0===t&&(t=!0),function(e,r){var n=e.constructor._definition;n.deprecated[r]=!0,t&&(n.descriptors[r]={get:function(){throw new Error(r+" is deprecated.")},set:function(){},enumerable:!1,configurable:!0})}},t.dumpChanges=function(t){for(var e=[t.$changes],r={},n=r,o=function(t){var r=e[t];r.changes.forEach(function(t){var e=r.ref,o=t.index,i=e._definition?e._definition.fieldsByIndex[o]:e.$indexes.get(o);n[i]=r.getValue(o)})},i=0;i<1;i++)o(i);return r},t.encode=k,t.filter=function(t){return function(e,r){var n=e.constructor;n._definition.addFilter(r,t)&&(n._context.useFilters=!0)}},t.filterChildren=function(t){return function(e,r){var n=e.constructor;n._definition.addChildrenFilter(r,t)&&(n._context.useFilters=!0)}},t.hasFilter=function(t){return t._context&&t._context.useFilters},t.registerType=_,t.type=E,Object.defineProperty(t,"__esModule",{value:!0})}(e)}(0,t.exports),t.exports}(),$=function(){function t(t,e){var r=this;this.onStateChange=q(),this.onError=q(),this.onLeave=q(),this.onJoin=q(),this.hasJoined=!1,this.onMessageHandlers=B(),this.id=null,this.name=t,e&&(this.serializer=new(N("schema")),this.rootSchema=e,this.serializer.state=new e),this.onError(function(t,e){return console.warn("colyseus.js - onError => ("+t+") "+e)}),this.onLeave(function(){return r.removeAllListeners()})}return t.prototype.connect=function(t){var e=this;this.connection=new D,this.connection.events.onmessage=this.onMessageCallback.bind(this),this.connection.events.onclose=function(t){if(!e.hasJoined)return console.warn("Room connection was closed unexpectedly ("+t.code+"): "+t.reason),void e.onError.invoke(t.code,t.reason);e.onLeave.invoke(t.code),e.destroy()},this.connection.events.onerror=function(t){console.warn("Room, onError ("+t.code+"): "+t.reason),e.onError.invoke(t.code,t.reason)},this.connection.connect(t)},t.prototype.leave=function(t){var r=this;return void 0===t&&(t=!0),new Promise(function(n){r.onLeave(function(t){return n(t)}),r.connection?t?r.connection.send([e.Protocol.LEAVE_ROOM]):r.connection.close():r.onLeave.invoke(4e3)})},t.prototype.onMessage=function(t,e){return this.onMessageHandlers.on(this.getMessageHandlerKey(t),e)},t.prototype.send=function(t,r){var n,o=[e.Protocol.ROOM_DATA];if("string"==typeof t?U.encode.string(o,t):U.encode.number(o,t),void 0!==r){var i=I(r);(n=new Uint8Array(o.length+i.byteLength)).set(new Uint8Array(o),0),n.set(new Uint8Array(i),o.length)}else n=new Uint8Array(o);this.connection.send(n.buffer)},Object.defineProperty(t.prototype,"state",{get:function(){return this.serializer.getState()},enumerable:!1,configurable:!0}),t.prototype.removeAllListeners=function(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}},t.prototype.onMessageCallback=function(t){var r=Array.from(new Uint8Array(t.data)),n=r[0];if(n===e.Protocol.JOIN_ROOM){var o=1;if(this.serializerId=x(r,o),o+=L(this.serializerId),!this.serializer){var i=N(this.serializerId);this.serializer=new i}r.length>o&&this.serializer.handshake&&this.serializer.handshake(r,{offset:o}),this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([e.Protocol.JOIN_ROOM])}else if(n===e.Protocol.ERROR){var s={offset:1},a=U.decode.number(r,s),c=U.decode.string(r,s);this.onError.invoke(a,c)}else if(n===e.Protocol.LEAVE_ROOM)this.leave();else if(n===e.Protocol.ROOM_DATA_SCHEMA){var u={offset:1};(c=new(l=this.serializer.getState().constructor._context.get(U.decode.number(r,u)))).decode(r,u),this.dispatchMessage(l,c)}else if(n===e.Protocol.ROOM_STATE)r.shift(),this.setState(r);else if(n===e.Protocol.ROOM_STATE_PATCH)r.shift(),this.patch(r);else if(n===e.Protocol.ROOM_DATA){var p={offset:1},l=U.decode.stringCheck(r,p)?U.decode.string(r,p):U.decode.number(r,p);c=r.length>p.offset?b(t.data,p.offset):void 0,this.dispatchMessage(l,c)}},t.prototype.setState=function(t){this.serializer.setState(t),this.onStateChange.invoke(this.serializer.getState())},t.prototype.patch=function(t){this.serializer.patch(t),this.onStateChange.invoke(this.serializer.getState())},t.prototype.dispatchMessage=function(t,e){var r=this.getMessageHandlerKey(t);this.onMessageHandlers.events[r]?this.onMessageHandlers.emit(r,e):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",t,e):console.warn("colyseus.js: onMessage() not registered for type '"+t+"'.")},t.prototype.destroy=function(){this.serializer&&this.serializer.teardown()},t.prototype.getMessageHandlerKey=function(t){switch(typeof t){case"function":return"$"+t._typeid;case"string":return t;case"number":return"i"+t;default:throw new Error("invalid message type.")}},t}();function H(){return F||(F="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:"undefined"!=typeof window&&window.localStorage?window.localStorage:{cache:{},setItem:function(t,e){this.cache[t]=e},getItem:function(t){this.cache[t]},removeItem:function(t){delete this.cache[t]}}),F}var V,G="colyseus-auth-token";e.Platform=void 0,(V=e.Platform||(e.Platform={})).ios="ios",V.android="android";var W,Y=function(){function t(t){var e,r,n,o=this;this._id=void 0,this.username=void 0,this.displayName=void 0,this.avatarUrl=void 0,this.isAnonymous=void 0,this.email=void 0,this.lang=void 0,this.location=void 0,this.timezone=void 0,this.metadata=void 0,this.devices=void 0,this.facebookId=void 0,this.twitterId=void 0,this.googleId=void 0,this.gameCenterId=void 0,this.steamId=void 0,this.friendIds=void 0,this.blockedUserIds=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.token=void 0,this.endpoint=t.replace("ws","http"),e=G,r=function(t){return o.token=t},n=H().getItem(e),"undefined"!=typeof Promise&&n instanceof Promise?n.then(function(t){return r(t)}):r(n)}return Object.defineProperty(t.prototype,"hasToken",{get:function(){return!!this.token},enumerable:!1,configurable:!0}),t.prototype.login=function(t){return void 0===t&&(t={}),o(this,void 0,void 0,function(){var e,r,n;return i(this,function(o){switch(o.label){case 0:return e=Object.assign({},t),this.hasToken&&(e.token=this.token),[4,this.request("post","/auth",e)];case 1:for(n in r=o.sent(),this.token=r.token,i=G,s=this.token,H().setItem(i,s),r)this.hasOwnProperty(n)&&(this[n]=r[n]);return this.registerPingService(),[2,this]}var i,s})})},t.prototype.save=function(){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.request("put","/auth",{},{username:this.username,displayName:this.displayName,avatarUrl:this.avatarUrl,lang:this.lang,location:this.location,timezone:this.timezone})];case 1:return t.sent(),[2,this]}})})},t.prototype.getFriends=function(){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.request("get","/friends/all")];case 1:return[2,t.sent()]}})})},t.prototype.getOnlineFriends=function(){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.request("get","/friends/online")];case 1:return[2,t.sent()]}})})},t.prototype.getFriendRequests=function(){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.request("get","/friends/requests")];case 1:return[2,t.sent()]}})})},t.prototype.sendFriendRequest=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.request("post","/friends/requests",{userId:t})];case 1:return[2,e.sent()]}})})},t.prototype.acceptFriendRequest=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.request("put","/friends/requests",{userId:t})];case 1:return[2,e.sent()]}})})},t.prototype.declineFriendRequest=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.request("del","/friends/requests",{userId:t})];case 1:return[2,e.sent()]}})})},t.prototype.blockUser=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.request("post","/friends/block",{userId:t})];case 1:return[2,e.sent()]}})})},t.prototype.unblockUser=function(t){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this.request("put","/friends/block",{userId:t})];case 1:return[2,e.sent()]}})})},t.prototype.request=function(t,e,r,n,s){return void 0===r&&(r={}),void 0===s&&(s={}),o(this,void 0,void 0,function(){var o,a,c,u;return i(this,function(i){switch(i.label){case 0:for(a in s.Accept="application/json",this.hasToken&&(s.Authorization="Bearer "+this.token),o=[],r)o.push(a+"="+r[a]);return c=o.length>0?"?"+o.join("&"):"",u={headers:s},n&&(u.body=n),[4,g[t](""+this.endpoint+e+c,u)];case 1:return[2,i.sent().data]}})})},t.prototype.logout=function(){var t;this.token=void 0,t=G,H().removeItem(t),this.unregisterPingService()},t.prototype.registerPingService=function(t){var e=this;void 0===t&&(t=15e3),this.unregisterPingService(),this.keepOnlineInterval=setInterval(function(){return e.request("get","/auth")},t)},t.prototype.unregisterPingService=function(){clearInterval(this.keepOnlineInterval)},t}(),K=function(t){function e(r,n){var o=t.call(this,r)||this;return o.code=n,Object.setPrototypeOf(o,e.prototype),o}return n(e,t),e}(Error),z="undefined"!=typeof window&&void 0!==(null===(W=null===window||void 0===window?void 0:window.location)||void 0===W?void 0:W.hostname)?window.location.protocol.replace("http","ws")+"//"+window.location.hostname+(window.location.port&&":"+window.location.port):"ws://127.0.0.1:2567",J=function(){function t(t){void 0===t&&(t=z),this.endpoint=t}return Object.defineProperty(t.prototype,"auth",{get:function(){return this._auth||(this._auth=new Y(this.endpoint)),this._auth},enumerable:!1,configurable:!0}),t.prototype.joinOrCreate=function(t,e,r){return void 0===e&&(e={}),o(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("joinOrCreate",t,e,r)];case 1:return[2,n.sent()]}})})},t.prototype.create=function(t,e,r){return void 0===e&&(e={}),o(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("create",t,e,r)];case 1:return[2,n.sent()]}})})},t.prototype.join=function(t,e,r){return void 0===e&&(e={}),o(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("join",t,e,r)];case 1:return[2,n.sent()]}})})},t.prototype.joinById=function(t,e,r){return void 0===e&&(e={}),o(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("joinById",t,e,r)];case 1:return[2,n.sent()]}})})},t.prototype.reconnect=function(t,e,r){return o(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,this.createMatchMakeRequest("joinById",t,{sessionId:e},r)];case 1:return[2,n.sent()]}})})},t.prototype.getAvailableRooms=function(t){return void 0===t&&(t=""),o(this,void 0,void 0,function(){var e;return i(this,function(r){switch(r.label){case 0:return e=this.endpoint.replace("ws","http")+"/matchmake/"+t,[4,f(e,{headers:{Accept:"application/json"}})];case 1:return[2,r.sent().data]}})})},t.prototype.consumeSeatReservation=function(t,e){return o(this,void 0,void 0,function(){var r;return i(this,function(){return(r=this.createRoom(t.room.name,e)).id=t.room.roomId,r.sessionId=t.sessionId,r.connect(this.buildEndpoint(t.room,{sessionId:r.sessionId})),[2,new Promise(function(t,e){var n=function(t,r){return e(new m(t,r))};r.onError.once(n),r.onJoin.once(function(){r.onError.remove(n),t(r)})})]})})},t.prototype.createMatchMakeRequest=function(t,e,r,n){return void 0===r&&(r={}),o(this,void 0,void 0,function(){var o,s;return i(this,function(i){switch(i.label){case 0:return o=this.endpoint.replace("ws","http")+"/matchmake/"+t+"/"+e,this._auth&&this._auth.hasToken&&(r.token=this._auth.token),[4,d(o,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})];case 1:if((s=i.sent().data).error)throw new K(s.error,s.code);return[2,this.consumeSeatReservation(s,n)]}})})},t.prototype.createRoom=function(t,e){return new $(t,e)},t.prototype.buildEndpoint=function(t,e){void 0===e&&(e={});var r=[];for(var n in e)e.hasOwnProperty(n)&&r.push(n+"="+e[n]);return this.endpoint+"/"+t.processId+"/"+t.roomId+"?"+r.join("&")},t}(),Q=function(){function t(){}return t.prototype.setState=function(t){this.state.decode(t)},t.prototype.getState=function(){return this.state},t.prototype.patch=function(t){this.state.decode(t)},t.prototype.teardown=function(){var t,e;null===(e=null===(t=this.state)||void 0===t?void 0:t.$changes)||void 0===e||e.root.clearRefs()},t.prototype.handshake=function(t,e){this.state?(new U.Reflection).decode(t,e):this.state=U.Reflection.decode(t,e)},t}(),X=function(){function t(){}return t.prototype.setState=function(){},t.prototype.getState=function(){return null},t.prototype.patch=function(){},t.prototype.teardown=function(){},t.prototype.handshake=function(){},t}();j("schema",Q),j("none",X),e.Auth=Y,e.Client=J,e.Room=$,e.SchemaSerializer=Q,e.registerSerializer=j,Object.defineProperty(e,"__esModule",{value:!0})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(t,e,r){(function(t,n){"object"==typeof r&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):t.moment=n()})(this,function(){"use strict";var r,n;function o(){return r.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(a(t,e))return!1;return!0}function u(t){return void 0===t}function p(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function f(t,e){var r,n=[];for(r=0;r<t.length;++r)n.push(e(t[r],r));return n}function h(t,e){for(var r in e)a(e,r)&&(t[r]=e[r]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,r,n){return Ke(t,e,r,n,!0).utc()}function _(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function y(t){if(null==t._isValid){var e=_(t),r=n.call(e.parsedDateParts,function(t){return null!=t}),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function v(t){var e=d(NaN);return null!=t?h(_(e),t):_(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,r=Object(this),n=r.length>>>0;for(e=0;e<n;e++)if(e in r&&t.call(this,r[e],e,r))return!0;return!1};var g=o.momentProperties=[],m=!1;function E(t,e){var r,n,o;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=_(e)),u(e._locale)||(t._locale=e._locale),g.length>0)for(r=0;r<g.length;r++)u(o=e[n=g[r]])||(t[n]=o);return t}function O(t){E(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===m&&(m=!0,o.updateOffset(this),m=!1)}function b(t){return t instanceof O||null!=t&&null!=t._isAMomentObject}function R(t){!1===o.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function P(t,e){var r=!0;return h(function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,t),r){var n,i,s,c=[];for(i=0;i<arguments.length;i++){if(n="","object"==typeof arguments[i]){for(s in n+="\n["+i+"] ",arguments[0])a(arguments[0],s)&&(n+=s+": "+arguments[0][s]+", ");n=n.slice(0,-2)}else n=arguments[i];c.push(n)}R(t+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),r=!1}return e.apply(this,arguments)},e)}var M,I={};function w(t,e){null!=o.deprecationHandler&&o.deprecationHandler(t,e),I[t]||(R(e),I[t]=!0)}function S(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t,e){var r,n=h({},t);for(r in e)a(e,r)&&(s(t[r])&&s(e[r])?(n[r]={},h(n[r],t[r]),h(n[r],e[r])):null!=e[r]?n[r]=e[r]:delete n[r]);for(r in t)a(t,r)&&!a(e,r)&&s(t[r])&&(n[r]=h({},n[r]));return n}function C(t){null!=t&&this.set(t)}function D(t,e,r){var n=""+Math.abs(t),o=e-n.length;return(t>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,M=Object.keys?Object.keys:function(t){var e,r=[];for(e in t)a(t,e)&&r.push(e);return r};var T=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N={},x={};function L(t,e,r,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(x[t]=o),e&&(x[e[0]]=function(){return D(o.apply(this,arguments),e[1],e[2])}),r&&(x[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function B(t){var e,r,n,o=t.match(T);for(e=0,r=o.length;e<r;e++)x[o[e]]?o[e]=x[o[e]]:o[e]=(n=o[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,i="";for(n=0;n<r;n++)i+=S(o[n])?o[n].call(e,t):o[n];return i}}function k(t,e){return t.isValid()?(e=q(e,t.localeData()),N[e]=N[e]||B(e),N[e](t)):t.localeData().invalidDate()}function q(t,e){var r=5;function n(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;r>=0&&j.test(t);)t=t.replace(j,n),j.lastIndex=0,r-=1;return t}var F={};function U(t,e){var r=t.toLowerCase();F[r]=F[r+"s"]=F[e]=t}function $(t){return"string"==typeof t?F[t]||F[t.toLowerCase()]:void 0}function H(t){var e,r,n={};for(r in t)a(t,r)&&(e=$(r))&&(n[e]=t[r]);return n}var V={};function G(t,e){V[t]=e}function W(t){var e,r=[];for(e in t)a(t,e)&&r.push({unit:e,priority:V[e]});return r.sort(function(t,e){return t.priority-e.priority}),r}function Y(t){return t%4==0&&t%100!=0||t%400==0}function K(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function z(t){var e=+t,r=0;return 0!==e&&isFinite(e)&&(r=K(e)),r}function J(t,e){return function(r){return null!=r?(X(this,t,r),o.updateOffset(this,e),this):Q(this,t)}}function Q(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function X(t,e,r){t.isValid()&&!isNaN(r)&&("FullYear"===e&&Y(t.year())&&1===t.month()&&29===t.date()?(r=z(r),t._d["set"+(t._isUTC?"UTC":"")+e](r,t.month(),jt(r,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](r))}var Z,tt=/\d/,et=/\d\d/,rt=/\d{3}/,nt=/\d{4}/,ot=/[+-]?\d{6}/,it=/\d\d?/,st=/\d\d\d\d?/,at=/\d\d\d\d\d\d?/,ct=/\d{1,3}/,ut=/\d{1,4}/,pt=/[+-]?\d{1,6}/,lt=/\d+/,ft=/[+-]?\d+/,ht=/Z|[+-]\d\d:?\d\d/gi,dt=/Z|[+-]\d\d(?::?\d\d)?/gi,_t=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function yt(t,e,r){Z[t]=S(e)?e:function(t){return t&&r?r:e}}function vt(t,e){return a(Z,t)?Z[t](e._strict,e._locale):new RegExp(gt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,r,n,o){return e||r||n||o})))}function gt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Z={};var mt={};function Et(t,e){var r,n=e;for("string"==typeof t&&(t=[t]),p(e)&&(n=function(t,r){r[e]=z(t)}),r=0;r<t.length;r++)mt[t[r]]=n}function Ot(t,e){Et(t,function(t,r,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function bt(t,e,r){null!=e&&a(mt,t)&&mt[t](e,r._a,r,t)}var Rt,Pt=0,Mt=1,It=2,wt=3,St=4,At=5,Ct=6,Dt=7,Tt=8;function jt(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=(e%12+12)%12;return t+=(e-r)/12,1===r?Y(t)?29:28:31-r%7%2}Rt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},L("M",["MM",2],"Mo",function(){return this.month()+1}),L("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),L("MMMM",0,0,function(t){return this.localeData().months(this,t)}),U("month","M"),G("month",8),yt("M",it),yt("MM",it,et),yt("MMM",function(t,e){return e.monthsShortRegex(t)}),yt("MMMM",function(t,e){return e.monthsRegex(t)}),Et(["M","MM"],function(t,e){e[Mt]=z(t)-1}),Et(["MMM","MMMM"],function(t,e,r,n){var o=r._locale.monthsParse(t,n,r._strict);null!=o?e[Mt]=o:_(r).invalidMonth=t});var Nt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Lt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Bt=_t,kt=_t;function qt(t,e,r){var n,o,i,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?"MMM"===e?-1!==(o=Rt.call(this._shortMonthsParse,s))?o:null:-1!==(o=Rt.call(this._longMonthsParse,s))?o:null:"MMM"===e?-1!==(o=Rt.call(this._shortMonthsParse,s))?o:-1!==(o=Rt.call(this._longMonthsParse,s))?o:null:-1!==(o=Rt.call(this._longMonthsParse,s))?o:-1!==(o=Rt.call(this._shortMonthsParse,s))?o:null}function Ft(t,e){var r;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=z(e);else if(!p(e=t.localeData().monthsParse(e)))return t;return r=Math.min(t.date(),jt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,r),t}function Ut(t){return null!=t?(Ft(this,t),o.updateOffset(this,!0),this):Q(this,"Month")}function $t(){function t(t,e){return e.length-t.length}var e,r,n=[],o=[],i=[];for(e=0;e<12;e++)r=d([2e3,e]),n.push(this.monthsShort(r,"")),o.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(n.sort(t),o.sort(t),i.sort(t),e=0;e<12;e++)n[e]=gt(n[e]),o[e]=gt(o[e]);for(e=0;e<24;e++)i[e]=gt(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ht(t){return Y(t)?366:365}L("Y",0,0,function(){var t=this.year();return t<=9999?D(t,4):"+"+t}),L(0,["YY",2],0,function(){return this.year()%100}),L(0,["YYYY",4],0,"year"),L(0,["YYYYY",5],0,"year"),L(0,["YYYYYY",6,!0],0,"year"),U("year","y"),G("year",1),yt("Y",ft),yt("YY",it,et),yt("YYYY",ut,nt),yt("YYYYY",pt,ot),yt("YYYYYY",pt,ot),Et(["YYYYY","YYYYYY"],Pt),Et("YYYY",function(t,e){e[Pt]=2===t.length?o.parseTwoDigitYear(t):z(t)}),Et("YY",function(t,e){e[Pt]=o.parseTwoDigitYear(t)}),Et("Y",function(t,e){e[Pt]=parseInt(t,10)}),o.parseTwoDigitYear=function(t){return z(t)+(z(t)>68?1900:2e3)};var Vt=J("FullYear",!0);function Gt(t,e,r,n,o,i,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,r,n,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,r,n,o,i,s),a}function Wt(t){var e,r;return t<100&&t>=0?((r=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Yt(t,e,r){var n=7+e-r;return-(7+Wt(t,0,n).getUTCDay()-e)%7+n-1}function Kt(t,e,r,n,o){var i,s,a=1+7*(e-1)+(7+r-n)%7+Yt(t,n,o);return a<=0?s=Ht(i=t-1)+a:a>Ht(t)?(i=t+1,s=a-Ht(t)):(i=t,s=a),{year:i,dayOfYear:s}}function zt(t,e,r){var n,o,i=Yt(t.year(),e,r),s=Math.floor((t.dayOfYear()-i-1)/7)+1;return s<1?n=s+Jt(o=t.year()-1,e,r):s>Jt(t.year(),e,r)?(n=s-Jt(t.year(),e,r),o=t.year()+1):(o=t.year(),n=s),{week:n,year:o}}function Jt(t,e,r){var n=Yt(t,e,r),o=Yt(t+1,e,r);return(Ht(t)-n+o)/7}function Qt(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Xt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Zt(t,e){return t.slice(e,7).concat(t.slice(0,e))}L("w",["ww",2],"wo","week"),L("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),G("week",5),G("isoWeek",5),yt("w",it),yt("ww",it,et),yt("W",it),yt("WW",it,et),Ot(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=z(t)}),L("d",0,"do","day"),L("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),L("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),L("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),L("e",0,0,"weekday"),L("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),G("day",11),G("weekday",11),G("isoWeekday",11),yt("d",it),yt("e",it),yt("E",it),yt("dd",function(t,e){return e.weekdaysMinRegex(t)}),yt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),yt("dddd",function(t,e){return e.weekdaysRegex(t)}),Ot(["dd","ddd","dddd"],function(t,e,r,n){var o=r._locale.weekdaysParse(t,n,r._strict);null!=o?e.d=o:_(r).invalidWeekday=t}),Ot(["d","e","E"],function(t,e,r,n){e[n]=z(t)});var te="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ee="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),re="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ne=_t,oe=_t,ie=_t;function se(t,e,r){var n,o,i,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?"dddd"===e?-1!==(o=Rt.call(this._weekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Rt.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=Rt.call(this._minWeekdaysParse,s))?o:null:"dddd"===e?-1!==(o=Rt.call(this._weekdaysParse,s))?o:-1!==(o=Rt.call(this._shortWeekdaysParse,s))?o:-1!==(o=Rt.call(this._minWeekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Rt.call(this._shortWeekdaysParse,s))?o:-1!==(o=Rt.call(this._weekdaysParse,s))?o:-1!==(o=Rt.call(this._minWeekdaysParse,s))?o:null:-1!==(o=Rt.call(this._minWeekdaysParse,s))?o:-1!==(o=Rt.call(this._weekdaysParse,s))?o:-1!==(o=Rt.call(this._shortWeekdaysParse,s))?o:null}function ae(){function t(t,e){return e.length-t.length}var e,r,n,o,i,s=[],a=[],c=[],u=[];for(e=0;e<7;e++)r=d([2e3,1]).day(e),n=gt(this.weekdaysMin(r,"")),o=gt(this.weekdaysShort(r,"")),i=gt(this.weekdays(r,"")),s.push(n),a.push(o),c.push(i),u.push(n),u.push(o),u.push(i);s.sort(t),a.sort(t),c.sort(t),u.sort(t),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ce(){return this.hours()%12||12}function ue(t,e){L(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function pe(t,e){return e._meridiemParse}L("H",["HH",2],0,"hour"),L("h",["hh",2],0,ce),L("k",["kk",2],0,function(){return this.hours()||24}),L("hmm",0,0,function(){return""+ce.apply(this)+D(this.minutes(),2)}),L("hmmss",0,0,function(){return""+ce.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)}),L("Hmm",0,0,function(){return""+this.hours()+D(this.minutes(),2)}),L("Hmmss",0,0,function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)}),ue("a",!0),ue("A",!1),U("hour","h"),G("hour",13),yt("a",pe),yt("A",pe),yt("H",it),yt("h",it),yt("k",it),yt("HH",it,et),yt("hh",it,et),yt("kk",it,et),yt("hmm",st),yt("hmmss",at),yt("Hmm",st),yt("Hmmss",at),Et(["H","HH"],wt),Et(["k","kk"],function(t,e){var r=z(t);e[wt]=24===r?0:r}),Et(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t}),Et(["h","hh"],function(t,e,r){e[wt]=z(t),_(r).bigHour=!0}),Et("hmm",function(t,e,r){var n=t.length-2;e[wt]=z(t.substr(0,n)),e[St]=z(t.substr(n)),_(r).bigHour=!0}),Et("hmmss",function(t,e,r){var n=t.length-4,o=t.length-2;e[wt]=z(t.substr(0,n)),e[St]=z(t.substr(n,2)),e[At]=z(t.substr(o)),_(r).bigHour=!0}),Et("Hmm",function(t,e){var r=t.length-2;e[wt]=z(t.substr(0,r)),e[St]=z(t.substr(r))}),Et("Hmmss",function(t,e){var r=t.length-4,n=t.length-2;e[wt]=z(t.substr(0,r)),e[St]=z(t.substr(r,2)),e[At]=z(t.substr(n))});var le,fe=J("Hours",!0),he={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Nt,monthsShort:xt,week:{dow:0,doy:6},weekdays:te,weekdaysMin:re,weekdaysShort:ee,meridiemParse:/[ap]\.?m?\.?/i},de={},_e={};function ye(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function ve(t){return t?t.toLowerCase().replace("_","-"):t}function ge(t){for(var e,r,n,o,i=0;i<t.length;){for(e=(o=ve(t[i]).split("-")).length,r=(r=ve(t[i+1]))?r.split("-"):null;e>0;){if(n=me(o.slice(0,e).join("-")))return n;if(r&&r.length>=e&&ye(o,r)>=e-1)break;e--}i++}return le}function me(r){var n=null;if(void 0===de[r]&&void 0!==e&&e&&e.exports)try{n=le._abbr,t("./locale/"+r),Ee(n)}catch(o){de[r]=null}return de[r]}function Ee(t,e){var r;return t&&((r=u(e)?be(t):Oe(t,e))?le=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),le._abbr}function Oe(t,e){if(null!==e){var r,n=he;if(e.abbr=t,null!=de[t])w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=de[t]._config;else if(null!=e.parentLocale)if(null!=de[e.parentLocale])n=de[e.parentLocale]._config;else{if(null==(r=me(e.parentLocale)))return _e[e.parentLocale]||(_e[e.parentLocale]=[]),_e[e.parentLocale].push({name:t,config:e}),null;n=r._config}return de[t]=new C(A(n,e)),_e[t]&&_e[t].forEach(function(t){Oe(t.name,t.config)}),Ee(t),de[t]}return delete de[t],null}function be(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return le;if(!i(t)){if(e=me(t))return e;t=[t]}return ge(t)}function Re(t){var e,r=t._a;return r&&-2===_(t).overflow&&(e=r[Mt]<0||r[Mt]>11?Mt:r[It]<1||r[It]>jt(r[Pt],r[Mt])?It:r[wt]<0||r[wt]>24||24===r[wt]&&(0!==r[St]||0!==r[At]||0!==r[Ct])?wt:r[St]<0||r[St]>59?St:r[At]<0||r[At]>59?At:r[Ct]<0||r[Ct]>999?Ct:-1,_(t)._overflowDayOfYear&&(e<Pt||e>It)&&(e=It),_(t)._overflowWeeks&&-1===e&&(e=Dt),_(t)._overflowWeekday&&-1===e&&(e=Tt),_(t).overflow=e),t}var Pe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Me=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ie=/Z|[+-]\d\d(?::?\d\d)?/,we=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Se=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ae=/^\/?Date\((-?\d+)/i,Ce=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,De={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Te(t){var e,r,n,o,i,s,a=t._i,c=Pe.exec(a)||Me.exec(a);if(c){for(_(t).iso=!0,e=0,r=we.length;e<r;e++)if(we[e][1].exec(c[1])){o=we[e][0],n=!1!==we[e][2];break}if(null==o)return void(t._isValid=!1);if(c[3]){for(e=0,r=Se.length;e<r;e++)if(Se[e][1].exec(c[3])){i=(c[2]||" ")+Se[e][0];break}if(null==i)return void(t._isValid=!1)}if(!n&&null!=i)return void(t._isValid=!1);if(c[4]){if(!Ie.exec(c[4]))return void(t._isValid=!1);s="Z"}t._f=o+(i||"")+(s||""),$e(t)}else t._isValid=!1}function je(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Ne(t,e,r){return!t||ee.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(_(r).weekdayMismatch=!0,r._isValid=!1,!1)}function xe(t,e,r){if(t)return De[t];if(e)return 0;var n=parseInt(r,10),o=n%100;return(n-o)/100*60+o}function Le(t){var e,r,n,o,i,s,a,c,u=Ce.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){if(r=u[4],n=u[3],o=u[2],i=u[5],s=u[6],a=u[7],c=[je(r),xt.indexOf(n),parseInt(o,10),parseInt(i,10),parseInt(s,10)],a&&c.push(parseInt(a,10)),e=c,!Ne(u[1],e,t))return;t._a=e,t._tzm=xe(u[8],u[9],u[10]),t._d=Wt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),_(t).rfc2822=!0}else t._isValid=!1}function Be(t){var e=Ae.exec(t._i);null===e?(Te(t),!1===t._isValid&&(delete t._isValid,Le(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:o.createFromInputFallback(t)))):t._d=new Date(+e[1])}function ke(t,e,r){return null!=t?t:null!=e?e:r}function qe(t){var e=new Date(o.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Fe(t){var e,r,n,o,i,s=[];if(!t._d){for(n=qe(t),t._w&&null==t._a[It]&&null==t._a[Mt]&&Ue(t),null!=t._dayOfYear&&(i=ke(t._a[Pt],n[Pt]),(t._dayOfYear>Ht(i)||0===t._dayOfYear)&&(_(t)._overflowDayOfYear=!0),r=Wt(i,0,t._dayOfYear),t._a[Mt]=r.getUTCMonth(),t._a[It]=r.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[wt]&&0===t._a[St]&&0===t._a[At]&&0===t._a[Ct]&&(t._nextDay=!0,t._a[wt]=0),t._d=(t._useUTC?Wt:Gt).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[wt]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(_(t).weekdayMismatch=!0)}}function Ue(t){var e,r,n,o,i,s,a,c,u;null!=(e=t._w).GG||null!=e.W||null!=e.E?(i=1,s=4,r=ke(e.GG,t._a[Pt],zt(ze(),1,4).year),n=ke(e.W,1),((o=ke(e.E,1))<1||o>7)&&(c=!0)):(i=t._locale._week.dow,s=t._locale._week.doy,u=zt(ze(),i,s),r=ke(e.gg,t._a[Pt],u.year),n=ke(e.w,u.week),null!=e.d?((o=e.d)<0||o>6)&&(c=!0):null!=e.e?(o=e.e+i,(e.e<0||e.e>6)&&(c=!0)):o=i),n<1||n>Jt(r,i,s)?_(t)._overflowWeeks=!0:null!=c?_(t)._overflowWeekday=!0:(a=Kt(r,n,o,i,s),t._a[Pt]=a.year,t._dayOfYear=a.dayOfYear)}function $e(t){if(t._f!==o.ISO_8601)if(t._f!==o.RFC_2822){t._a=[],_(t).empty=!0;var e,r,n,i,s,a,c=""+t._i,u=c.length,p=0;for(n=q(t._f,t._locale).match(T)||[],e=0;e<n.length;e++)i=n[e],(r=(c.match(vt(i,t))||[])[0])&&((s=c.substr(0,c.indexOf(r))).length>0&&_(t).unusedInput.push(s),c=c.slice(c.indexOf(r)+r.length),p+=r.length),x[i]?(r?_(t).empty=!1:_(t).unusedTokens.push(i),bt(i,r,t)):t._strict&&!r&&_(t).unusedTokens.push(i);_(t).charsLeftOver=u-p,c.length>0&&_(t).unusedInput.push(c),t._a[wt]<=12&&!0===_(t).bigHour&&t._a[wt]>0&&(_(t).bigHour=void 0),_(t).parsedDateParts=t._a.slice(0),_(t).meridiem=t._meridiem,t._a[wt]=He(t._locale,t._a[wt],t._meridiem),null!==(a=_(t).era)&&(t._a[Pt]=t._locale.erasConvertYear(a,t._a[Pt])),Fe(t),Re(t)}else Le(t);else Te(t)}function He(t,e,r){var n;return null==r?e:null!=t.meridiemHour?t.meridiemHour(e,r):null!=t.isPM?((n=t.isPM(r))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function Ve(t){var e,r,n,o,i,s,a=!1;if(0===t._f.length)return _(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)i=0,s=!1,e=E({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],$e(e),y(e)&&(s=!0),i+=_(e).charsLeftOver,i+=10*_(e).unusedTokens.length,_(e).score=i,a?i<n&&(n=i,r=e):(null==n||i<n||s)&&(n=i,r=e,s&&(a=!0));h(t,r||e)}function Ge(t){if(!t._d){var e=H(t._i),r=void 0===e.day?e.date:e.day;t._a=f([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Fe(t)}}function We(t){var e=t._i,r=t._f;return t._locale=t._locale||be(t._l),null===e||void 0===r&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),b(e)?new O(Re(e)):(l(e)?t._d=e:i(r)?Ve(t):r?$e(t):Ye(t),y(t)||(t._d=null),t))}function Ye(t){var e=t._i;u(e)?t._d=new Date(o.now()):l(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Be(t):i(e)?(t._a=f(e.slice(0),function(t){return parseInt(t,10)}),Fe(t)):s(e)?Ge(t):p(e)?t._d=new Date(e):o.createFromInputFallback(t)}function Ke(t,e,r,n,o){var a,u={};return!0!==e&&!1!==e||(n=e,e=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(s(t)&&c(t)||i(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=r,u._i=t,u._f=e,u._strict=n,(a=new O(Re(We(u))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function ze(t,e,r,n){return Ke(t,e,r,n,!1)}o.createFromInputFallback=P("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),o.ISO_8601=function(){},o.RFC_2822=function(){};var Je=P("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ze.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()}),Qe=P("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ze.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()});function Xe(t,e){var r,n;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return ze();for(r=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](r)||(r=e[n]);return r}var Ze=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tr(t){var e,r,n=!1;for(e in t)if(a(t,e)&&(-1===Rt.call(Ze,e)||null!=t[e]&&isNaN(t[e])))return!1;for(r=0;r<Ze.length;++r)if(t[Ze[r]]){if(n)return!1;parseFloat(t[Ze[r]])!==z(t[Ze[r]])&&(n=!0)}return!0}function er(t){var e=H(t),r=e.year||0,n=e.quarter||0,o=e.month||0,i=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,c=e.minute||0,u=e.second||0,p=e.millisecond||0;this._isValid=tr(e),this._milliseconds=+p+1e3*u+6e4*c+36e5*a,this._days=+s+7*i,this._months=+o+3*n+12*r,this._data={},this._locale=be(),this._bubble()}function rr(t){return t instanceof er}function nr(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function or(t,e,r){var n,o=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0;for(n=0;n<o;n++)(r&&t[n]!==e[n]||!r&&z(t[n])!==z(e[n]))&&s++;return s+i}function ir(t,e){L(t,0,0,function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+D(~~(t/60),2)+e+D(~~t%60,2)})}ir("Z",":"),ir("ZZ",""),yt("Z",dt),yt("ZZ",dt),Et(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=ar(dt,t)});var sr=/([\+\-]|\d\d)/gi;function ar(t,e){var r,n,o=(e||"").match(t);return null===o?null:0===(n=60*(r=((o[o.length-1]||[])+"").match(sr)||["-",0,0])[1]+z(r[2]))?0:"+"===r[0]?n:-n}function cr(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(b(t)||l(t)?t.valueOf():ze(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),o.updateOffset(r,!1),r):ze(t).local()}function ur(t){return-Math.round(t._d.getTimezoneOffset())}function pr(){return!!this.isValid()&&this._isUTC&&0===this._offset}o.updateOffset=function(){};var lr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,fr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function hr(t,e){var r,n,o,i,s,c,u=t,l=null;return rr(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:p(t)||!isNaN(+t)?(u={},e?u[e]=+t:u.milliseconds=+t):(l=lr.exec(t))?(r="-"===l[1]?-1:1,u={y:0,d:z(l[It])*r,h:z(l[wt])*r,m:z(l[St])*r,s:z(l[At])*r,ms:z(nr(1e3*l[Ct]))*r}):(l=fr.exec(t))?(r="-"===l[1]?-1:1,u={y:dr(l[2],r),M:dr(l[3],r),w:dr(l[4],r),d:dr(l[5],r),h:dr(l[6],r),m:dr(l[7],r),s:dr(l[8],r)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(i=ze(u.from),s=ze(u.to),o=i.isValid()&&s.isValid()?(s=cr(s,i),i.isBefore(s)?c=_r(i,s):((c=_r(s,i)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(u={}).ms=o.milliseconds,u.M=o.months),n=new er(u),rr(t)&&a(t,"_locale")&&(n._locale=t._locale),rr(t)&&a(t,"_isValid")&&(n._isValid=t._isValid),n}function dr(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function _r(t,e){var r={};return r.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function yr(t,e){return function(r,n){var o;return null===n||isNaN(+n)||(w(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),vr(this,hr(r,n),t),this}}function vr(t,e,r,n){var i=e._milliseconds,s=nr(e._days),a=nr(e._months);t.isValid()&&(n=null==n||n,a&&Ft(t,Q(t,"Month")+a*r),s&&X(t,"Date",Q(t,"Date")+s*r),i&&t._d.setTime(t._d.valueOf()+i*r),n&&o.updateOffset(t,s||a))}hr.fn=er.prototype,hr.invalid=function(){return hr(NaN)};var gr=yr(1,"add"),mr=yr(-1,"subtract");function Er(t){return"string"==typeof t||t instanceof String}function Or(t){var e,r=s(t)&&!c(t),n=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<o.length;e+=1)n=n||a(t,o[e]);return r&&n}function br(t){var e=i(t),r=!1;return e&&(r=0===t.filter(function(e){return!p(e)&&Er(t)}).length),e&&r}function Rr(t){var e,r=s(t)&&!c(t),n=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<o.length;e+=1)n=n||a(t,o[e]);return r&&n}function Pr(t,e){if(t.date()<e.date())return-Pr(e,t);var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,"months");return-(r+(e-n<0?(e-n)/(n-t.clone().add(r-1,"months")):(e-n)/(t.clone().add(r+1,"months")-n)))||0}function Mr(t){var e;return void 0===t?this._locale._abbr:(null!=(e=be(t))&&(this._locale=e),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ir=P("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function wr(){return this._locale}var Sr=126227808e5;function Ar(t,e){return(t%e+e)%e}function Cr(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-Sr:new Date(t,e,r).valueOf()}function Dr(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-Sr:Date.UTC(t,e,r)}function Tr(t,e){return e.erasAbbrRegex(t)}function jr(){var t,e,r=[],n=[],o=[],i=[],s=this.eras();for(t=0,e=s.length;t<e;++t)n.push(gt(s[t].name)),r.push(gt(s[t].abbr)),o.push(gt(s[t].narrow)),i.push(gt(s[t].name)),i.push(gt(s[t].abbr)),i.push(gt(s[t].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function Nr(t,e){L(0,[t,t.length],0,e)}function xr(t,e,r,n,o){var i;return null==t?zt(this,n,o).year:(e>(i=Jt(t,n,o))&&(e=i),Lr.call(this,t,e,r,n,o))}function Lr(t,e,r,n,o){var i=Kt(t,e,r,n,o),s=Wt(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}L("N",0,0,"eraAbbr"),L("NN",0,0,"eraAbbr"),L("NNN",0,0,"eraAbbr"),L("NNNN",0,0,"eraName"),L("NNNNN",0,0,"eraNarrow"),L("y",["y",1],"yo","eraYear"),L("y",["yy",2],0,"eraYear"),L("y",["yyy",3],0,"eraYear"),L("y",["yyyy",4],0,"eraYear"),yt("N",Tr),yt("NN",Tr),yt("NNN",Tr),yt("NNNN",function(t,e){return e.erasNameRegex(t)}),yt("NNNNN",function(t,e){return e.erasNarrowRegex(t)}),Et(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,n){var o=r._locale.erasParse(t,n,r._strict);o?_(r).era=o:_(r).invalidEra=t}),yt("y",lt),yt("yy",lt),yt("yyy",lt),yt("yyyy",lt),yt("yo",function(t,e){return e._eraYearOrdinalRegex||lt}),Et(["y","yy","yyy","yyyy"],Pt),Et(["yo"],function(t,e,r){var n;r._locale._eraYearOrdinalRegex&&(n=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[Pt]=r._locale.eraYearOrdinalParse(t,n):e[Pt]=parseInt(t,10)}),L(0,["gg",2],0,function(){return this.weekYear()%100}),L(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Nr("gggg","weekYear"),Nr("ggggg","weekYear"),Nr("GGGG","isoWeekYear"),Nr("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),G("weekYear",1),G("isoWeekYear",1),yt("G",ft),yt("g",ft),yt("GG",it,et),yt("gg",it,et),yt("GGGG",ut,nt),yt("gggg",ut,nt),yt("GGGGG",pt,ot),yt("ggggg",pt,ot),Ot(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=z(t)}),Ot(["gg","GG"],function(t,e,r,n){e[n]=o.parseTwoDigitYear(t)}),L("Q",0,"Qo","quarter"),U("quarter","Q"),G("quarter",7),yt("Q",tt),Et("Q",function(t,e){e[Mt]=3*(z(t)-1)}),L("D",["DD",2],"Do","date"),U("date","D"),G("date",9),yt("D",it),yt("DD",it,et),yt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),Et(["D","DD"],It),Et("Do",function(t,e){e[It]=z(t.match(it)[0])});var Br=J("Date",!0);L("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),G("dayOfYear",4),yt("DDD",ct),yt("DDDD",rt),Et(["DDD","DDDD"],function(t,e,r){r._dayOfYear=z(t)}),L("m",["mm",2],0,"minute"),U("minute","m"),G("minute",14),yt("m",it),yt("mm",it,et),Et(["m","mm"],St);var kr=J("Minutes",!1);L("s",["ss",2],0,"second"),U("second","s"),G("second",15),yt("s",it),yt("ss",it,et),Et(["s","ss"],At);var qr,Fr,Ur=J("Seconds",!1);for(L("S",0,0,function(){return~~(this.millisecond()/100)}),L(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),L(0,["SSS",3],0,"millisecond"),L(0,["SSSS",4],0,function(){return 10*this.millisecond()}),L(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),L(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),L(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),L(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),L(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),U("millisecond","ms"),G("millisecond",16),yt("S",ct,tt),yt("SS",ct,et),yt("SSS",ct,rt),qr="SSSS";qr.length<=9;qr+="S")yt(qr,lt);function $r(t,e){e[Ct]=z(1e3*("0."+t))}for(qr="S";qr.length<=9;qr+="S")Et(qr,$r);Fr=J("Milliseconds",!1),L("z",0,0,"zoneAbbr"),L("zz",0,0,"zoneName");var Hr=O.prototype;function Vr(t){return t}Hr.add=gr,Hr.calendar=function(t,e){var r;1===arguments.length&&(arguments[0]?b(r=arguments[0])||l(r)||Er(r)||p(r)||br(r)||Or(r)||null==r?(t=arguments[0],e=void 0):Rr(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||ze(),i=cr(n,this).startOf("day"),s=o.calendarFormat(this,i)||"sameElse",a=e&&(S(e[s])?e[s].call(this,n):e[s]);return this.format(a||this.localeData().calendar(s,this,ze(n)))},Hr.clone=function(){return new O(this)},Hr.diff=function(t,e,r){var n,o,i;if(!this.isValid())return NaN;if(!(n=cr(t,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),e=$(e)){case"year":i=Pr(this,n)/12;break;case"month":i=Pr(this,n);break;case"quarter":i=Pr(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-o)/864e5;break;case"week":i=(this-n-o)/6048e5;break;default:i=this-n}return r?i:K(i)},Hr.endOf=function(t){var e,r;if(void 0===(t=$(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?Dr:Cr,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Ar(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Ar(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Ar(e,1e3)-1}return this._d.setTime(e),o.updateOffset(this,!0),this},Hr.format=function(t){t||(t=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var e=k(this,t);return this.localeData().postformat(e)},Hr.from=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||ze(t).isValid())?hr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Hr.fromNow=function(t){return this.from(ze(),t)},Hr.to=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||ze(t).isValid())?hr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Hr.toNow=function(t){return this.to(ze(),t)},Hr.get=function(t){return S(this[t=$(t)])?this[t]():this},Hr.invalidAt=function(){return _(this).overflow},Hr.isAfter=function(t,e){var r=b(t)?t:ze(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=$(e)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf())},Hr.isBefore=function(t,e){var r=b(t)?t:ze(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=$(e)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf())},Hr.isBetween=function(t,e,r,n){var o=b(t)?t:ze(t),i=b(e)?e:ze(e);return!!(this.isValid()&&o.isValid()&&i.isValid())&&("("===(n=n||"()")[0]?this.isAfter(o,r):!this.isBefore(o,r))&&(")"===n[1]?this.isBefore(i,r):!this.isAfter(i,r))},Hr.isSame=function(t,e){var r,n=b(t)?t:ze(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=$(e)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf()))},Hr.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Hr.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Hr.isValid=function(){return y(this)},Hr.lang=Ir,Hr.locale=Mr,Hr.localeData=wr,Hr.max=Qe,Hr.min=Je,Hr.parsingFlags=function(){return h({},_(this))},Hr.set=function(t,e){if("object"==typeof t){var r,n=W(t=H(t));for(r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit])}else if(S(this[t=$(t)]))return this[t](e);return this},Hr.startOf=function(t){var e,r;if(void 0===(t=$(t))||"millisecond"===t||!this.isValid())return this;switch(r=this._isUTC?Dr:Cr,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ar(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Ar(e,6e4);break;case"second":e=this._d.valueOf(),e-=Ar(e,1e3)}return this._d.setTime(e),o.updateOffset(this,!0),this},Hr.subtract=mr,Hr.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Hr.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Hr.toDate=function(){return new Date(this.valueOf())},Hr.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?k(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+6e4*this.utcOffset()).toISOString().replace("Z",k(r,"Z")):k(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Hr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,r,n="moment",o="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),t="["+n+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=o+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Hr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Hr.toJSON=function(){return this.isValid()?this.toISOString():null},Hr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Hr.unix=function(){return Math.floor(this.valueOf()/1e3)},Hr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Hr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Hr.eraName=function(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].name;if(n[t].until<=r&&r<=n[t].since)return n[t].name}return""},Hr.eraNarrow=function(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].narrow;if(n[t].until<=r&&r<=n[t].since)return n[t].narrow}return""},Hr.eraAbbr=function(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until)return n[t].abbr;if(n[t].until<=r&&r<=n[t].since)return n[t].abbr}return""},Hr.eraYear=function(){var t,e,r,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return(this.year()-o(i[t].since).year())*r+i[t].offset;return this.year()},Hr.year=Vt,Hr.isLeapYear=function(){return Y(this.year())},Hr.weekYear=function(t){return xr.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Hr.isoWeekYear=function(t){return xr.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Hr.quarter=Hr.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Hr.month=Ut,Hr.daysInMonth=function(){return jt(this.year(),this.month())},Hr.week=Hr.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Hr.isoWeek=Hr.isoWeeks=function(t){var e=zt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Hr.weeksInYear=function(){var t=this.localeData()._week;return Jt(this.year(),t.dow,t.doy)},Hr.weeksInWeekYear=function(){var t=this.localeData()._week;return Jt(this.weekYear(),t.dow,t.doy)},Hr.isoWeeksInYear=function(){return Jt(this.year(),1,4)},Hr.isoWeeksInISOWeekYear=function(){return Jt(this.isoWeekYear(),1,4)},Hr.date=Br,Hr.day=Hr.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Qt(t,this.localeData()),this.add(t-e,"d")):e},Hr.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Hr.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Xt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},Hr.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Hr.hour=Hr.hours=fe,Hr.minute=Hr.minutes=kr,Hr.second=Hr.seconds=Ur,Hr.millisecond=Hr.milliseconds=Fr,Hr.utcOffset=function(t,e,r){var n,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=ar(dt,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&e&&(n=ur(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?vr(this,hr(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:ur(this)},Hr.utc=function(t){return this.utcOffset(0,t)},Hr.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ur(this),"m")),this},Hr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=ar(ht,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},Hr.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?ze(t).utcOffset():0,(this.utcOffset()-t)%60==0)},Hr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Hr.isLocal=function(){return!!this.isValid()&&!this._isUTC},Hr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Hr.isUtc=pr,Hr.isUTC=pr,Hr.zoneAbbr=function(){return this._isUTC?"UTC":""},Hr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Hr.dates=P("dates accessor is deprecated. Use date instead.",Br),Hr.months=P("months accessor is deprecated. Use month instead",Ut),Hr.years=P("years accessor is deprecated. Use year instead",Vt),Hr.zone=P("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),Hr.isDSTShifted=P("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return E(e,this),(e=We(e))._a?(t=e._isUTC?d(e._a):ze(e._a),this._isDSTShifted=this.isValid()&&or(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var Gr=C.prototype;function Wr(t,e,r,n){var o=be(),i=d().set(n,e);return o[r](i,t)}function Yr(t,e,r){if(p(t)&&(e=t,t=void 0),t=t||"",null!=e)return Wr(t,e,r,"month");var n,o=[];for(n=0;n<12;n++)o[n]=Wr(t,n,r,"month");return o}function Kr(t,e,r,n){"boolean"==typeof t?(p(e)&&(r=e,e=void 0),e=e||""):(r=e=t,t=!1,p(e)&&(r=e,e=void 0),e=e||"");var o,i=be(),s=t?i._week.dow:0,a=[];if(null!=r)return Wr(e,(r+s)%7,n,"day");for(o=0;o<7;o++)a[o]=Wr(e,(o+s)%7,n,"day");return a}Gr.calendar=function(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return S(n)?n.call(e,r):n},Gr.longDateFormat=function(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(T).map(function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t}).join(""),this._longDateFormat[t])},Gr.invalidDate=function(){return this._invalidDate},Gr.ordinal=function(t){return this._ordinal.replace("%d",t)},Gr.preparse=Vr,Gr.postformat=Vr,Gr.relativeTime=function(t,e,r,n){var o=this._relativeTime[r];return S(o)?o(t,e,r,n):o.replace(/%d/i,t)},Gr.pastFuture=function(t,e){var r=this._relativeTime[t>0?"future":"past"];return S(r)?r(e):r.replace(/%s/i,e)},Gr.set=function(t){var e,r;for(r in t)a(t,r)&&(S(e=t[r])?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Gr.eras=function(){var t,e,r,n=this._eras||be("en")._eras;for(t=0,e=n.length;t<e;++t){switch(typeof n[t].since){case"string":r=o(n[t].since).startOf("day"),n[t].since=r.valueOf()}switch(typeof n[t].until){case"undefined":n[t].until=1/0;break;case"string":r=o(n[t].until).startOf("day").valueOf(),n[t].until=r.valueOf()}}return n},Gr.erasParse=function(t,e,r){var n,o,i,s,a,c=this.eras();for(t=t.toUpperCase(),n=0,o=c.length;n<o;++n)if(i=c[n].name.toUpperCase(),s=c[n].abbr.toUpperCase(),a=c[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(s===t)return c[n];break;case"NNNN":if(i===t)return c[n];break;case"NNNNN":if(a===t)return c[n]}else if([i,s,a].indexOf(t)>=0)return c[n]},Gr.erasConvertYear=function(t,e){var r=t.since<=t.until?1:-1;return void 0===e?o(t.since).year():o(t.since).year()+(e-t.offset)*r},Gr.erasAbbrRegex=function(t){return a(this,"_erasAbbrRegex")||jr.call(this),t?this._erasAbbrRegex:this._erasRegex},Gr.erasNameRegex=function(t){return a(this,"_erasNameRegex")||jr.call(this),t?this._erasNameRegex:this._erasRegex},Gr.erasNarrowRegex=function(t){return a(this,"_erasNarrowRegex")||jr.call(this),t?this._erasNarrowRegex:this._erasRegex},Gr.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Lt).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},Gr.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Lt.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Gr.monthsParse=function(t,e,r){var n,o,i;if(this._monthsParseExact)return qt.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=d([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(r&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}},Gr.monthsRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||$t.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=kt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},Gr.monthsShortRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||$t.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Bt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},Gr.week=function(t){return zt(t,this._week.dow,this._week.doy).week},Gr.firstDayOfYear=function(){return this._week.doy},Gr.firstDayOfWeek=function(){return this._week.dow},Gr.weekdays=function(t,e){var r=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Zt(r,this._week.dow):t?r[t.day()]:r},Gr.weekdaysMin=function(t){return!0===t?Zt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},Gr.weekdaysShort=function(t){return!0===t?Zt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},Gr.weekdaysParse=function(t,e,r){var n,o,i;if(this._weekdaysParseExact)return se.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=d([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(r&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(r&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}},Gr.weekdaysRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||ae.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=ne),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},Gr.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||ae.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=oe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Gr.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||ae.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ie),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Gr.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Gr.meridiem=function(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"},Ee("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===z(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),o.lang=P("moment.lang is deprecated. Use moment.locale instead.",Ee),o.langData=P("moment.langData is deprecated. Use moment.localeData instead.",be);var zr=Math.abs;function Jr(t,e,r,n){var o=hr(e,r);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function Qr(t){return t<0?Math.floor(t):Math.ceil(t)}function Xr(t){return 4800*t/146097}function Zr(t){return 146097*t/4800}function tn(t){return function(){return this.as(t)}}var en=tn("ms"),rn=tn("s"),nn=tn("m"),on=tn("h"),sn=tn("d"),an=tn("w"),cn=tn("M"),un=tn("Q"),pn=tn("y");function ln(t){return function(){return this.isValid()?this._data[t]:NaN}}var fn=ln("milliseconds"),hn=ln("seconds"),dn=ln("minutes"),_n=ln("hours"),yn=ln("days"),vn=ln("months"),gn=ln("years"),mn=Math.round,En={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function On(t,e,r,n,o){return o.relativeTime(e||1,!!r,t,n)}function bn(t,e,r,n){var o=hr(t).abs(),i=mn(o.as("s")),s=mn(o.as("m")),a=mn(o.as("h")),c=mn(o.as("d")),u=mn(o.as("M")),p=mn(o.as("w")),l=mn(o.as("y")),f=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||s<=1&&["m"]||s<r.m&&["mm",s]||a<=1&&["h"]||a<r.h&&["hh",a]||c<=1&&["d"]||c<r.d&&["dd",c];return null!=r.w&&(f=f||p<=1&&["w"]||p<r.w&&["ww",p]),(f=f||u<=1&&["M"]||u<r.M&&["MM",u]||l<=1&&["y"]||["yy",l])[2]=e,f[3]=+t>0,f[4]=n,On.apply(null,f)}var Rn=Math.abs;function Pn(t){return(t>0)-(t<0)||+t}function Mn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,r,n,o,i,s,a,c=Rn(this._milliseconds)/1e3,u=Rn(this._days),p=Rn(this._months),l=this.asSeconds();return l?(t=K(c/60),e=K(t/60),c%=60,t%=60,r=K(p/12),p%=12,n=c?c.toFixed(3).replace(/\.?0+$/,""):"",o=l<0?"-":"",i=Pn(this._months)!==Pn(l)?"-":"",s=Pn(this._days)!==Pn(l)?"-":"",a=Pn(this._milliseconds)!==Pn(l)?"-":"",o+"P"+(r?i+r+"Y":"")+(p?i+p+"M":"")+(u?s+u+"D":"")+(e||t||c?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(c?a+n+"S":"")):"P0D"}var In=er.prototype;return In.isValid=function(){return this._isValid},In.abs=function(){var t=this._data;return this._milliseconds=zr(this._milliseconds),this._days=zr(this._days),this._months=zr(this._months),t.milliseconds=zr(t.milliseconds),t.seconds=zr(t.seconds),t.minutes=zr(t.minutes),t.hours=zr(t.hours),t.months=zr(t.months),t.years=zr(t.years),this},In.add=function(t,e){return Jr(this,t,e,1)},In.subtract=function(t,e){return Jr(this,t,e,-1)},In.as=function(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if("month"===(t=$(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,r=this._months+Xr(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(Zr(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},In.asMilliseconds=en,In.asSeconds=rn,In.asMinutes=nn,In.asHours=on,In.asDays=sn,In.asWeeks=an,In.asMonths=cn,In.asQuarters=un,In.asYears=pn,In.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*z(this._months/12):NaN},In._bubble=function(){var t,e,r,n,o,i=this._milliseconds,s=this._days,a=this._months,c=this._data;return i>=0&&s>=0&&a>=0||i<=0&&s<=0&&a<=0||(i+=864e5*Qr(Zr(a)+s),s=0,a=0),c.milliseconds=i%1e3,t=K(i/1e3),c.seconds=t%60,e=K(t/60),c.minutes=e%60,r=K(e/60),c.hours=r%24,s+=K(r/24),a+=o=K(Xr(s)),s-=Qr(Zr(o)),n=K(a/12),a%=12,c.days=s,c.months=a,c.years=n,this},In.clone=function(){return hr(this)},In.get=function(t){return t=$(t),this.isValid()?this[t+"s"]():NaN},In.milliseconds=fn,In.seconds=hn,In.minutes=dn,In.hours=_n,In.days=yn,In.weeks=function(){return K(this.days()/7)},In.months=vn,In.years=gn,In.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var r,n,o=!1,i=En;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(o=t),"object"==typeof e&&(i=Object.assign({},En,e),null!=e.s&&null==e.ss&&(i.ss=e.s-1)),n=bn(this,!o,i,r=this.localeData()),o&&(n=r.pastFuture(+this,n)),r.postformat(n)},In.toISOString=Mn,In.toString=Mn,In.toJSON=Mn,In.locale=Mr,In.localeData=wr,In.toIsoString=P("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mn),In.lang=Ir,L("X",0,0,"unix"),L("x",0,0,"valueOf"),yt("x",ft),yt("X",/[+-]?\d+(\.\d{1,3})?/),Et("X",function(t,e,r){r._d=new Date(1e3*parseFloat(t))}),Et("x",function(t,e,r){r._d=new Date(z(t))}),o.version="2.29.1",r=ze,o.fn=Hr,o.min=function(){return Xe("isBefore",[].slice.call(arguments,0))},o.max=function(){return Xe("isAfter",[].slice.call(arguments,0))},o.now=function(){return Date.now?Date.now():+new Date},o.utc=d,o.unix=function(t){return ze(1e3*t)},o.months=function(t,e){return Yr(t,e,"months")},o.isDate=l,o.locale=Ee,o.invalid=v,o.duration=hr,o.isMoment=b,o.weekdays=function(t,e,r){return Kr(t,e,r,"weekdays")},o.parseZone=function(){return ze.apply(null,arguments).parseZone()},o.localeData=be,o.isDuration=rr,o.monthsShort=function(t,e){return Yr(t,e,"monthsShort")},o.weekdaysMin=function(t,e,r){return Kr(t,e,r,"weekdaysMin")},o.defineLocale=Oe,o.updateLocale=function(t,e){if(null!=e){var r,n,o=he;null!=de[t]&&null!=de[t].parentLocale?de[t].set(A(de[t]._config,e)):(null!=(n=me(t))&&(o=n._config),e=A(o,e),null==n&&(e.abbr=t),(r=new C(e)).parentLocale=de[t],de[t]=r),Ee(t)}else null!=de[t]&&(null!=de[t].parentLocale?(de[t]=de[t].parentLocale,t===Ee()&&Ee(t)):null!=de[t]&&delete de[t]);return de[t]},o.locales=function(){return M(de)},o.weekdaysShort=function(t,e,r){return Kr(t,e,r,"weekdaysShort")},o.normalizeUnits=$,o.relativeTimeRounding=function(t){return void 0===t?mn:"function"==typeof t&&(mn=t,!0)},o.relativeTimeThreshold=function(t,e){return void 0!==En[t]&&(void 0===e?En[t]:(En[t]=e,"s"===t&&(En.ss=e-1),!0))},o.calendarFormat=function(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},o.prototype=Hr,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},o})},{}],35:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("../validation");r.default=(t,e=1)=>{n.numberValidator(e).isInt().isPositive();const r=t.irwinHall(e);return()=>r()/e}},{"../validation":54}],36:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("../validation");r.default=(t,e=.5)=>(n.numberValidator(e).greaterThanOrEqual(0).lessThan(1),()=>Math.floor(t.next()+e))},{"../validation":54}],37:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("../validation");r.default=(t,e=1,r=.5)=>(n.numberValidator(e).isInt().isPositive(),n.numberValidator(r).greaterThanOrEqual(0).lessThan(1),()=>{let n=0,o=0;for(;n++<e;)t.next()<r&&o++;return o})},{"../validation":54}],38:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("../validation");r.default=(t,e=1)=>(n.numberValidator(e).isPositive(),()=>-Math.log(1-t.next())/e)},{"../validation":54}],39:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("../validation");r.default=(t,e=.5)=>{n.numberValidator(e).greaterThan(0).lessThan(1);const r=1/Math.log(1-e);return()=>Math.floor(1+Math.log(t.next())*r)}},{"../validation":54}],40:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("../validation");r.default=(t,e=1)=>(n.numberValidator(e).isInt().greaterThanOrEqual(0),()=>{let r=0;for(let n=0;n<e;++n)r+=t.next();return r})},{"../validation":54}],41:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(t,e=0,r=1)=>{const n=t.normal(e,r);return()=>Math.exp(n())}},{}],42:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(t,e=0,r=1)=>()=>{let n,o,i;do{i=(n=2*t.next()-1)*n+(o=2*t.next()-1)*o}while(!i||i>1);return e+r*o*Math.sqrt(-2*Math.log(i)/i)}},{}],43:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("../validation");r.default=(t,e=1)=>{n.numberValidator(e).greaterThanOrEqual(0);const r=1/e;return()=>1/Math.pow(1-t.next(),r)}},{"../validation":54}],44:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("../validation"),o=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],i=t=>o[t];r.default=(t,e=1)=>{if(n.numberValidator(e).isPositive(),e<10){const r=Math.exp(-e);return()=>{let n=r,o=0,i=t.next();for(;i>n;)i-=n,n=e*n/++o;return o}}{const r=Math.sqrt(e),n=.931+2.53*r,o=.02483*n-.059,s=1.1239+1.1328/(n-3.4),a=.9277-3.6224/(n-2);return()=>{for(var c;;){let u,p=t.next();if(p<=.86*a)return u=p/a-.43,Math.floor((2*o/(.5-Math.abs(u))+n)*u+e+.445);p>=a?u=t.next()-.5:(u=((u=p/a-.93)<0?-.5:.5)-u,p=t.next()*a);const l=.5-Math.abs(u);if(l<.013&&p>l)continue;const f=Math.floor((2*o/l+n)*u+e+.445);if(p=p*s/(o/(l*l)+n),f>=10){const t=(f+.5)*Math.log(e/f)-e-.9189385332046727+f-(1/12-(1/360-1/(1260*f*f))/(f*f))/f;if(Math.log(p*r)<=t)return f}else if(f>=0){const t=null!==(c=i(f))&&void 0!==c?c:0;if(Math.log(p)<=f*Math.log(e)-e-t)return f}}}}}},{"../validation":54}],45:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=t=>()=>t.next()>=.5},{}],46:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t("../validation");r.default=(t,e=0,r=1)=>(void 0===r&&(r=void 0===e?1:e,e=0),n.numberValidator(e).isInt(),n.numberValidator(r).isInt(),()=>Math.floor(t.next()*(r-e+1)+e))},{"../validation":54}],47:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=(t,e=0,r=1)=>()=>t.next()*(r-e)+e},{}],48:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const o=n(t("../rng"));class i extends o.default{constructor(t,e){super(),this.seed(t,e)}get name(){return"function"}next(){return this._rng()}seed(t,e){this._rng=t}clone(t,e){return new i(this._rng,e)}}r.default=i},{"../rng":53}],49:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const o=n(t("../rng"));class i extends o.default{get name(){return"default"}next(){return Math.random()}seed(t,e){}clone(){return new i}}r.default=i},{"../rng":53}],50:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const s=i(t("./random"));o(t("./random"),r),r.default=s.default,e.exports=t("./random").default},{"./random":51}],51:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Random=r.RNGFactory=r.RNG=void 0;const o=n(t("./rng"));r.RNG=o.default;const i=n(t("./rng-factory"));r.RNGFactory=i.default;const s=n(t("./distributions/uniform")),a=n(t("./distributions/uniform-int")),c=n(t("./distributions/uniform-boolean")),u=n(t("./distributions/normal")),p=n(t("./distributions/log-normal")),l=n(t("./distributions/bernoulli")),f=n(t("./distributions/binomial")),h=n(t("./distributions/geometric")),d=n(t("./distributions/poisson")),_=n(t("./distributions/exponential")),y=n(t("./distributions/irwin-hall")),v=n(t("./distributions/bates")),g=n(t("./distributions/pareto")),m=n(t("./generators/math-random"));class E{constructor(t){this._cache={},this.next=()=>this._rng.next(),this.float=(t,e)=>this.uniform(t,e)(),this.int=(t,e)=>this.uniformInt(t,e)(),this.integer=(t,e)=>this.uniformInt(t,e)(),this.bool=()=>this.uniformBoolean()(),this.boolean=()=>this.uniformBoolean()(),this.uniform=(t,e)=>this._memoize("uniform",s.default,t,e),this.uniformInt=(t,e)=>this._memoize("uniformInt",a.default,t,e),this.uniformBoolean=()=>this._memoize("uniformBoolean",c.default),this.normal=(t,e)=>u.default(this,t,e),this.logNormal=(t,e)=>p.default(this,t,e),this.bernoulli=t=>l.default(this,t),this.binomial=(t,e)=>f.default(this,t,e),this.geometric=t=>h.default(this,t),this.poisson=t=>d.default(this,t),this.exponential=t=>_.default(this,t),this.irwinHall=t=>y.default(this,t),this.bates=t=>v.default(this,t),this.pareto=t=>g.default(this,t),t&&t instanceof o.default?this.use(t):this.use(new m.default),this._cache={}}get rng(){return this._rng}clone(...t){return t.length?new E(i.default(...t)):new E(this.rng.clone())}use(...t){this._rng=i.default(...t)}patch(){if(this._patch)throw new Error("Math.random already patched");this._patch=Math.random,Math.random=this.uniform()}unpatch(){this._patch&&(Math.random=this._patch,delete this._patch)}_memoize(t,e,...r){const n=`${r.join(";")}`;let o=this._cache[t];return void 0!==o&&o.key===n||(o={key:n,distribution:e(this,...r)},this._cache[t]=o),o.distribution}}r.Random=E,r.default=new E},{"./distributions/bates":35,"./distributions/bernoulli":36,"./distributions/binomial":37,"./distributions/exponential":38,"./distributions/geometric":39,"./distributions/irwin-hall":40,"./distributions/log-normal":41,"./distributions/normal":42,"./distributions/pareto":43,"./distributions/poisson":44,"./distributions/uniform":47,"./distributions/uniform-boolean":45,"./distributions/uniform-int":46,"./generators/math-random":49,"./rng":53,"./rng-factory":52}],52:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});const o=n(t("seedrandom")),i=n(t("./rng")),s=n(t("./generators/function"));r.default=(...t)=>{const[e="default",...r]=t;switch(typeof e){case"object":if(e instanceof i.default)return e;break;case"function":return new s.default(e);case"number":case"string":return new s.default(o.default(...r))}throw new Error(`invalid RNG "${e}"`)}},{"./generators/function":48,"./rng":53,seedrandom:55}],53:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{_seed(t,e){if(t===(t||0))return t;{const e=""+t;let r=0;for(let t=0;t<e.length;++t)r^=0|e.charCodeAt(t);return r}}}},{}],54:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.NumberValidator=r.numberValidator=void 0,r.numberValidator=function(t){return new n(t)};class n{constructor(t){this.isInt=()=>{if(Number.isInteger(this.n))return this;throw new Error(`Expected number to be an integer, got ${this.n}`)},this.isPositive=()=>{if(this.n>0)return this;throw new Error(`Expected number to be positive, got ${this.n}`)},this.lessThan=t=>{if(this.n<t)return this;throw new Error(`Expected number to be less than ${t}, got ${this.n}`)},this.greaterThanOrEqual=t=>{if(this.n>=t)return this;throw new Error(`Expected number to be greater than or equal to ${t}, got ${this.n}`)},this.greaterThan=t=>{if(this.n>t)return this;throw new Error(`Expected number to be greater than ${t}, got ${this.n}`)},this.n=t}}r.NumberValidator=n},{}],55:[function(t,e){var r=t("./lib/alea"),n=t("./lib/xor128"),o=t("./lib/xorwow"),i=t("./lib/xorshift7"),s=t("./lib/xor4096"),a=t("./lib/tychei"),c=t("./seedrandom");c.alea=r,c.xor128=n,c.xorwow=o,c.xorshift7=i,c.xor4096=s,c.tychei=a,e.exports=c},{"./lib/alea":56,"./lib/tychei":57,"./lib/xor128":58,"./lib/xor4096":59,"./lib/xorshift7":60,"./lib/xorwow":61,"./seedrandom":62}],56:[function(t,e){(function(t,e,r){function n(t){var e,r=this,n=(e=4022871197,function(t){t=String(t);for(var r=0;r<t.length;r++){var n=.02519603282416938*(e+=t.charCodeAt(r));n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e)}return 2.3283064365386963e-10*(e>>>0)});r.next=function(){var t=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=t-(r.c=0|t)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(t),r.s0<0&&(r.s0+=1),r.s1-=n(t),r.s1<0&&(r.s1+=1),r.s2-=n(t),r.s2<0&&(r.s2+=1),n=null}function o(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function i(t,e){var r=new n(t),i=e&&e.state,s=r.next;return s.int32=function(){return 4294967296*r.next()|0},s.double=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.quick=s,i&&("object"==typeof i&&o(i,r),s.state=function(){return o(r,{})}),s}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.alea=i})(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],57:[function(t,e){(function(t,e,r){function n(t){var e=this,r="";e.next=function(){var t=e.b,r=e.c,n=e.d,o=e.a;return t=t<<25^t>>>7^r,r=r-n|0,n=n<<24^n>>>8^o,o=o-t|0,e.b=t=t<<20^t>>>12^r,e.c=r=r-n|0,e.d=n<<16^r>>>16^o,e.a=o-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):r+=t;for(var n=0;n<r.length+20;n++)e.b^=0|r.charCodeAt(n),e.next()}function o(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function i(t,e){var r=new n(t),i=e&&e.state,s=function(){return(r.next()>>>0)/4294967296};return s.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=r.next,s.quick=s,i&&("object"==typeof i&&o(i,r),s.state=function(){return o(r,{})}),s}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.tychei=i})(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],58:[function(t,e){(function(t,e,r){function n(t){var e=this,r="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:r+=t;for(var n=0;n<r.length+64;n++)e.x^=0|r.charCodeAt(n),e.next()}function o(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function i(t,e){var r=new n(t),i=e&&e.state,s=function(){return(r.next()>>>0)/4294967296};return s.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=r.next,s.quick=s,i&&("object"==typeof i&&o(i,r),s.state=function(){return o(r,{})}),s}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.xor128=i})(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],59:[function(t,e){(function(t,e,r){function n(t){var e=this;e.next=function(){var t,r,n=e.w,o=e.X,i=e.i;return e.w=n=n+1640531527|0,r=o[i+34&127],t=o[i=i+1&127],r^=r<<13,t^=t<<17,r^=r>>>15,t^=t>>>12,r=o[i]=r^t,e.i=i,r+(n^n>>>16)|0},function(t,e){var r,n,o,i,s,a=[],c=128;for(e===(0|e)?(n=e,e=null):(e+="\0",n=0,c=Math.max(c,e.length)),o=0,i=-32;i<c;++i)e&&(n^=e.charCodeAt((i+32)%e.length)),0===i&&(s=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,i>=0&&(s=s+1640531527|0,o=0==(r=a[127&i]^=n+s)?o+1:0);for(o>=128&&(a[127&(e&&e.length||0)]=-1),o=127,i=512;i>0;--i)n=a[o+34&127],r=a[o=o+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,a[o]=n^r;t.w=s,t.X=a,t.i=o}(e,t)}function o(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function i(t,e){null==t&&(t=+new Date);var r=new n(t),i=e&&e.state,s=function(){return(r.next()>>>0)/4294967296};return s.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=r.next,s.quick=s,i&&(i.X&&o(i,r),s.state=function(){return o(r,{})}),s}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.xor4096=i})(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],60:[function(t,e){(function(t,e,r){function n(t){var e=this;e.next=function(){var t,r,n=e.x,o=e.i;return t=n[o],r=(t^=t>>>7)^t<<24,r^=(t=n[o+1&7])^t>>>10,r^=(t=n[o+3&7])^t>>>3,r^=(t=n[o+4&7])^t<<7,t=n[o+7&7],r^=(t^=t<<13)^t<<9,n[o]=r,e.i=o+1&7,r},function(t,e){var r,n=[];if(e===(0|e))n[0]=e;else for(e=""+e,r=0;r<e.length;++r)n[7&r]=n[7&r]<<15^e.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r?n[7]=-1:n[r],t.x=n,t.i=0,r=256;r>0;--r)t.next()}(e,t)}function o(t,e){return e.x=t.x.slice(),e.i=t.i,e}function i(t,e){null==t&&(t=+new Date);var r=new n(t),i=e&&e.state,s=function(){return(r.next()>>>0)/4294967296};return s.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=r.next,s.quick=s,i&&(i.x&&o(i,r),s.state=function(){return o(r,{})}),s}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.xorshift7=i})(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],61:[function(t,e){(function(t,e,r){function n(t){var e=this,r="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:r+=t;for(var n=0;n<r.length+64;n++)e.x^=0|r.charCodeAt(n),n==r.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function o(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function i(t,e){var r=new n(t),i=e&&e.state,s=function(){return(r.next()>>>0)/4294967296};return s.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=r.next,s.quick=s,i&&("object"==typeof i&&o(i,r),s.state=function(){return o(r,{})}),s}e&&e.exports?e.exports=i:r&&r.amd?r(function(){return i}):this.xorwow=i})(0,"object"==typeof e&&e,"function"==typeof define&&define)},{}],62:[function(t,e){(function(r,n,o){var i,s=256,a=6,c="random",u=o.pow(s,a),p=o.pow(2,52),l=2*p,f=s-1;function h(t,e,r){var i=[],f=v(y((e=1==e?{entropy:!0}:e||{}).entropy?[t,m(n)]:null==t?g():t,3),i),h=new d(i),E=function(){for(var t=h.g(a),e=u,r=0;t<p;)t=(t+r)*s,e*=s,r=h.g(1);for(;t>=l;)t/=2,e/=2,r>>>=1;return(t+r)/e};return E.int32=function(){return 0|h.g(4)},E.quick=function(){return h.g(4)/4294967296},E.double=E,v(m(h.S),n),(e.pass||r||function(t,e,r,n){return n&&(n.S&&_(n,h),t.state=function(){return _(h,{})}),r?(o[c]=t,e):t})(E,f,"global"in e?e.global:this==o,e.state)}function d(t){var e,r=t.length,n=this,o=0,i=n.i=n.j=0,a=n.S=[];for(r||(t=[r++]);o<s;)a[o]=o++;for(o=0;o<s;o++)a[o]=a[i=f&i+t[o%r]+(e=a[o])],a[i]=e;(n.g=function(t){for(var e,r=0,o=n.i,i=n.j,a=n.S;t--;)e=a[o=f&o+1],r=r*s+a[f&(a[o]=a[i=f&i+e])+(a[i]=e)];return n.i=o,n.j=i,r})(s)}function _(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function y(t,e){var r,n=[],o=typeof t;if(e&&"object"==o)for(r in t)try{n.push(y(t[r],e-1))}catch(i){}return n.length?n:"string"==o?t:t+"\0"}function v(t,e){for(var r,n=t+"",o=0;o<n.length;)e[f&o]=f&(r^=19*e[f&o])+n.charCodeAt(o++);return m(e)}function g(){try{var t;return i&&(t=i.randomBytes)?t=t(s):(t=new Uint8Array(s),(r.crypto||r.msCrypto).getRandomValues(t)),m(t)}catch(a){var e=r.navigator,o=e&&e.plugins;return[+new Date,r,o,r.screen,m(n)]}}function m(t){return String.fromCharCode.apply(0,t)}if(v(o.random(),n),"object"==typeof e&&e.exports){e.exports=h;try{i=t("crypto")}catch(E){}}else"function"==typeof define&&define.amd?define(function(){return h}):o["seed"+c]=h})("undefined"!=typeof self?self:this,[],Math)},{crypto:1}],GachaShipListItem:[function(t,e,r){"use strict";cc._RF.push(e,"fa4b4YQA49NToQfa+oNPsZa","GachaShipListItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.GachaShipListItem=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./RandomItem").RandomItem);r.GachaShipListItem=i,cc._RF.pop()},{"./RandomItem":"RandomItem"}],GameDataInvalidDataTypeError:[function(t,e,r){"use strict";cc._RF.push(e,"cedcaZmrxNOo5nOooW6TwIM","GameDataInvalidDataTypeError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.GameDataInvalidDataTypeError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.GAMED_DATA_INVALID_DATA_TYPE,"GAMED_DATA_INVALID_DATA_TYPE")||this}return o(e,t),e}(s.default);r.GameDataInvalidDataTypeError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],GameDataItemTypes:[function(t,e,r){"use strict";cc._RF.push(e,"3c54d4YAD1P46DjRHc8vT9V","GameDataItemTypes"),Object.defineProperty(r,"__esModule",{value:!0}),r.GameDataItemTypes=void 0,r.GameDataItemTypes={AVATAR:"avatars",CONFIG:"configs",RESOURCE_TYPE:"resourceTypes",SHIP:"ships",SHIP_TYPE:"shipTypesData",ISLAND:"islands",EQUIPMENT_TYPE:"equipmentTypes",EQUIPMENT:"equipments",SHOP:"shops",ITEM:"items",MONSTER:"monsters",PORT:"ports"},cc._RF.pop()},{}],GameData:[function(t,e,r){"use strict";cc._RF.push(e,"dcce2N/A2dGlblxkOqNaYiz","GameData"),Object.defineProperty(r,"__esModule",{value:!0}),r.GameData=void 0;r.GameData=function(){},cc._RF.pop()},{}],GameManager:[function(t,e,r){"use strict";cc._RF.push(e,"f41b1yQkzlG9a8xMg92vtC3","GameManager");var n=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.Data=void 0;var o=t("./../../pirate-king-nft-core/pk/dataLoader/DataLoader"),i=cc._decorator,s=i.ccclass,a=(i.property,t("seedrandom"));r.Data=function(){};var c=function(){function t(){this.data=null,this.client=null,this.user=null,this.island=null,this.atlas=null,this.notify=null,this.resultSpinItem=null,this.isDelay=!1,this.spinShop=null}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rnd",{get:function(){return null!=this._rnd&&null!=this._rnd||(this._rnd=a(this.data.code)),this._rnd},set:function(t){this._rnd=t},enumerable:!1,configurable:!0}),t.prototype.getEquipType=function(t){var e=o.dataLoader.getEquipmentData(t);return null!=e?e.equipmentTypeDataId:0},t.prototype.getSpriteById=function(t){return this.atlas.img.getSpriteFrame("i-"+t)},t._instance=null,e=n([s],t)}();r.default=c,cc._RF.pop()},{"./../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader",seedrandom:55}],GameScene:[function(t,e,r){"use strict";cc._RF.push(e,"a1733KhUlpAK44bS0tnfh4j","GameScene");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var p=t("./../../../pirate-king-nft-core/pk/entity/PKConstants"),l=t("./../../Common/Config"),f=c(t("./../../Common/Constants")),h=u(t("../../Common/AnimPopup")),d=t("../../Common/Toast"),_=u(t("../../Manager/GameManager")),y=u(t("./Bullet")),v=u(t("./ShipCell")),g=u(t("./Target")),m=t("./../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),E=t("../../Common/CustomEventListener"),O=cc._decorator,b=O.ccclass,R=O.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rewardLb=null,e.spinLb=null,e.iconBullet=null,e.priceReload=null,e.timeCd=null,e.reloadBtn=null,e.prefab=null,e.parent=null,e.canon=null,e.finish=null,e.pageView=null,e.prefabView=null,e.overlay=null,e.velocityAngel=20,e.targets=[],e.spawnPos=cc.v2(0,-308),e.target=null,e.spin=5,e.listShip=[],e.listShipData=[],e.curPage=0,e.user=null,e.curCannon=null,e.cdFunc=null,e}return o(e,t),e.prototype.onEnable=function(){this.loadUI(),E.CustomEventListener.on(f.default.EventName.RELOAD_SHIP,this.reloadShip,this)},e.prototype.onDisable=function(){E.CustomEventListener.off(f.default.EventName.RELOAD_SHIP,this.reloadShip,this)},e.prototype.onLoad=function(){var t=this;this.user=_.default.instance.user,this.targets=this.parent.getComponentsInChildren(g.default),this.canon.setEventListener(function(){t.shot(t.target)})},e.prototype.reloadShip=function(){for(var t=0;t<this.listShip.length;t++)this.listShip[t].setData(this.listShipData[t],t);this.checkReloadShip()},e.prototype.checkReloadShip=function(){for(var t=m.dataLoader.getShipConfig(),e=0,r=0;r<this.listShipData.length;r++)(Date.now()-this.listShipData[r].bullet.lastRecoveryTime)/1e3>t.reloadCountdown&&e++;this.reloadBtn.interactable=e>0,this.priceReload.string=(t.reloadGoldRequirePerShip*e).toString()},e.prototype.loadUI=function(){var t=this;this.listShip=[],this.pageView.removeAllPages(),this.targets.map(function(t){return t.skeleton.setAnimation(0,"idle",!0)}),this.overlay.active=!1,this.checkReloadShip(),this.listShipData=this.user.ships.filter(function(t){return t.durability>0});for(var e=0;e<this.listShipData.length;e++){var r=this.listShipData[e],n=cc.instantiate(t.prefabView.data),o=n.getComponent(v.default);o.setData(r,e),o.callback=function(e){t.curPage=e,t.loadCanon()},t.listShip.push(o),t.pageView.addPage(n)}this.pageView.getPages().length>0&&(this.curPage>0?this.pageView.scrollToPage(this.curPage,1):this.onPageEvent(this.pageView,cc.PageView.EventType.PAGE_TURNING))},e.prototype.onPageEvent=function(t,e){e===cc.PageView.EventType.PAGE_TURNING&&(this.curPage=t.getCurrentPageIndex(),this.loadCanon())},e.prototype.loadCanon=function(){if(null!=this.listShipData[this.curPage]&&null!=this.listShipData[this.curPage]){var t=m.dataLoader.getShipConfig();this.spinLb.string=this.listShipData[this.curPage].bullet.quantity.toString(),null!=this.listShipData[this.curPage].bullet.lastRecoveryTime&&null!=this.listShipData[this.curPage].bullet.lastRecoveryTime||(this.listShipData[this.curPage].bullet.lastRecoveryTime=0);var e=(Date.now()-this.listShipData[this.curPage].bullet.lastRecoveryTime)/1e3;if(this.timeCd.node.active=e<t.reloadCountdown,e<t.reloadCountdown&&this.countTime(t.reloadCountdown-e),null!=this.listShip&&this.listShip.length>0)for(var r=0;r<this.listShip.length;r++){var n=this.listShip[r];n.selected.active=n.data.uid==this.listShipData[this.curPage].uid}var o=this.listShipData[this.curPage].equipments.find(function(t){return _.default.instance.getEquipType(t.dataId)==f.EquipType.Cannon}),i=null!=o?o.dataId:p.PKConstants.Default.DefaultCannonDataId;this.curCannon=l.Config.cannon.find(function(t){return t.dataId==i}),this.canon.setSkin(this.curCannon.model),this.iconBullet.spriteFrame=_.default.instance.getSpriteById(this.curCannon.bullet)}},e.prototype.onNext=function(){this.curPage=this.pageView.getCurrentPageIndex(),this.curPage++,this.curPage==this.listShipData.length-1?this.loadCanon():this.pageView.scrollToPage(this.curPage,1)},e.prototype.onPrevious=function(){this.curPage--,this.curPage<0&&(this.curPage=0),this.curPage==this.listShipData.length-2?this.loadCanon():this.pageView.scrollToPage(this.curPage,1)},e.prototype.onReloadBullet=function(){_.default.instance.client.reloadShip()},e.prototype.onTarget=function(t){var e=this;if(0!=this.listShipData[this.curPage].bullet.quantity){_.default.instance.client.pveStart(this.listShipData[this.curPage].uid,function(t){e.battleData=t}),this.overlay.active=!0;var r=t.currentTarget.getComponent(g.default);this.target=r;var n=r.node.getPosition(),o=this.getAngle(this.canon.node.getPosition(),cc.v2(n.x,n.y+500))-90,i=Math.abs(o-this.canon.node.angle);cc.tween(this.canon.node).to(i/this.velocityAngel,{angle:o}).call(function(){e.canon.setAnimation(0,"attack",!1)}).start()}else d.Toast.instance.showText("No spin!")},e.prototype.shot=function(t){var e=this,r=cc.instantiate(this.prefab.data);r.setParent(this.parent),r.setPosition(this.canon.node.getPosition()),r.getComponent(y.default).create(t,e.curCannon.bullet,function(){e.scheduleOnce(function(){_.default.instance.client.pveFinish(e.battleData.data.uid,function(t){e.rewardLb.string="x"+t.data.goldReward,e.finish.showPopup(),e.overlay.active=!1})},1)})},e.prototype.getDistance=function(t,e){var r=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(r.x*r.x+r.y*r.y)},e.prototype.getAngle=function(t,e){var r=e.x-t.x,n=e.y-t.y;return-cc.v2(r,n).signAngle(cc.v2(1,0))/Math.PI*180},e.prototype.onClose=function(){null!=this.cdFunc&&clearInterval(this.cdFunc),this.targets.map(function(t){return t.skeleton.setAnimation(0,"idle",!0)}),this.loadCanon(),this.finish.hidePopup()},e.prototype.countTime=function(t){var e=this,r=t;null!=this.cdFunc&&clearInterval(this.cdFunc),this.timeCd.node.active=!0,this.cdFunc=setInterval(function(){var t=Math.floor(r%86400/3600),n=Math.floor(r%3600/60),o="";o+=t>9?t:"0"+t,o+=":",o+=n>9?n:"0"+n,e.timeCd.string=o,r<0&&(e.timeCd.node.active=!1,clearInterval(e.cdFunc),e.loadCanon())},1e3)},a([R(cc.Label)],e.prototype,"rewardLb",void 0),a([R(cc.Label)],e.prototype,"spinLb",void 0),a([R(cc.Sprite)],e.prototype,"iconBullet",void 0),a([R(cc.Label)],e.prototype,"priceReload",void 0),a([R(cc.Label)],e.prototype,"timeCd",void 0),a([R(cc.Button)],e.prototype,"reloadBtn",void 0),a([R(cc.Prefab)],e.prototype,"prefab",void 0),a([R(cc.Node)],e.prototype,"parent",void 0),a([R(sp.Skeleton)],e.prototype,"canon",void 0),a([R(h.default)],e.prototype,"finish",void 0),a([R(cc.PageView)],e.prototype,"pageView",void 0),a([R(cc.Prefab)],e.prototype,"prefabView",void 0),a([R(cc.Node)],e.prototype,"overlay",void 0),a([b],e)}(cc.Component);r.default=P,cc._RF.pop()},{"../../Common/AnimPopup":"AnimPopup","../../Common/CustomEventListener":"CustomEventListener","../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager","./../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","./../../../pirate-king-nft-core/pk/entity/PKConstants":"PKConstants","./../../Common/Config":"Config","./../../Common/Constants":"Constants","./Bullet":"Bullet","./ShipCell":"ShipCell","./Target":"Target"}],HexAddressValidate:[function(t,e,r){"use strict";cc._RF.push(e,"dc491HdYC9ORJdzUzWkJNvD","HexAddressValidate"),Object.defineProperty(r,"__esModule",{value:!0}),r.md5Validate=r.transactionUidValidate=r.walletUidValidate=r.WALLET_UID_REGEX=void 0,r.WALLET_UID_REGEX=/^0x([A-Fa-f0-9]{40})$/;var n=/^0x([A-Fa-f0-9]{64})$/,o=/^([A-Fa-f0-9]{32})$/;r.walletUidValidate=function(t){return t.match(r.WALLET_UID_REGEX)},r.transactionUidValidate=function(t){return t.match(n)},r.md5Validate=function(t){return t.match(o)},cc._RF.pop()},{}],HomeScene:[function(t,e,r){"use strict";cc._RF.push(e,"4ce5aGR1pZDYpc2IEvIQXx2","HomeScene");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Common/AnimPopup")),c=s(t("../../Common/Constants")),u=t("../../Common/CustomEventListener"),p=t("../../Common/Toast"),l=s(t("../../Manager/GameManager")),f=cc._decorator,h=f.ccclass,d=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameScene=null,e.botPanel=null,e.userName=null,e.goldLb=null,e.tokenLb=null,e.avatar=null,e.changeInfoNode=null,e}return o(e,t),e.prototype.onLoad=function(){this.loadUI()},e.prototype.onEnable=function(){u.CustomEventListener.on(c.default.EventName.UPDATE_RESOURCE,this.updateResource,this),u.CustomEventListener.on(c.default.EventName.UPDATE_USERINFO,this.updateUserInfo,this)},e.prototype.onDisable=function(){u.CustomEventListener.off(c.default.EventName.UPDATE_RESOURCE,this.updateResource,this),u.CustomEventListener.on(c.default.EventName.UPDATE_USERINFO,this.updateUserInfo,this)},e.prototype.updateResource=function(){var t=l.default.instance.user;this.goldLb.string=t.gold.quantity.toString(),null!=t.resources[c.default.GOLD_ID]&&null!=t.resources[c.default.GOLD_ID]&&(this.tokenLb.string=t.resources[c.default.GOLD_ID].quantity.toString())},e.prototype.updateUserInfo=function(){var t=l.default.instance.user;this.userName.string=t.username;var e=this,r="Avatar/"+t.avatarId;cc.loader.loadRes(r,cc.SpriteFrame,function(t,r){e.avatar.spriteFrame=r}),this.changeInfoNode.active=!1},e.prototype.loadUI=function(){var t=l.default.instance.user;null==t.username||null==t.username||""==t.username?this.changeInfoNode.active=!0:(this.changeInfoNode.active=!1,this.updateUserInfo()),l.default.instance.avataID=t.avatarId,this.updateResource()},e.prototype.onPVE=function(){console.log("======> onPVE"),l.default.instance.user.ships.length>0?(this.botPanel.hideBottom(),this.gameScene.showFadePopup()):p.Toast.instance.showText("No Ship!")},e.prototype.onBattleShip=function(){console.log("======> onBattleShip")},e.prototype.onMake=function(){console.log("======> onMake")},e.prototype.onItems=function(){console.log("======> onItems")},e.prototype.onShop=function(){console.log("======> onShop")},e.prototype.onWallet=function(){console.log("======> onWallet")},e.prototype.onWarBoss=function(){console.log("======> onWarBoss")},e.prototype.onIsLand=function(){console.log("======> onIsLand")},i([d(a.default)],e.prototype,"gameScene",void 0),i([d(a.default)],e.prototype,"botPanel",void 0),i([d(cc.Label)],e.prototype,"userName",void 0),i([d(cc.Label)],e.prototype,"goldLb",void 0),i([d(cc.Label)],e.prototype,"tokenLb",void 0),i([d(cc.Sprite)],e.prototype,"avatar",void 0),i([d(cc.Node)],e.prototype,"changeInfoNode",void 0),i([h],e)}(cc.Component);r.default=_,cc._RF.pop()},{"../../Common/AnimPopup":"AnimPopup","../../Common/Constants":"Constants","../../Common/CustomEventListener":"CustomEventListener","../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager"}],InvalidActionError:[function(t,e,r){"use strict";cc._RF.push(e,"6845fnIE39E+YAH9L/3dE33","InvalidActionError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidActionError=void 0;var s=i(t("./BaseError")),a=t("./ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.INVALID_ACTION,"Invalid action")||this}return o(e,t),e}(s.default);r.InvalidActionError=c,cc._RF.pop()},{"./BaseError":"BaseError","./ErrorCode":"ErrorCode"}],InvalidNumberValueError:[function(t,e,r){"use strict";cc._RF.push(e,"bff26skt1lFyYHnMQBZssP6","InvalidNumberValueError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidNumberValueError=void 0;var s=t("./ErrorCode"),a=function(t){function e(){return t.call(this,s.ErrorCode.INVALID_NUMBER_VALUE,"INVALID_NUMBER_VALUE")||this}return o(e,t),e}(i(t("./BaseError")).default);r.InvalidNumberValueError=a,cc._RF.pop()},{"./BaseError":"BaseError","./ErrorCode":"ErrorCode"}],InvalidSignatureError:[function(t,e,r){"use strict";cc._RF.push(e,"d3798/+Z/BIwZVuL3j/KO/f","InvalidSignatureError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidSignatureError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.INVALID_SIGNATURE_HASH,"Invalid signature")||this}return o(e,t),e}(s.default);r.InvalidSignatureError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],InvalidTokenError:[function(t,e,r){"use strict";cc._RF.push(e,"98446RJ4TFAS5tWBKRM/JXR","InvalidTokenError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidTokenError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.INVALID_TOKEN,"Invalid token")||this}return o(e,t),e}(s.default);r.InvalidTokenError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],InvalidTransactionUidError:[function(t,e,r){"use strict";cc._RF.push(e,"41c5aUjNQ1OEIKpIQ6kJ7ne","InvalidTransactionUidError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidTransactionUidError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.INVALID_TRANSACTION_HASH)||this}return o(e,t),e}(s.default);r.InvalidTransactionUidError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],InvalidWalletUidError:[function(t,e,r){"use strict";cc._RF.push(e,"29800uf2SREs6R44LrC44Px","InvalidWalletUidError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.InvalidWalletUidError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.INVALID_WALLET_UID,"Invalid wallet id")||this}return o(e,t),e}(s.default);r.InvalidWalletUidError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Island.state":[function(t,e,r){"use strict";cc._RF.push(e,"7e4a03tCpRMdae2qWh0j3BF","Island.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.IslandState=r.IslandPathsState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),i([s.type("number")],e.prototype,"castleLevel",void 0),i([s.type("number")],e.prototype,"petLevel",void 0),i([s.type("number")],e.prototype,"treeLevel",void 0),i([s.type("number")],e.prototype,"shipLevel",void 0),e}(s.Schema);r.IslandPathsState=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),i([s.type("number")],e.prototype,"level",void 0),i([s.type(a)],e.prototype,"paths",void 0),e}(s.Schema);r.IslandState=c,cc._RF.pop()},{"@colyseus/schema":3}],IslandData:[function(t,e,r){"use strict";cc._RF.push(e,"5b865lCBntOQLES38o1ZLWL","IslandData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.IslandData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.IslandData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],IslandItem:[function(t,e,r){"use strict";cc._RF.push(e,"0888bNMVAxPp42GBq0uSmh0","IslandItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.point=null,e.model=null,e.icon=null,e.price=null,e.box=null,e.btn=null,e.sBox=[],e.sBtn=[],e._isShow=!1,e}return o(e,t),e.prototype.setData=function(t,e,r,n,o){this._isShow=r,this.type=n,this.price.string=e.toString();var i=a.default.instance.atlas;this.icon.spriteFrame=i.icon.getSpriteFrame("icon-"+t),r?(this.box.spriteFrame=this.sBox[1],this.btn.spriteFrame=this.sBtn[1],this.price.string="",this.model.spriteFrame=a.default.instance.getSpriteById(t),this.model.node.setPosition(cc.v2(o.x,o.y)),this.model.node.active=!0,this.point.node.active=!1):(this.box.spriteFrame=this.sBox[0],this.btn.spriteFrame=this.sBtn[0],this.point.node.active=!0,this.model.node.active=!1)},e.prototype.onBuy=function(){var t=this;this._isShow||(a.default.instance.island.animUp.node.active=!1,a.default.instance.island.animUp.node.position=this.model.node.position,a.default.instance.island.animUp.node.active=!0,a.default.instance.island.animUp.setAnimation(0,"idle",!0),this.scheduleOnce(function(){a.default.instance.client.updateIslandPath(t.type),a.default.instance.island.animUp.node.active=!1},2))},i([p(cc.Sprite)],e.prototype,"point",void 0),i([p(cc.Sprite)],e.prototype,"model",void 0),i([p(cc.Sprite)],e.prototype,"icon",void 0),i([p(cc.Label)],e.prototype,"price",void 0),i([p(cc.Sprite)],e.prototype,"box",void 0),i([p(cc.Sprite)],e.prototype,"btn",void 0),i([p(cc.SpriteFrame)],e.prototype,"sBox",void 0),i([p(cc.SpriteFrame)],e.prototype,"sBtn",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../../Manager/GameManager":"GameManager"}],IslandLevelConfigData:[function(t,e,r){"use strict";cc._RF.push(e,"56e0chN9OJLx4ABBbupOAnq","IslandLevelConfigData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.IslandLevelConfigData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.IslandLevelConfigData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],IslandPathData:[function(t,e,r){"use strict";cc._RF.push(e,"5d482LA7C5MbLpjUYzdlILr","IslandPathData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.IslandPathKey=r.IslandPathData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.IslandPathData=i,r.IslandPathKey=["castle","pet","ship","tree"],cc._RF.pop()},{"./BaseData":"BaseData"}],IslandUI:[function(t,e,r){"use strict";cc._RF.push(e,"279fehysnRL9pd3h2fFOSal","IslandUI");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),c=s(t("../../Common/AnimPopup")),u=t("../../Common/Config"),p=s(t("../../Common/Constants")),l=t("../../Common/CustomEventListener"),f=t("../../Common/Toast"),h=s(t("../../Manager/GameManager")),d=s(t("./IslandItem")),_=cc._decorator,y=_.ccclass,v=_.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.avatar=null,e.userName=null,e.levelIsland=null,e.levelUpPopup=null,e.ship=null,e.pet=null,e.castle=null,e.tree=null,e.curLvUp=null,e.curIsland=null,e.nextIsland=null,e.curLevel=null,e.nextLevel=null,e.priceLevelUp=null,e.btnLevelUp=null,e.wheelPopup=null,e.animUp=null,e}return o(e,t),e.prototype.onLoad=function(){h.default.instance.island=this},e.prototype.onEnable=function(){this.loadUI(),l.CustomEventListener.on(p.default.EventName.UPDATE_ISLAND,this.onUpdateIsland,this),l.CustomEventListener.on(p.default.EventName.UPDATE_ISLAND_PATH,this.loadUI,this)},e.prototype.onDisable=function(){l.CustomEventListener.off(p.default.EventName.UPDATE_ISLAND,this.onUpdateIsland,this),l.CustomEventListener.off(p.default.EventName.UPDATE_ISLAND_PATH,this.loadUI,this)},e.prototype.onUpdateIsland=function(){h.default.instance.notify.showText("CONGRATULATIONS,\nYOU HAVE PROMOTED\nTHE ISLAND TO LEVEL "+h.default.instance.user.island.level),this.loadUI()},e.prototype.loadUI=function(){var t=this,e=h.default.instance.user,r=a.dataLoader.getPvpConfig(),n=r.islandLevelTable[e.island.level];cc.resources.load("bg/island_bg_"+e.island.level,cc.SpriteFrame,function(e,r){t.bg.spriteFrame=r}),this.btnLevelUp.interactable=this.isLevelUp(),this.levelIsland.string="ISLAND LEVEL "+e.island.level,this.ship.setData(n.paths.ship.dataId,n.paths.ship.upgradePrice,e.island.paths.shipLevel==e.island.level,"ship",u.Config.posIsland[e.island.level-1].ship),this.pet.setData(n.paths.pet.dataId,n.paths.pet.upgradePrice,e.island.paths.petLevel==e.island.level,"pet",u.Config.posIsland[e.island.level-1].pet),this.castle.setData(n.paths.castle.dataId,n.paths.castle.upgradePrice,e.island.paths.castleLevel==e.island.level,"castle",u.Config.posIsland[e.island.level-1].castle),this.tree.setData(n.paths.tree.dataId,n.paths.tree.upgradePrice,e.island.paths.treeLevel==e.island.level,"tree",u.Config.posIsland[e.island.level-1].tree);var o=0;e.island.paths.shipLevel==e.island.level&&o++,e.island.paths.petLevel==e.island.level&&o++,e.island.paths.castleLevel==e.island.level&&o++,e.island.paths.treeLevel==e.island.level&&o++,this.curLvUp.string=o+"/4",this.curIsland.spriteFrame=h.default.instance.getSpriteById(n.dataId),e.island.level<p.default.LEVEL_MAX_ISLAND?(this.curLevel.string="LEVEL "+e.island.level,this.nextLevel.string="LEVEL "+(e.island.level+1),this.nextIsland.spriteFrame=h.default.instance.getSpriteById(r.islandLevelTable[e.island.level+1].dataId),this.priceLevelUp.string=r.islandLevelTable[e.island.level+1].upgradePrice):(this.curLevel.string="MAX",this.nextLevel.string="MAX",this.priceLevelUp.string="",this.nextIsland.spriteFrame=h.default.instance.getSpriteById(n.dataId)),this.userName.string=e.username+" - Level "+e.island.level;var i="Avatar/"+e.avatarId;cc.loader.loadRes(i,cc.SpriteFrame,function(e,r){t.avatar.spriteFrame=r})},e.prototype.isLevelUp=function(){var t=h.default.instance.user,e=!0;return t.island.paths.shipLevel!=t.island.level&&(e=!1),t.island.paths.petLevel!=t.island.level&&(e=!1),t.island.paths.castleLevel!=t.island.level&&(e=!1),t.island.paths.treeLevel!=t.island.level&&(e=!1),5==t.island.level&&(e=!1),e},e.prototype.onWheel=function(){this.wheelPopup.showPopup(),console.log("onWheel")},e.prototype.onTreasure=function(){console.log("onTreasure"),f.Toast.instance.showText("Coming soon!")},e.prototype.onBoat=function(){console.log("onBoat"),f.Toast.instance.showText("Coming soon!")},e.prototype.onBattleResult=function(){console.log("onBattleResult"),f.Toast.instance.showText("Coming soon!")},e.prototype.onLevelUp=function(){this.levelUpPopup.hidePopup(),h.default.instance.client.updateIsland()},i([v(cc.Sprite)],e.prototype,"bg",void 0),i([v(cc.Sprite)],e.prototype,"avatar",void 0),i([v(cc.Label)],e.prototype,"userName",void 0),i([v(cc.Label)],e.prototype,"levelIsland",void 0),i([v(c.default)],e.prototype,"levelUpPopup",void 0),i([v(d.default)],e.prototype,"ship",void 0),i([v(d.default)],e.prototype,"pet",void 0),i([v(d.default)],e.prototype,"castle",void 0),i([v(d.default)],e.prototype,"tree",void 0),i([v(cc.Label)],e.prototype,"curLvUp",void 0),i([v(cc.Sprite)],e.prototype,"curIsland",void 0),i([v(cc.Sprite)],e.prototype,"nextIsland",void 0),i([v(cc.Label)],e.prototype,"curLevel",void 0),i([v(cc.Label)],e.prototype,"nextLevel",void 0),i([v(cc.Label)],e.prototype,"priceLevelUp",void 0),i([v(cc.Button)],e.prototype,"btnLevelUp",void 0),i([v(c.default)],e.prototype,"wheelPopup",void 0),i([v(sp.Skeleton)],e.prototype,"animUp",void 0),i([y],e)}(cc.Component);r.default=g,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../Common/AnimPopup":"AnimPopup","../../Common/Config":"Config","../../Common/Constants":"Constants","../../Common/CustomEventListener":"CustomEventListener","../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager","./IslandItem":"IslandItem"}],"Item.state":[function(t,e,r){"use strict";cc._RF.push(e,"cdd77e74ONG25VFwHwahUEd","Item.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ItemState=void 0;var a=t("@colyseus/schema"),c=t("./Resource.state"),u=s(t("moment")),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createdAt=u.default().valueOf(),e.boughtAt=u.default().valueOf(),e}return o(e,t),i([a.type("number")],e.prototype,"uid",void 0),i([a.type("string")],e.prototype,"characterWalletUid",void 0),i([a.type("number")],e.prototype,"createdAt",void 0),i([a.type("number")],e.prototype,"boughtAt",void 0),e}(c.ResourceState);r.ItemState=p,cc._RF.pop()},{"./Resource.state":"Resource.state","@colyseus/schema":3,moment:34}],ItemData:[function(t,e,r){"use strict";cc._RF.push(e,"dd49bjHqAxBVKWHibDkhiWa","ItemData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ItemData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.ItemData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],ItemViewAnim:[function(t,e,r){"use strict";cc._RF.push(e,"6f0856VQu9Ku4eL7LCW7HvR","ItemViewAnim");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.quantity=null,e.img=null,e}return o(e,t),e.prototype.setData=function(t,e){void 0===e&&(e=0),this.quantity.node.active=0!=e,this.quantity.string="+"+e,this.img.spriteFrame=a.default.instance.getSpriteById(t),this.getComponent(cc.Animation).play("ItemView")},e.prototype.onFinish=function(){this.node.parent.destroy()},i([p(cc.Label)],e.prototype,"quantity",void 0),i([p(cc.Sprite)],e.prototype,"img",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../Manager/GameManager":"GameManager"}],LoadingScene:[function(t,e,r){"use strict";cc._RF.push(e,"d09d5RW+HZIWYBOBHvnEA35","LoadingScene");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("./../../Common/Toast"),c=s(t("../../Common/Constants")),u=t("../../Common/Utils"),p=s(t("../../Manager/GameManager")),l=cc._decorator,f=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.waitLabel=null,e.loadingProgressBar=null,e.dieuKhoan=null,e._isFirstLoad=!0,e._isFetched=!1,e._isLoaded=!1,e}return o(e,t),e.prototype.onLoad=function(){var t=this;cc.director.preloadScene(c.default.HOME_SCENE,function(e,r){t.loadingProgressBar.node.active=!0;var n=t.loadingProgressBar.progress,o=e/r;t.waitLabel.string="Loading Game: "+Math.round(100*o)+"%",n<o&&(t.loadingProgressBar.progress=o)},function(e){e?u.Utils.log("onload > preloadScene: "+JSON.stringify(e)):(t._isLoaded=!0,t.dieuKhoan.active=!0)})},e.prototype.ClickOK=function(){null==p.default.instance.user||null==p.default.instance.user?a.Toast.instance.showText("please login again!"):cc.director.loadScene(c.default.HOME_SCENE)},i([h(cc.Label)],e.prototype,"waitLabel",void 0),i([h(cc.ProgressBar)],e.prototype,"loadingProgressBar",void 0),i([h(cc.Node)],e.prototype,"dieuKhoan",void 0),i([f],e)}(cc.Component);r.default=d,cc._RF.pop()},{"../../Common/Constants":"Constants","../../Common/Utils":"Utils","../../Manager/GameManager":"GameManager","./../../Common/Toast":"Toast"}],LoginCodeExpiredError:[function(t,e,r){"use strict";cc._RF.push(e,"c275b5O9H5GjLJ/vpi6Od8/","LoginCodeExpiredError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.LoginCodeExpiredError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.LOGIN_CODE_EXPIRED,"Login code expired")||this}return o(e,t),e}(s.default);r.LoginCodeExpiredError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],LoginOptionData:[function(t,e,r){"use strict";cc._RF.push(e,"6f0c4UMQQtBmqz6HS3/SzBD","LoginOptionData"),Object.defineProperty(r,"__esModule",{value:!0}),r.LoginOptionData=void 0;var n=t("../../utils/HexAddressValidate"),o=t("../errors/InvalidWalletUidError"),i=function(){function t(){}return t.prototype.validate=function(){if(this.format(),!n.walletUidValidate(this.walletUid))throw new o.InvalidWalletUidError},t.prototype.format=function(){this.walletUid=(this.walletUid+"").toLowerCase(),this.token=this.token+""},t}();r.LoginOptionData=i,cc._RF.pop()},{"../../utils/HexAddressValidate":"HexAddressValidate","../errors/InvalidWalletUidError":"InvalidWalletUidError"}],MakeBoatUI:[function(t,e,r){"use strict";cc._RF.push(e,"74af7kwxe9KNakkpMecZPq7","MakeBoatUI");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),c=s(t("../../Common/Constants")),u=t("../../Common/CustomEventListener"),p=t("../../Common/Toast"),l=s(t("../../Manager/GameManager")),f=s(t("./BoatCell")),h=cc._decorator,d=h.ccclass,_=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.goldLb=null,e.group=null,e.btnSpin=null,e.btnClose=null,e.prefab=null,e.avatar=null,e.time=.3,e.startPos=-150,e.offset=50,e.itemSize=300,e.totalShip=15,e.config=null,e.result=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this.getComponent(cc.Layout);null!=t&&(this.offset=t.spacingX),this.startPos=this.group.position.x},e.prototype.onEnable=function(){this.loadUI(),u.CustomEventListener.on(c.default.EventName.UPDATE_SPIN,this.updateSpin,this)},e.prototype.onDisable=function(){u.CustomEventListener.off(c.default.EventName.UPDATE_SPIN,this.updateSpin,this)},e.prototype.updateSpin=function(){this.btnSpin.interactable=!0,this.btnClose.interactable=!0},e.prototype.loadUI=function(){null==this.config&&(this.config=a.dataLoader.getShipConfig()),this.goldLb.string=this.config.gachaPrice.toString(),this.group.destroyAllChildren(),this.group.setPosition(this.startPos,0),this.totalShip=15+Math.floor(10*Math.random());var t=[];this.config.gachaShipList.map(function(e){return e.shipList.map(function(e){return t.push(e)})}),console.log("\ud83d\ude80 ~ file: MakeBoatUI.ts ~ line 69 ~ MakeBoatUI ~ loadUI ~ shipList",t);for(var e=0,r=0;r<this.totalShip;r++){var n=cc.instantiate(this.prefab.data);n.setParent(this.group);var o=n.getComponent(f.default);0!=r?o.setData(t[e].dataId):o.setData(9),++e==t.length&&(e=0),r==this.totalShip-1&&(this.result=o)}},e.prototype.gacha=function(){var t=this;l.default.instance.user.gold.quantity<this.config.gachaPrice?p.Toast.instance.showText("Not Enough Gold!"):(this.btnSpin.interactable=!1,this.btnClose.interactable=!1,l.default.instance.client.gacha(function(e){var r=a.dataLoader.getShipData(e.data.newShips[0].dataId);if(null==r)return t.btnSpin.interactable=!0,void(t.btnClose.interactable=!0);t.group.setPosition(t.startPos,0),t.result.setData(e.data.newShips[0].dataId);var n=t.itemSize*t.totalShip+t.offset*(t.totalShip-1)+t.startPos;cc.tween(t.group).to(t.totalShip*t.time,{position:cc.v3(-n,0,0)},{easing:"quadOut"}).call(function(){t.btnSpin.interactable=!0,t.btnClose.interactable=!0,t.avatar.spriteFrame=l.default.instance.getSpriteById(r.dataId),t.avatar.node.parent.active=!0,p.Toast.instance.showText("Congratulations on get the "+r.name)}).start()}))},e.prototype.hideFinish=function(){this.avatar.node.parent.active=!1},i([_(cc.Label)],e.prototype,"goldLb",void 0),i([_(cc.Node)],e.prototype,"group",void 0),i([_(cc.Button)],e.prototype,"btnSpin",void 0),i([_(cc.Button)],e.prototype,"btnClose",void 0),i([_(cc.Prefab)],e.prototype,"prefab",void 0),i([_(cc.Sprite)],e.prototype,"avatar",void 0),i([d],e)}(cc.Component);r.default=y,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../Common/Constants":"Constants","../../Common/CustomEventListener":"CustomEventListener","../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager","./BoatCell":"BoatCell"}],"Market.Cancel.MarketItemNotFound.Error":[function(t,e,r){"use strict";cc._RF.push(e,"897cdrcu5xOaY7TR8E/LCHM","Market.Cancel.MarketItemNotFound.Error");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketCancelMarketItemNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_CANCEL_MARKET_ITEM_NOT_FOUND)||this}return o(e,t),e}(s.default);r.MarketCancelMarketItemNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Market.InvalidParams.Error":[function(t,e,r){"use strict";cc._RF.push(e,"c359eGfwkNKsqum2eV1gd6l","Market.InvalidParams.Error");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_INVALID_PARAM)||this}return o(e,t),e}(s.default);r.MarketInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Market.Sell.NotEnoughMarketTicket.Error":[function(t,e,r){"use strict";cc._RF.push(e,"1d5d6YbWPhOnooE7AaRG9ho","Market.Sell.NotEnoughMarketTicket.Error");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketSellNotEnoughMarketTicketError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_SELL_NOT_ENOUGH_MARKET_TICKET)||this}return o(e,t),e}(s.default);r.MarketSellNotEnoughMarketTicketError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Market.Sell.NotOwnShip.Error":[function(t,e,r){"use strict";cc._RF.push(e,"3d7517mJ7NHYIk4wh66b9BS","Market.Sell.NotOwnShip.Error");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketSellNotOwnShipError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_SELL_NOT_OWN_SHIP)||this}return o(e,t),e}(s.default);r.MarketSellNotOwnShipError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Market.Sell.PortRequired.Error":[function(t,e,r){"use strict";cc._RF.push(e,"7ba9btS+E5KzKJaq163+KhV","Market.Sell.PortRequired.Error");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketSellPortRequiredError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_SELL_PORT_REQUIRED)||this}return o(e,t),e}(s.default);r.MarketSellPortRequiredError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Market.Sell.ShipBroken.Error":[function(t,e,r){"use strict";cc._RF.push(e,"7bd1bZEtitM6Y2oNr5Mq/Cn","Market.Sell.ShipBroken.Error");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.MarketSellShipBrokenError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.MARKET_SELL_SHIP_BROKEN)||this}return o(e,t),e}(s.default);r.MarketSellShipBrokenError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],MonsterData:[function(t,e,r){"use strict";cc._RF.push(e,"4ae1c+ld5xBrJT4B1vRvg93","MonsterData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.MonsterData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.MonsterData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],NeedDeclareError:[function(t,e,r){"use strict";cc._RF.push(e,"3c763iejXNHdJ1sw6WnALxw","NeedDeclareError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.NeedDeclareError=void 0;var s=i(t("./BaseError")),a=t("./ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.NEED_DECLARE,"Command need to declare")||this}return o(e,t),e}(s.default);r.NeedDeclareError=c,cc._RF.pop()},{"./BaseError":"BaseError","./ErrorCode":"ErrorCode"}],"NetworkManager ":[function(t,e,r){"use strict";cc._RF.push(e,"ddc8cra/ExNZ6haLnpjXf5x","NetworkManager ");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},u=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(o,i){function s(t){try{c(n.next(t))}catch(e){i(e)}}function a(t){try{c(n.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,a)}c((n=n.apply(t,e||[])).next())})},p=this&&this.__generator||function(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var f=t("./../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopBuy"),h=cc._decorator,d=h.ccclass,_=h.property,y=c(t("colyseus.js")),v=t("../../pirate-king-nft-core/pk/dataLoader/DataLoader"),g=t("../../pirate-king-nft-core/pk/entity/PKConstants"),m=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.EquipmentEquip"),E=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.EquipmentUnEquip"),O=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.GachaShip"),b=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.PveFinish"),R=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.PveStart"),P=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.PvpSpinReward"),M=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.PvpUpdateIsland"),I=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.PvpUpdateIslandPath"),w=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShipReload"),S=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopList"),A=c(t("../Common/Constants")),C=t("../Common/CustomEventListener"),D=t("../Common/Toast"),T=t("../Common/Utils"),j=l(t("./GameManager")),N=t("../../pirate-king-nft-core/errors/ErrorCode"),x=t("../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShipRepair"),L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hostname="35.221.134.77",e.port=3456,e.useSSL=!1,e.requestId=0,e}return o(e,t),e.prototype.onLoad=function(){j.default.instance.client=this,cc.game.addPersistRootNode(this.node),this.checkHost(),this.client=new y.Client((this.useSSL?"wss":"ws")+"://"+this.hostname+([443,80].includes(this.port)||this.useSSL?"":":"+this.port)),console.log("\ud83d\ude80 ~ file: NetworkManager .ts ~ line 41 ~ NetworkManager ~ onLoad ~ client",this.client),j.default.instance.data=T.Utils.parseQueryString(),this.connect(),v.dataLoader.init(),this.cbQueue=new Map},e.prototype.checkHost=function(){A.default.Env==A.Environment.Dev?(this.hostname="10.128.4.5",this.port=3456,this.useSSL=!1):A.default.Env==A.Environment.TestNet&&(this.hostname="api-testnet.piratesland.io",this.port=2999,this.useSSL=!0)},e.prototype.addCB=function(t,e){this.cbQueue.has(t)?this.cbQueue[t]=e:this.cbQueue.set(t,e)},e.prototype.connect=function(){return u(this,void 0,void 0,function(){var t,e,r,n=this;return p(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=A.default.DEV?{walletUid:"0xC9014432072Bf000d9F299D89C4F79650E957ac8",token:A.default.token}:{walletUid:j.default.instance.data.wallet.toLowerCase(),token:j.default.instance.data.token},console.log("\ud83d\ude80 ~ file: NetworkManager .ts ~ line 77 ~ NetworkManager ~ connect ~ walletUid",t),e=this,[4,this.client.joinOrCreate("CharacterRoom",t)];case 1:return e.room=o.sent(),this.room.state.character.onChange=function(t){j.default.instance.user=n.room.state.character,console.log("userInfo: ",j.default.instance.user),t.forEach(function(t){"gold"===t.field?t.value.listen("quantity",function(){j.default.instance.isDelay||C.CustomEventListener.dispatchEvent(A.default.EventName.UPDATE_RESOURCE)}):"username"===t.field?C.CustomEventListener.dispatchEvent(A.default.EventName.UPDATE_USERINFO):"avatarId"===t.field&&C.CustomEventListener.dispatchEvent(A.default.EventName.UPDATE_USERINFO)}),n.room.state.character.resources.onAdd=function(t,e){j.default.instance.user=n.room.state.character,39!=e&&37!=e||(t.onChange=function(){j.default.instance.isDelay||C.CustomEventListener.dispatchEvent(A.default.EventName.UPDATE_RESOURCE)},t.triggerAll())},n.room.state.character.equipments.onAdd=function(t){t.onChange=function(){C.CustomEventListener.dispatchEvent(A.default.EventName.UPDATE_EQUIP)},t.triggerAll()},n.room.state.character.ships.onAdd=function(t){t.onChange=function(t){t.forEach(function(t){"bullet"===t.field&&t.value.listen("quantity",function(){C.CustomEventListener.dispatchEvent(A.default.EventName.RELOAD_SHIP)})})},t.triggerAll()},n.room.state.character.island.onChange=function(){C.CustomEventListener.dispatchEvent(A.default.EventName.UPDATE_ISLAND),n.room.state.character.island.paths.onChange=function(){C.CustomEventListener.dispatchEvent(A.default.EventName.UPDATE_ISLAND_PATH)}}},this.room.onMessage(g.PKConstants.Endpoints.Character.Login,function(){}),this.room.onMessage(g.PKConstants.Endpoints.Character.Rename,function(t){console.log(t)}),this.room.onMessage(g.PKConstants.Endpoints.Character.ChangeAvatar,function(t){console.log(t)}),this.room.onMessage(g.PKConstants.Endpoints.Equipment.Add,function(t){console.log(t)}),this.room.onMessage(g.PKConstants.Endpoints.Pvp.SpinReward,function(t){j.default.instance.resultSpinItem=t.data.rewards[0],C.CustomEventListener.dispatchEvent(A.default.EventName.UPDATE_PVPSPIN)}),this.room.onMessage(g.PKConstants.Endpoints.Pvp.UpdateIslandPath,function(){console.log(n.room.state.character)}),this.room.onMessage(g.PKConstants.Endpoints.Pvp.UpdateIsland,function(){}),this.room.onMessage(g.PKConstants.Endpoints.Ship.PveStart,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Ship.PveStart);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Ship.PveFinish,function(t){console.log(t);var e=n.cbQueue.get(g.PKConstants.Endpoints.Ship.PveFinish);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Equipment.Equip,function(t){console.log(t)}),this.room.onMessage(g.PKConstants.Endpoints.Equipment.UnEquip,function(t){console.log(t)}),this.room.onMessage(g.PKConstants.Endpoints.Ship.Reload,function(){}),this.room.onMessage(g.PKConstants.Endpoints.Shop.List,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Shop.List);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Shop.InGameShopBuy,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Shop.InGameShopBuy);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Ship.Repair,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Ship.Repair);null!=e&&e(t)}),this.room.onMessage(g.PKConstants.Endpoints.Ship.GachaShip,function(t){var e=n.cbQueue.get(g.PKConstants.Endpoints.Ship.GachaShip);null!=e&&e(t),console.log(JSON.stringify(t))}),this.room.onLeave(function(t){console.log("onLeave:",t)}),this.room.onError(function(t,e){switch(console.log(e),t){case 6350:C.CustomEventListener.dispatchEvent(A.default.EventName.UPDATE_SPIN),D.Toast.instance.showText("Ship Limit!");break;case 6302:D.Toast.instance.showText("Username has already existed!");break;default:D.Toast.instance.showText(N.ErrorCode[t])}}),[3,3];case 2:return r=o.sent(),console.log(r),console.log(r.code),console.log(r.message),[3,3];case 3:return[2]}})})},e.prototype.reName=function(){this.room.send(g.PKConstants.Endpoints.Character.Rename,{action:g.PKConstants.Endpoints.Character.Rename,requestId:2,data:{username:j.default.instance.username}})},e.prototype.changeAvatar=function(){this.room.send(g.PKConstants.Endpoints.Character.ChangeAvatar,{action:g.PKConstants.Endpoints.Character.ChangeAvatar,requestId:3,data:{avatarDataId:j.default.instance.avataID}})},e.prototype.gacha=function(t){var e=new O.ReqMsgGachaShip;e.data={},e.action=g.PKConstants.Endpoints.Ship.GachaShip,e.requestId=++this.requestId,e.validate(),this.room.send(e.action,e),this.addCB(g.PKConstants.Endpoints.Ship.GachaShip,t)},e.prototype.addEquip=function(){this.room.send(g.PKConstants.Endpoints.Equipment.Add,{action:g.PKConstants.Endpoints.Equipment.Add,requestId:5,data:{equipmentDataIds:[29,30,31,32,33]}})},e.prototype.spinReward=function(){var t=new P.ReqMsgPvpSpinReward;t.data.times=1,t.action=g.PKConstants.Endpoints.Pvp.SpinReward,t.requestId=++this.requestId,t.validate(),this.room.send(t.action,t)},e.prototype.updateIslandPath=function(t){var e=new I.ReqMsgPvpUpdateIslandPath;e.data.path=t,e.action=g.PKConstants.Endpoints.Pvp.UpdateIslandPath,e.requestId=++this.requestId,e.validate(),this.room.send(e.action,e)},e.prototype.updateIsland=function(){var t=new M.ReqMsgPvpUpdateIsland;t.data={},t.action=g.PKConstants.Endpoints.Pvp.UpdateIsland,t.requestId=++this.requestId,t.validate(),this.room.send(t.action,t)},e.prototype.changeEquip=function(t,e){var r=new m.ReqMsgEquipmentEquip;r.data.equipDataItems=[{shipUid:t,equipmentUids:[e]}],r.action=g.PKConstants.Endpoints.Equipment.Equip,r.requestId=++this.requestId,r.validate(),this.room.send(r.action,r)},e.prototype.removeEquip=function(t,e){var r=new E.ReqMsgEquipmentUnEquip;r.data.equipDataItems=[{shipUid:t,equipmentUids:[e]}],r.action=g.PKConstants.Endpoints.Equipment.UnEquip,r.requestId=++this.requestId,r.validate(),this.room.send(r.action,r)},e.prototype.reloadShip=function(t){var e=new w.ReqMsgShipReload;e.data={},e.action=g.PKConstants.Endpoints.Ship.Reload,e.requestId=++this.requestId,e.validate(),this.room.send(e.action,e),this.addCB(g.PKConstants.Endpoints.Ship.Reload,t)},e.prototype.pveStart=function(t,e){var r=new R.ReqMsgPveStart;r.data.shipUid=t,r.action=g.PKConstants.Endpoints.Ship.PveStart,r.requestId=++this.requestId,r.validate(),this.room.send(r.action,r),this.addCB(g.PKConstants.Endpoints.Ship.PveStart,e)},e.prototype.pveFinish=function(t,e){var r=new b.ReqMsgPveFinish;r.data.historyId=t,r.action=g.PKConstants.Endpoints.Ship.PveFinish,r.requestId=++this.requestId,r.validate(),this.room.send(r.action,r),this.addCB(g.PKConstants.Endpoints.Ship.PveFinish,e)},e.prototype.listShop=function(t){var e=new S.ReqMsgShopList;e.data={},e.action=g.PKConstants.Endpoints.Shop.List,e.requestId=++this.requestId,e.validate(),this.room.send(e.action,e),this.addCB(g.PKConstants.Endpoints.Shop.List,t)},e.prototype.shopBuy=function(t,e){var r=new f.ReqMsgShopBuy;r.data=t,r.action=g.PKConstants.Endpoints.Shop.InGameShopBuy,r.requestId=++this.requestId,r.validate(),this.room.send(r.action,r),this.addCB(g.PKConstants.Endpoints.Shop.InGameShopBuy,e)},e.prototype.repairShip=function(t,e){var r=new x.ReqMsgShipRepair;r.data.shipUid=t,r.action=g.PKConstants.Endpoints.Ship.Repair,r.requestId=++this.requestId,r.validate(),this.room.send(r.action,r),this.addCB(g.PKConstants.Endpoints.Ship.Repair,e)},a([_],e.prototype,"hostname",void 0),a([_],e.prototype,"port",void 0),a([_],e.prototype,"useSSL",void 0),a([d],e)}(cc.Component);r.default=L,cc._RF.pop()},{"../../pirate-king-nft-core/errors/ErrorCode":"ErrorCode","../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../pirate-king-nft-core/pk/entity/PKConstants":"PKConstants","../../pirate-king-nft-core/pk/entity/req/ReqMsg.EquipmentEquip":"ReqMsg.EquipmentEquip","../../pirate-king-nft-core/pk/entity/req/ReqMsg.EquipmentUnEquip":"ReqMsg.EquipmentUnEquip","../../pirate-king-nft-core/pk/entity/req/ReqMsg.GachaShip":"ReqMsg.GachaShip","../../pirate-king-nft-core/pk/entity/req/ReqMsg.PveFinish":"ReqMsg.PveFinish","../../pirate-king-nft-core/pk/entity/req/ReqMsg.PveStart":"ReqMsg.PveStart","../../pirate-king-nft-core/pk/entity/req/ReqMsg.PvpSpinReward":"ReqMsg.PvpSpinReward","../../pirate-king-nft-core/pk/entity/req/ReqMsg.PvpUpdateIsland":"ReqMsg.PvpUpdateIsland","../../pirate-king-nft-core/pk/entity/req/ReqMsg.PvpUpdateIslandPath":"ReqMsg.PvpUpdateIslandPath","../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShipReload":"ReqMsg.ShipReload","../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShipRepair":"ReqMsg.ShipRepair","../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopList":"ReqMsg.ShopList","../Common/Constants":"Constants","../Common/CustomEventListener":"CustomEventListener","../Common/Toast":"Toast","../Common/Utils":"Utils","./../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopBuy":"ReqMsg.ShopBuy","./GameManager":"GameManager","colyseus.js":33}],NotEnoughBulletError:[function(t,e,r){"use strict";cc._RF.push(e,"56763S56tNK7ozxTIJyw4LL","NotEnoughBulletError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.NotEnoughBulletError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_NOT_ENOUGH_BULLET,"SHIP_NOT_ENOUGH_BULLET")||this}return o(e,t),e}(s.default);r.NotEnoughBulletError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],NotEnoughGoldError:[function(t,e,r){"use strict";cc._RF.push(e,"af8afQ+nudH+a/w44mJ7ChR","NotEnoughGoldError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.NotEnoughGoldError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.NOT_ENOUGH_GOLD,"NOT_ENOUGH_GOLD")||this}return o(e,t),e}(s.default);r.NotEnoughGoldError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],NotifyPopup:[function(t,e,r){"use strict";cc._RF.push(e,"00a344M9+5L4afUmNOytf6X","NotifyPopup");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../Manager/GameManager")),c=s(t("./AnimPopup")),u=cc._decorator,p=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.messages=null,e.animPopup=null,e}return o(e,t),e.prototype.onLoad=function(){a.default.instance.notify=this,this.node.setPosition(cc.Vec3.ZERO),this.node.active=!1,this.animPopup=this.node.getComponent(c.default)},e.prototype.showText=function(t){this.messages.string=t,this.animPopup.showPopup()},i([l(cc.Label)],e.prototype,"messages",void 0),i([p],e)}(cc.Component);r.default=f,cc._RF.pop()},{"../Manager/GameManager":"GameManager","./AnimPopup":"AnimPopup"}],ObjectUtils:[function(t,e,r){"use strict";cc._RF.push(e,"381dbbpbLtNxpFOWoazz/S1","ObjectUtils"),Object.defineProperty(r,"__esModule",{value:!0}),r.floatFormatter=r.numberFormatter=r.jsonClone=void 0;var n=t("../errors/InvalidNumberValueError");r.jsonClone=function(t){return JSON.parse(JSON.stringify(t))};var o=/^[-+]?(\d+|Infinity)$/,i=/^[+-]?((\.\d+)|(\d+(\.\d+)?))$/;r.numberFormatter=function(t){if(o.test(t+""))return Number(t);throw new n.InvalidNumberValueError},r.floatFormatter=function(t){if(i.test(t+""))return Number(t);throw new n.InvalidNumberValueError},cc._RF.pop()},{"../errors/InvalidNumberValueError":"InvalidNumberValueError"}],Overlay:[function(t,e,r){"use strict";cc._RF.push(e,"29696dV17lPTqzhovjey+Xl","Overlay");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator.ccclass,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()}),this.node.on(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation()})},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()}),this.node.off(cc.Node.EventType.TOUCH_END,function(t){t.stopPropagation()})},i([s],e)}(cc.Component);r.default=a,cc._RF.pop()},{}],PKConstants:[function(t,e,r){"use strict";cc._RF.push(e,"399b9QX1LtOYKVaLyq6N2O2","PKConstants"),Object.defineProperty(r,"__esModule",{value:!0}),r.PKConstants=void 0,r.PKConstants=Object.freeze({Default:{ItemPerPage:10,DefaultCannonDataId:35,MarketWalletId:"0x0000000000000000000000000000000000000000"},Endpoints:{Auth:{GetLoginCode:"/Auth.GetLoginCode",VerifySignature:"/Auth.VerifySignature",LoginDev:"/Auth.LoginDev"},Character:{Login:"Character.Login",Rename:"Character.Rename",ChangeAvatar:"Character.ChangeAvatar",UpdateInfo:"Character.UpdateInfo"},Ship:{GachaShip:"Ship.GachaShip",PveStart:"Ship.PveStart",PveFinish:"Ship.PveFinish",Reload:"Ship.Reload",Repair:"Ship.Repair"},Reward:{List:"/Reward.List",Claim:"/Reward.Claim"},Equipment:{Add:"Equipment.Add",Equip:"Equipment.Equip",UnEquip:"Equipment.UnEquip"},Pvp:{SpinReward:"Pvp.SpinReward",UpdateIslandPath:"Pvp.UpdateIslandPath",UpdateIsland:"Pvp.UpdateIsland"},Shop:{List:"Shop.List",InGameShopBuy:"Shop.InGameShopBuy",WebShopDetail:"/Shop.WebShopDetail/:shopDataId",WebShopBuy:"/Shop.WebShopBuy"},Port:{Use:"Port.Use"},Market:{List:"/Market.List",MyListing:"/Market.MyListing",Sell:"/Market.Sell",Cancel:"/Market.Cancel",Buy:"/Market.Buy",MyOffer:"/Market.MyOffer"},Token:{Deposit:"/Token.Deposit",Withdrawal:"/Token.Withdrawal",MyInfo:"/Token.MyInfo",History:"/Token.History",BuyBox:"/Token.BuyBox"}},Rooms:{Character:"CharacterRoom",Shop:"Shop",Market:"Market"},GameData:{DefaultAvatarDataId:13,DefaultShipDataId:8,DefaultShipTypeDataId:3,Resource:{ResourceInfinity:-1,GoldDataId:1,BulletDataId:2,PvpPointDataId:36,PvpSpinPointDataId:37,GloryPointDataId:39,MarketTicketDataId:71,ShipRepairTicketDataId:72},Config:{ShipConfigDataId:15,PveConfigDataId:21,EquipmentConfigDataId:34,PvpConfigDataId:38,ShopConfigDataId:42,GeneralConfigDataId:44}},MQ:{Request:"request",API:"api",Notify:"notify",UpdateInfo:"UpdateInfo",Error:"error"}}),cc._RF.pop()},{}],"Port.state":[function(t,e,r){"use strict";cc._RF.push(e,"dcb83oaqR1AlKBlCA3dM1s3","Port.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.PortState=void 0;var s=t("@colyseus/schema"),a=t("./Resource.state"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataId=0,e}return o(e,t),i([s.type("number")],e.prototype,"dataId",void 0),i([s.type(a.ResourceState)],e.prototype,"remainingMarketTicket",void 0),i([s.type(a.ResourceState)],e.prototype,"remainingRepairDiscount",void 0),e}(s.Schema);r.PortState=c,cc._RF.pop()},{"./Resource.state":"Resource.state","@colyseus/schema":3}],PortAlreadyOwnError:[function(t,e,r){"use strict";cc._RF.push(e,"a1320WNAwlLIb8vP8J5VRJQ","PortAlreadyOwnError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PortAlreadyOwnError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PORT_ALREADY_OWN,"PORT_ALREADY_OWN")||this}return o(e,t),e}(s.default);r.PortAlreadyOwnError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PortData:[function(t,e,r){"use strict";cc._RF.push(e,"50ac54KJYhDjoSL9EEqwwbB","PortData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.PortData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.PortData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],PortNotOwnError:[function(t,e,r){"use strict";cc._RF.push(e,"01285GjU2hOrbhapOALTSVi","PortNotOwnError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PortNotOwnError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PORT_NOT_OWN,"PORT_NOT_OWN")||this}return o(e,t),e}(s.default);r.PortNotOwnError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PortUseInvalidParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"58bf8xT2j9HOZgnQuWs7pUL","PortUseInvalidParamsError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PortUseInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PORT_USE_INVALID_PARAM,"PORT_USE_INVALID_PARAM")||this}return o(e,t),e}(s.default);r.PortUseInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PveRewardLevel:[function(t,e,r){"use strict";cc._RF.push(e,"70eaaNMZQhGb42v812O+AoD","PveRewardLevel"),Object.defineProperty(r,"__esModule",{value:!0}),r.PveRewardLevel=void 0;r.PveRewardLevel=function(){},cc._RF.pop()},{}],PvpInvalidSpinTimesError:[function(t,e,r){"use strict";cc._RF.push(e,"306bbPaj59PzJcBQk8o0hqQ","PvpInvalidSpinTimesError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpInvalidSpinTimesError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_INVALID_SPIN_TIMES,"PVP_INVALID_SPIN_TIMES")||this}return o(e,t),e}(s.default);r.PvpInvalidSpinTimesError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PvpUpdateIslandHighestLevelReachedError:[function(t,e,r){"use strict";cc._RF.push(e,"a9b88dLEapCoK+J6Az6dClS","PvpUpdateIslandHighestLevelReachedError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpUpdateIslandHighestLevelReachedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_UPDATE_ISLAND_HIGHEST_LEVEL_REACHED,"PVP_UPDATE_ISLAND_HIGHEST_LEVEL_REACHED")||this}return o(e,t),e}(s.default);r.PvpUpdateIslandHighestLevelReachedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PvpUpdateIslandNeedUpdatePathError:[function(t,e,r){"use strict";cc._RF.push(e,"fb417jCczdDQ54Ea6tW7iNm","PvpUpdateIslandNeedUpdatePathError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpUpdateIslandNeedUpdatePathError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_UPDATE_ISLAND_NEED_UPDATE_PATH,"PVP_UPDATE_ISLAND_NEED_UPDATE_PATH")||this}return o(e,t),e}(s.default);r.PvpUpdateIslandNeedUpdatePathError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PvpUpdateIslandPathHighestLevelReachedError:[function(t,e,r){"use strict";cc._RF.push(e,"3c236Ai2AxCZ4sbytOMO2mv","PvpUpdateIslandPathHighestLevelReachedError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpUpdateIslandPathHighestLevelReachedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_UPDATE_ISLAND_PATH_HIGHEST_LEVEL_REACHED,"PVP_UPDATE_ISLAND_PATH_HIGHEST_LEVEL_REACHED")||this}return o(e,t),e}(s.default);r.PvpUpdateIslandPathHighestLevelReachedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],PvpUpdateIslandPathInvalidParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"e8ec5XN9YJMUZLWs8HNWGqy","PvpUpdateIslandPathInvalidParamsError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.PvpUpdateIslandPathInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.PVP_UPDATE_ISLAND_PATH_INVALID_PARAM,"PVP_UPDATE_ISLAND_PATH_INVALID_PARAM")||this}return o(e,t),e}(s.default);r.PvpUpdateIslandPathInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],RandomItem:[function(t,e,r){"use strict";cc._RF.push(e,"3f1fdEmY3BJMr2ynlqDn3rO","RandomItem"),Object.defineProperty(r,"__esModule",{value:!0}),r.RandomItem=void 0;r.RandomItem=function(){},cc._RF.pop()},{}],RedisConnectError:[function(t,e,r){"use strict";cc._RF.push(e,"5db1d0s491CjqSFmFJbHwq7","RedisConnectError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.RedisConnectError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(e){return t.call(this,a.ErrorCode.REDIS_CONNECT_ERROR,e)||this}return o(e,t),e}(s.default);r.RedisConnectError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"ReqMsg.Base":[function(t,e,r){"use strict";cc._RF.push(e,"9f655wy4lhDk6nqI+YFnTOm","ReqMsg.Base"),Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgBase=void 0;var n=t("../../errors/InvalidActionError"),o=function(){function t(t,e){this.action=t,this.requestId=e}return t.prototype.validate=function(){},t.prototype.format=function(){if(!this.action||!this.data)throw new n.InvalidActionError},t}();r.ReqMsgBase=o,cc._RF.pop()},{"../../errors/InvalidActionError":"InvalidActionError"}],"ReqMsg.ChangeAvatar":[function(t,e,r){"use strict";cc._RF.push(e,"a1a0aXK+ZlJTqwuOssLL5VL","ReqMsg.ChangeAvatar");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgChangeAvatar=r.ChangeAvatarData=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=function(t){this.avatarDataId=t};r.ChangeAvatarData=c;var u=function(t){function e(e,r){var n=t.call(this,a.PKConstants.Endpoints.Character.ChangeAvatar,e)||this;return n.data=new c(r),n}return o(e,t),e.prototype.validate=function(){this.format()},e.prototype.format=function(){this.data.avatarDataId=s.numberFormatter(this.data.avatarDataId)},e}(i.ReqMsgBase);r.ReqMsgChangeAvatar=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../PKConstants":"PKConstants"}],"ReqMsg.EquipmentAdd":[function(t,e,r){"use strict";cc._RF.push(e,"613a3evDQpLlYIC+pKmHBsT","ReqMsg.EquipmentAdd");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgEquipmentAdd=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e,r){var n=t.call(this,s.PKConstants.Endpoints.Equipment.Add,e)||this;return n.data={equipmentDataIds:r},n}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgEquipmentAdd=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.EquipmentEquip":[function(t,e,r){"use strict";cc._RF.push(e,"0effdJBU9tM0ZE6Z+l7V4fh","ReqMsg.EquipmentEquip");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgEquipmentEquip=r.ReqMsgEquipmentEquipData=r.EquipDataItem=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants");r.EquipDataItem=function(){};r.ReqMsgEquipmentEquipData=function(){};var c=function(t){function e(e,r){var n=t.call(this,a.PKConstants.Endpoints.Equipment.Equip,e)||this;return n.data={equipDataItems:r},n}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this),this.data.equipDataItems.forEach(function(t){t.shipUid=s.numberFormatter(t.shipUid),t.equipmentUids.map(function(t){return s.numberFormatter(t)})})},e}(i.ReqMsgBase);r.ReqMsgEquipmentEquip=c,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../PKConstants":"PKConstants"}],"ReqMsg.EquipmentUnEquip":[function(t,e,r){"use strict";cc._RF.push(e,"7e1ee2Fag9GVoVahMjfOFfw","ReqMsg.EquipmentUnEquip");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgEquipmentUnEquip=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e,r){var n=t.call(this,s.PKConstants.Endpoints.Equipment.UnEquip,e)||this;return n.data={equipDataItems:r},n}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgEquipmentUnEquip=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.GachaShip":[function(t,e,r){"use strict";cc._RF.push(e,"d297bhE0MtN9bW0CNq9vNWg","ReqMsg.GachaShip");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgGachaShip=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Ship.GachaShip,e)||this}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgGachaShip=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.GetLoginCode":[function(t,e,r){"use strict";cc._RF.push(e,"1564b01WDxI269crSk1ySML","ReqMsg.GetLoginCode");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgGetLoginCode=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../../errors/InvalidWalletUidError"),c=t("../PKConstants"),u=function(t){function e(e,r){var n=t.call(this,c.PKConstants.Endpoints.Auth.GetLoginCode,e)||this;return n.data={publicAddress:r},n}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),!s.walletUidValidate(this.data.publicAddress))throw new a.InvalidWalletUidError},e.prototype.format=function(){t.prototype.format.call(this),this.data.publicAddress=(this.data.publicAddress+"").toLowerCase()},e}(i.ReqMsgBase);r.ReqMsgGetLoginCode=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../errors/InvalidWalletUidError":"InvalidWalletUidError","../PKConstants":"PKConstants"}],"ReqMsg.Login":[function(t,e,r){"use strict";cc._RF.push(e,"77658KCLtBLPqaxycdAuq6z","ReqMsg.Login");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgLogin=r.LoginData=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../../errors/InvalidWalletUidError"),c=t("../PKConstants");r.LoginData=function(){};var u=function(t){function e(e){var r=t.call(this,c.PKConstants.Endpoints.Character.Login,1)||this;return r.data=e,r}return o(e,t),e.prototype.validate=function(){if(this.format(),!s.walletUidValidate(this.data.walletUid))throw new a.InvalidWalletUidError},e.prototype.format=function(){this.data.walletUid=(this.data.walletUid+"").toLowerCase(),this.data.token=this.data.token+""},e}(i.ReqMsgBase);r.ReqMsgLogin=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../errors/InvalidWalletUidError":"InvalidWalletUidError","../PKConstants":"PKConstants"}],"ReqMsg.Market.Cancel":[function(t,e,r){"use strict";cc._RF.push(e,"af2ddQ2MCxPqqZCtAxWMcT2","ReqMsg.Market.Cancel");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketCancel=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/Market.InvalidParams.Error"),u=function(){},p=function(t){function e(){var e=t.call(this,a.PKConstants.Endpoints.Market.Cancel)||this;return e.data=new u,e}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.uid<=0)throw new c.MarketInvalidParamsError},e.prototype.format=function(){var e;t.prototype.format.call(this),this.data.uid=s.numberFormatter(null!==(e=this.data.uid)&&void 0!==e?e:0)},e}(i.ReqMsgBase);r.ReqMsgMarketCancel=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/Market.InvalidParams.Error":"Market.InvalidParams.Error","../PKConstants":"PKConstants"}],"ReqMsg.Market.MyListing":[function(t,e,r){"use strict";cc._RF.push(e,"e1d1eU6/zRJILA1V56lZoO8","ReqMsg.Market.MyListing");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketMyListing=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(){},c=function(t){function e(){var e=t.call(this,s.PKConstants.Endpoints.Market.MyListing)||this;return e.data=new a,e}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgMarketMyListing=c,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Market.MyOffer":[function(t,e,r){"use strict";cc._RF.push(e,"1362cqlhBVFF6blTOQ7CB/1","ReqMsg.Market.MyOffer");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketMyOffer=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(){},c=function(t){function e(){var e=t.call(this,s.PKConstants.Endpoints.Market.MyOffer)||this;return e.data=new a,e}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgMarketMyOffer=c,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Market.Sell":[function(t,e,r){"use strict";cc._RF.push(e,"ac6aaFnVxVHJpFUAv+kyXPD","ReqMsg.Market.Sell");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketSell=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/Market.InvalidParams.Error"),u=function(){},p=function(t){function e(){var e=t.call(this,a.PKConstants.Endpoints.Market.Sell)||this;return e.data=new u,e}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.shipUid<=0||this.data.price<=0)throw new c.MarketInvalidParamsError},e.prototype.format=function(){var e,r;t.prototype.format.call(this),this.data.shipUid=s.numberFormatter(null!==(e=this.data.shipUid)&&void 0!==e?e:0),this.data.price=s.floatFormatter(null!==(r=this.data.price)&&void 0!==r?r:0)},e}(i.ReqMsgBase);r.ReqMsgMarketSell=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/Market.InvalidParams.Error":"Market.InvalidParams.Error","../PKConstants":"PKConstants"}],"ReqMsg.MarketList":[function(t,e,r){"use strict";cc._RF.push(e,"97803LLaEREXLGowvqmnJoM","ReqMsg.MarketList");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgMarketList=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=function(){},u=function(t){function e(){var e=t.call(this,a.PKConstants.Endpoints.Market.MyListing)||this;return e.data=new c,e}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){var e,r,n;t.prototype.format.call(this),this.data.page=s.numberFormatter(null!==(e=this.data.page)&&void 0!==e?e:1),this.data.minPrice=s.numberFormatter(null!==(r=this.data.minPrice)&&void 0!==r?r:0),this.data.maxPrice=s.numberFormatter(null!==(n=this.data.maxPrice)&&void 0!==n?n:0)},e}(i.ReqMsgBase);r.ReqMsgMarketList=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../PKConstants":"PKConstants"}],"ReqMsg.PortUse":[function(t,e,r){"use strict";cc._RF.push(e,"16d87lpaXVMXo7mpo3NXuXH","ReqMsg.PortUse");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPortUse=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../../errors/PortUseInvalidParamsError"),c=t("../PKConstants"),u=function(t){function e(e,r){var n=t.call(this,c.PKConstants.Endpoints.Port.Use,e)||this;return n.data={portDataId:r},n}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.portDataId<=0)throw new a.PortUseInvalidParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.portDataId=s.numberFormatter(this.data.portDataId)},e}(i.ReqMsgBase);r.ReqMsgPortUse=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/PortUseInvalidParamsError":"PortUseInvalidParamsError","../PKConstants":"PKConstants"}],"ReqMsg.PveFinish":[function(t,e,r){"use strict";cc._RF.push(e,"f36a4zI/XxAYaPrZONx1sHY","ReqMsg.PveFinish");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPveFinish=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/ShipPveFinishParamsError"),u=function(t){function e(e,r){var n=t.call(this,a.PKConstants.Endpoints.Ship.PveFinish,e)||this;return n.data={historyId:r},n}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.historyId<=0)throw new c.ShipPveFinishParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.historyId=s.numberFormatter(this.data.historyId)},e}(i.ReqMsgBase);r.ReqMsgPveFinish=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/ShipPveFinishParamsError":"ShipPveFinishParamsError","../PKConstants":"PKConstants"}],"ReqMsg.PveStart":[function(t,e,r){"use strict";cc._RF.push(e,"c3c119OwShE978tYBslWpb/","ReqMsg.PveStart");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPveStart=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../PKConstants"),c=t("../../errors/ShipPveStartParamsError"),u=function(t){function e(e,r){var n=t.call(this,a.PKConstants.Endpoints.Ship.PveStart,e)||this;return n.data={shipUid:r},n}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.shipUid<=0)throw new c.ShipPveStartParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.shipUid=s.numberFormatter(this.data.shipUid)},e}(i.ReqMsgBase);r.ReqMsgPveStart=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/ShipPveStartParamsError":"ShipPveStartParamsError","../PKConstants":"PKConstants"}],"ReqMsg.PvpSpinReward":[function(t,e,r){"use strict";cc._RF.push(e,"e17e6DUSuxKNJrm3pNjsZXi","ReqMsg.PvpSpinReward");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpSpinReward=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=t("../../errors/PvpInvalidSpinTimesError"),c=t("../PKConstants"),u=function(t){function e(e,r){var n=t.call(this,c.PKConstants.Endpoints.Pvp.SpinReward,e)||this;return n.data={times:r},n}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.times<=0)throw new a.PvpInvalidSpinTimesError},e.prototype.format=function(){t.prototype.format.call(this),this.data.times=s.numberFormatter(this.data.times)},e}(i.ReqMsgBase);r.ReqMsgPvpSpinReward=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/PvpInvalidSpinTimesError":"PvpInvalidSpinTimesError","../PKConstants":"PKConstants"}],"ReqMsg.PvpUpdateIslandPath":[function(t,e,r){"use strict";cc._RF.push(e,"4421azkoL9PhIZgXCGP/VSx","ReqMsg.PvpUpdateIslandPath");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpUpdateIslandPath=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../errors/PvpUpdateIslandPathInvalidParamsError"),c=t("../../dataLoader/IslandPathData"),u=function(t){function e(e,r){var n=t.call(this,s.PKConstants.Endpoints.Pvp.UpdateIslandPath,e)||this;return n.data={path:r},n}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),c.IslandPathKey.indexOf(this.data.path)<0)throw new a.PvpUpdateIslandPathInvalidParamsError},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgPvpUpdateIslandPath=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../dataLoader/IslandPathData":"IslandPathData","../../errors/PvpUpdateIslandPathInvalidParamsError":"PvpUpdateIslandPathInvalidParamsError","../PKConstants":"PKConstants"}],"ReqMsg.PvpUpdateIsland":[function(t,e,r){"use strict";cc._RF.push(e,"6ae39bN5kFDhLcOcVkdfkbw","ReqMsg.PvpUpdateIsland");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgPvpUpdateIsland=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Pvp.UpdateIsland,e)||this}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgPvpUpdateIsland=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.Rename":[function(t,e,r){"use strict";cc._RF.push(e,"5d556O8baVLCIVqwC+N3PZ+","ReqMsg.Rename");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgRename=r.RenameData=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../errors/CharacterRenameParamsError"),c=function(t){this.username=t};r.RenameData=c;var u=function(t){function e(e,r){var n=t.call(this,s.PKConstants.Endpoints.Character.Rename,e)||this;return n.data=new c(r),n}return o(e,t),e.prototype.validate=function(){if(this.format(),this.data.username.length<3||this.data.username.length>50)throw new a.CharacterRenameParamsError},e.prototype.format=function(){this.data.username=(this.data.username+"").trim()},e}(i.ReqMsgBase);r.ReqMsgRename=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../errors/CharacterRenameParamsError":"CharacterRenameParamsError","../PKConstants":"PKConstants"}],"ReqMsg.RewardClaim":[function(t,e,r){"use strict";cc._RF.push(e,"61685VTxUFJQbAteitDoTjx","ReqMsg.RewardClaim");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgRewardClaim=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../../utils/ObjectUtils"),c=t("../../errors/RewardInvalidUidError"),u=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Reward.List,e)||this}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.rewardUid<=0)throw new c.RewardInvalidUidError},e.prototype.format=function(){t.prototype.format.call(this),this.data.rewardUid=a.numberFormatter(this.data.rewardUid)},e}(i.ReqMsgBase);r.ReqMsgRewardClaim=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/RewardInvalidUidError":"RewardInvalidUidError","../PKConstants":"PKConstants"}],"ReqMsg.RewardList":[function(t,e,r){"use strict";cc._RF.push(e,"b7fe3cN/v5KB4m7koCXkfp4","ReqMsg.RewardList");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgRewardList=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../../utils/ObjectUtils"),c=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Reward.List,e)||this}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this),this.data.page<=0&&(this.data.page=1)},e.prototype.format=function(){t.prototype.format.call(this),this.data.page=a.numberFormatter(this.data.page)},e}(i.ReqMsgBase);r.ReqMsgRewardList=c,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../PKConstants":"PKConstants"}],"ReqMsg.ShipReload":[function(t,e,r){"use strict";cc._RF.push(e,"e1689ETF+lJQ7wpRiP1nFQ/","ReqMsg.ShipReload");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgShipReload=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Ship.Reload,e)||this}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgShipReload=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.ShipRepair":[function(t,e,r){"use strict";cc._RF.push(e,"717f1vfLHhFn4aCXuzqW8LX","ReqMsg.ShipRepair");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgShipRepair=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../../utils/ObjectUtils"),c=t("../../errors/ShipRepairInvalidParamsError"),u=function(t){function e(e,r){var n=t.call(this,s.PKConstants.Endpoints.Ship.Repair,e)||this;return n.data={shipUid:r},n}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.shipUid<=0)throw new c.ShipRepairInvalidParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.shipUid=a.numberFormatter(this.data.shipUid)},e}(i.ReqMsgBase);r.ReqMsgShipRepair=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/ShipRepairInvalidParamsError":"ShipRepairInvalidParamsError","../PKConstants":"PKConstants"}],"ReqMsg.ShopBuy":[function(t,e,r){"use strict";cc._RF.push(e,"6ac39qYVXFK+K9Q07TPdJeq","ReqMsg.ShopBuy");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgShopBuy=r.ReqMsgShopBuyData=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../../errors/InvalidWalletUidError"),c=t("../../../utils/ObjectUtils"),u=t("../../errors/ShopBuyInvalidParamsError");r.ReqMsgShopBuyData=function(){};var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),!s.walletUidValidate(this.data.characterWalletUid))throw new a.InvalidWalletUidError;if(this.data.shopDataId<=0||this.data.shopItemUid<=0||this.data.quantity<=0)throw new u.ShopBuyInvalidParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.shopDataId=c.numberFormatter(this.data.shopDataId),this.data.shopItemUid=c.numberFormatter(this.data.shopItemUid),this.data.quantity=c.numberFormatter(this.data.quantity),this.data.characterWalletUid=(this.data.characterWalletUid+"").toLowerCase()},e}(i.ReqMsgBase);r.ReqMsgShopBuy=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../../utils/ObjectUtils":"ObjectUtils","../../errors/InvalidWalletUidError":"InvalidWalletUidError","../../errors/ShopBuyInvalidParamsError":"ShopBuyInvalidParamsError"}],"ReqMsg.ShopDetail":[function(t,e,r){"use strict";cc._RF.push(e,"68e63ErKUZIV6Zq0wtci5rL","ReqMsg.ShopDetail");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgShopDetail=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/ObjectUtils"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this),this.data.shopDataIds.map(function(t){return s.numberFormatter(t)})},e}(i.ReqMsgBase);r.ReqMsgShopDetail=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils"}],"ReqMsg.ShopList":[function(t,e,r){"use strict";cc._RF.push(e,"1e32fCLbO5ICZ73SN1TqLc7","ReqMsg.ShopList");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgShopList=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Shop.List,e)||this}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgShopList=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.SignatureVerify":[function(t,e,r){"use strict";cc._RF.push(e,"b30f5LwimNBRKgHkdJeTUEq","ReqMsg.SignatureVerify");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgSignatureVerify=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../../errors/InvalidWalletUidError"),c=t("../../errors/InvalidSignatureError"),u=t("../PKConstants"),p=function(t){function e(e){return t.call(this,u.PKConstants.Endpoints.Auth.VerifySignature,e)||this}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),!s.walletUidValidate(this.data.publicAddress))throw new a.InvalidWalletUidError;if(this.data.signature.length<=0)throw new c.InvalidSignatureError},e.prototype.format=function(){t.prototype.format.call(this),this.data.publicAddress=(this.data.publicAddress+"").toLowerCase(),this.data.signature=this.data.signature+""},e}(i.ReqMsgBase);r.ReqMsgSignatureVerify=p,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../errors/InvalidSignatureError":"InvalidSignatureError","../../errors/InvalidWalletUidError":"InvalidWalletUidError","../PKConstants":"PKConstants"}],"ReqMsg.TokenBuyBox":[function(t,e,r){"use strict";cc._RF.push(e,"04938sfGh5OdJmDhwCWhd8D","ReqMsg.TokenBuyBox");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgTokenBuyBox=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../PKConstants"),c=t("../../errors/InvalidTransactionUidError"),u=function(t){function e(e){return t.call(this,a.PKConstants.Endpoints.Token.BuyBox,e)||this}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),!s.transactionUidValidate(this.data.txn))throw new c.InvalidTransactionUidError},e.prototype.format=function(){t.prototype.format.call(this),this.data.txn=(this.data.txn+"").toLowerCase()},e}(i.ReqMsgBase);r.ReqMsgTokenBuyBox=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../errors/InvalidTransactionUidError":"InvalidTransactionUidError","../PKConstants":"PKConstants"}],"ReqMsg.TokenDeposit":[function(t,e,r){"use strict";cc._RF.push(e,"435eaUJJY5MB7WDQNme2NaR","ReqMsg.TokenDeposit");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgTokenDeposit=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../../../utils/HexAddressValidate"),a=t("../PKConstants"),c=t("../../errors/InvalidTransactionUidError"),u=function(t){function e(e){return t.call(this,a.PKConstants.Endpoints.Token.Deposit,e)||this}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),!s.transactionUidValidate(this.data.txn))throw new c.InvalidTransactionUidError},e.prototype.format=function(){t.prototype.format.call(this),this.data.txn=(this.data.txn+"").toLowerCase()},e}(i.ReqMsgBase);r.ReqMsgTokenDeposit=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/HexAddressValidate":"HexAddressValidate","../../errors/InvalidTransactionUidError":"InvalidTransactionUidError","../PKConstants":"PKConstants"}],"ReqMsg.TokenHistory":[function(t,e,r){"use strict";cc._RF.push(e,"29185Jm/iJJWr/mt/AJyWSI","ReqMsg.TokenHistory");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgTokenHistory=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../../utils/ObjectUtils"),c=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Token.History,e)||this}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this),this.data.page<=0&&(this.data.page=1)},e.prototype.format=function(){t.prototype.format.call(this),this.data.page=a.numberFormatter(this.data.page)},e}(i.ReqMsgBase);r.ReqMsgTokenHistory=c,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../PKConstants":"PKConstants"}],"ReqMsg.TokenMyInfo":[function(t,e,r){"use strict";cc._RF.push(e,"df05eO9KbtH8pYCdE/CuxJu","ReqMsg.TokenMyInfo");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgTokenMyInfo=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Token.MyInfo,e)||this}return o(e,t),e.prototype.validate=function(){this.format(),t.prototype.validate.call(this)},e.prototype.format=function(){t.prototype.format.call(this)},e}(i.ReqMsgBase);r.ReqMsgTokenMyInfo=a,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../PKConstants":"PKConstants"}],"ReqMsg.TokenWithdrawal":[function(t,e,r){"use strict";cc._RF.push(e,"7903eN/kiZOh7w8finbkSj5","ReqMsg.TokenWithdrawal");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ReqMsgTokenWithdrawal=void 0;var i=t("../../../entity/req/ReqMsg.Base"),s=t("../PKConstants"),a=t("../../../utils/ObjectUtils"),c=t("../../errors/Token.Withdrawal.InvalidParamsError"),u=function(t){function e(e){return t.call(this,s.PKConstants.Endpoints.Token.Withdrawal,e)||this}return o(e,t),e.prototype.validate=function(){if(this.format(),t.prototype.validate.call(this),this.data.amount<=0)throw new c.TokenWithdrawalInvalidParamsError},e.prototype.format=function(){t.prototype.format.call(this),this.data.amount=a.numberFormatter(this.data.amount||0)},e}(i.ReqMsgBase);r.ReqMsgTokenWithdrawal=u,cc._RF.pop()},{"../../../entity/req/ReqMsg.Base":"ReqMsg.Base","../../../utils/ObjectUtils":"ObjectUtils","../../errors/Token.Withdrawal.InvalidParamsError":"Token.Withdrawal.InvalidParamsError","../PKConstants":"PKConstants"}],"ResMsg.Base":[function(t,e,r){"use strict";cc._RF.push(e,"00a8c0Vhm1JopL4NrcDk26c","ResMsg.Base"),Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgBase=void 0;var n=t("../../errors/ErrorCode");r.ResMsgBase=function(t){this.code=n.ErrorCode.NO_ERROR,this.requestId=t},cc._RF.pop()},{"../../errors/ErrorCode":"ErrorCode"}],"ResMsg.EquipmentAdd":[function(t,e,r){"use strict";cc._RF.push(e,"535d7mpu6RBsoVY/w+w1t/C","ResMsg.EquipmentAdd");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgEquipmentAdd=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.newEquipments=t},a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=new s(r),n}return o(e,t),e}(i.ResMsgBase);r.ResMsgEquipmentAdd=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.GachaShip":[function(t,e,r){"use strict";cc._RF.push(e,"8dec2Pl7axPP5m8a1seN6c8","ResMsg.GachaShip");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgGachaShip=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.newShips=t},a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=new s(r),n}return o(e,t),e}(i.ResMsgBase);r.ResMsgGachaShip=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.GeneralMsg":[function(t,e,r){"use strict";cc._RF.push(e,"73f9cGSzeVD/pEdkWr37DRm","ResMsg.GeneralMsg");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgGeneralMsg=void 0;var i=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgGeneralMsg=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.GetLoginCode":[function(t,e,r){"use strict";cc._RF.push(e,"1aadew9zipH3qVzHb6vQ3sP","ResMsg.GetLoginCode");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgGetLoginCode=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.loginCode=t},a=function(t){function e(e){var r=t.call(this,0)||this;return r.data=new s(e),r}return o(e,t),e}(i.ResMsgBase);r.ResMsgGetLoginCode=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Market.Cancel":[function(t,e,r){"use strict";cc._RF.push(e,"7b6b4yWbvZE2bGMHAZhAMmt","ResMsg.Market.Cancel");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgMarketCancel=void 0;var i=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgMarketCancel=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Market.MyListing":[function(t,e,r){"use strict";cc._RF.push(e,"95399jF6xNFkJ8pHWtwrqV+","ResMsg.Market.MyListing");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgMarketMyListing=void 0;var i=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgMarketMyListing=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Market.MyOffer":[function(t,e,r){"use strict";cc._RF.push(e,"dd490sby6dAt5FSGxOOb+75","ResMsg.Market.MyOffer");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgMarketMyOffer=void 0;var i=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgMarketMyOffer=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.Market.Sell":[function(t,e,r){"use strict";cc._RF.push(e,"2357aGEtZ1NQ41bBeMcxlP1","ResMsg.Market.Sell");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgMarketSell=r.MarketItem=void 0;var i=t("../../../entity/res/ResMsg.Base");r.MarketItem=function(){};var s=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(i.ResMsgBase);r.ResMsgMarketSell=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.PveFinish":[function(t,e,r){"use strict";cc._RF.push(e,"dc7f8tZ6btN2oNJLcYIXxyT","ResMsg.PveFinish");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPveFinish=r.PveFinishData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.PveFinishData=function(){};var s=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(i.ResMsgBase);r.ResMsgPveFinish=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.PveStart":[function(t,e,r){"use strict";cc._RF.push(e,"7c2d1J0IzZK9oK1wb1REQnM","ResMsg.PveStart");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPveStart=r.PveStartData=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("../state/ShipHistory.state").ShipHistoryState);r.PveStartData=s;var a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(i.ResMsgBase);r.ResMsgPveStart=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base","../state/ShipHistory.state":"ShipHistory.state"}],"ResMsg.PvpSpinReward":[function(t,e,r){"use strict";cc._RF.push(e,"86765ACRDtI7ptIhpHbX1d/","ResMsg.PvpSpinReward");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgPvpSpinReward=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.rewards=t},a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=new s(r),n}return o(e,t),e}(i.ResMsgBase);r.ResMsgPvpSpinReward=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.RewardClaim":[function(t,e,r){"use strict";cc._RF.push(e,"c23efXYes1GfK/cCYEj75Br","ResMsg.RewardClaim");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgRewardClaim=r.RewardClaimData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.RewardClaimData=function(){};var s=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(i.ResMsgBase);r.ResMsgRewardClaim=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.RewardList":[function(t,e,r){"use strict";cc._RF.push(e,"57b8bjZcS1HQbCieR+yrY9+","ResMsg.RewardList");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgRewardList=r.RewardListData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.RewardListData=function(){};var s=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(i.ResMsgBase);r.ResMsgRewardList=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.ShipReload":[function(t,e,r){"use strict";cc._RF.push(e,"fc71c6+mtZEFYE+kxcUZGh4","ResMsg.ShipReload");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgShipReload=r.ShipReloadData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.ShipReloadData=function(){};var s=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(i.ResMsgBase);r.ResMsgShipReload=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.ShopBuy":[function(t,e,r){"use strict";cc._RF.push(e,"9b781zJ2CtIhpzi5Lvcbx4W","ResMsg.ShopBuy");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgShopBuy=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.shop=t},a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=new s(r),n}return o(e,t),e}(i.ResMsgBase);r.ResMsgShopBuy=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.ShopList":[function(t,e,r){"use strict";cc._RF.push(e,"c825cglWAdNfacR3x5ZXkru","ResMsg.ShopList");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgShopList=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.shops=t},a=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=new s(r),n}return o(e,t),e}(i.ResMsgBase);r.ResMsgShopList=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.SignatureVerify":[function(t,e,r){"use strict";cc._RF.push(e,"e87fdaNLflM6Kx9A6RMQUjC","ResMsg.SignatureVerify");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgSignatureVerify=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.nonce=t},a=function(t){function e(e){var r=t.call(this,0)||this;return r.data=new s(e),r}return o(e,t),e}(i.ResMsgBase);r.ResMsgSignatureVerify=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.TokenDeposit":[function(t,e,r){"use strict";cc._RF.push(e,"56383Sij+pCGq3MCmri8Sbc","ResMsg.TokenDeposit");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgTokenDeposit=void 0;var i=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgTokenDeposit=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.TokenHistory":[function(t,e,r){"use strict";cc._RF.push(e,"f1990oioaZHFL10ZZGr8/FP","ResMsg.TokenHistory");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgTokenHistory=r.TokenHistoryData=void 0;var i=t("../../../entity/res/ResMsg.Base");r.TokenHistoryData=function(){};var s=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(i.ResMsgBase);r.ResMsgTokenHistory=s,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.TokenMyInfo":[function(t,e,r){"use strict";cc._RF.push(e,"b50d4J04XxEc44j1sNjprtg","ResMsg.TokenMyInfo");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgTokenMyInfo=void 0;var i=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgTokenMyInfo=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.TokenWithdrawal":[function(t,e,r){"use strict";cc._RF.push(e,"919d4ptZhtHv59L6AMQKN+R","ResMsg.TokenWithdrawal");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgTokenWithdrawal=void 0;var i=function(t){function e(e,r){var n=t.call(this,e)||this;return n.data=r,n}return o(e,t),e}(t("../../../entity/res/ResMsg.Base").ResMsgBase);r.ResMsgTokenWithdrawal=i,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"ResMsg.WebShopDetail":[function(t,e,r){"use strict";cc._RF.push(e,"6b9c9odRa9CNbzr6x+7wC9Q","ResMsg.WebShopDetail");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResMsgWebShopDetail=void 0;var i=t("../../../entity/res/ResMsg.Base"),s=function(t){this.shop=t},a=function(t){function e(e){var r=t.call(this,0)||this;return r.data=new s(e),r}return o(e,t),e}(i.ResMsgBase);r.ResMsgWebShopDetail=a,cc._RF.pop()},{"../../../entity/res/ResMsg.Base":"ResMsg.Base"}],"Resource.state":[function(t,e,r){"use strict";cc._RF.push(e,"75871TFzlBOs5pc+6avIYJ6","Resource.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.ResourceState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataId=0,e.quantity=0,e}return o(e,t),i([s.type("number")],e.prototype,"dataId",void 0),i([s.type("number")],e.prototype,"quantity",void 0),i([s.type("number")],e.prototype,"maxQuantity",void 0),i([s.type("number")],e.prototype,"lastRecoveryTime",void 0),i([s.type("number")],e.prototype,"recoveryPoint",void 0),e}(s.Schema);r.ResourceState=a,cc._RF.pop()},{"@colyseus/schema":3}],ResourceNotEnoughError:[function(t,e,r){"use strict";cc._RF.push(e,"bc232Ab/7hNXobxCG+0weMr","ResourceNotEnoughError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ResourceNotEnoughError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.RESOURCE_NOT_ENOUGH,"RESOURCE_NOT_ENOUGH")||this}return o(e,t),e}(s.default);r.ResourceNotEnoughError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ResourceTypeData:[function(t,e,r){"use strict";cc._RF.push(e,"887f8/WMJ5EGbNJVZb4PIjZ","ResourceTypeData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ResourceTypeData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.ResourceTypeData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],"Reward.state":[function(t,e,r){"use strict";cc._RF.push(e,"bfeb2P7wStEP6VsB3oc01Kw","Reward.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.RewardState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),i([s.type("number")],e.prototype,"uid",void 0),i([s.type("string")],e.prototype,"characterWalletUid",void 0),i([s.type("number")],e.prototype,"shipUid",void 0),i([s.type("number")],e.prototype,"shipDataId",void 0),i([s.type("number")],e.prototype,"goldReward",void 0),i([s.type("number")],e.prototype,"createdAt",void 0),i([s.type("number")],e.prototype,"claimedAt",void 0),i([s.type("number")],e.prototype,"claimedTax",void 0),i([s.type("number")],e.prototype,"claimedGold",void 0),e}(s.Schema);r.RewardState=a,cc._RF.pop()},{"@colyseus/schema":3}],RewardClaimedError:[function(t,e,r){"use strict";cc._RF.push(e,"d3196RshoREXpzVeQIsMOZM","RewardClaimedError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.RewardClaimedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.REWARD_NOT_CLAIMED,"REWARD_NOT_CLAIMED")||this}return o(e,t),e}(s.default);r.RewardClaimedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],RewardInvalidUidError:[function(t,e,r){"use strict";cc._RF.push(e,"09f8c31FFZMkapsWjmeTFaj","RewardInvalidUidError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.RewardInvalidUidError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.REWARD_INVALID_UID,"REWARD_INVALID_UID")||this}return o(e,t),e}(s.default);r.RewardInvalidUidError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],RewardNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"7a32acCNm1CRrBqlenc/Lc0","RewardNotFoundError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.RewardNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.REWARD_NOT_FOUND,"REWARD_NOT_FOUND")||this}return o(e,t),e}(s.default);r.RewardNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],SessionExpiredError:[function(t,e,r){"use strict";cc._RF.push(e,"8adb7DxHzRPMa+fmW1w6cPT","SessionExpiredError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.SessionExpiredError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SESSION_EXPIRED,"Session expired")||this}return o(e,t),e}(s.default);r.SessionExpiredError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Ship.Unrepairable.Error":[function(t,e,r){"use strict";cc._RF.push(e,"8e411EUZAJLxZD2rjPj3bVs","Ship.Unrepairable.Error");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipUnrepairableError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_UNREPAIRABLE,"SHIP_UNREPAIRABLE")||this}return o(e,t),e}(s.default);r.ShipUnrepairableError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Ship.state":[function(t,e,r){"use strict";cc._RF.push(e,"7b542AV0qlEi5Fa/+xjy9ia","Ship.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipState=void 0;var a=t("@colyseus/schema"),c=t("./Resource.state"),u=t("./Stats.state"),p=s(t("moment")),l=t("./EquipmentState"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uid=0,e.dataId=0,e.level=1,e.exp=0,e.durability=1/0,e.bullet=new c.ResourceState,e.equipments=new a.ArraySchema,e.bonusStats=new u.StatsState,e.stats=new u.StatsState,e.lastDurabilityCheckTime=0,e.repairTimes=0,e.unrepairable=!1,e.createdAt=p.default().valueOf(),e.boughtAt=p.default().valueOf(),e}return o(e,t),i([a.type("number")],e.prototype,"uid",void 0),i([a.type("string")],e.prototype,"characterWalletUid",void 0),i([a.type("number")],e.prototype,"dataId",void 0),i([a.type("number")],e.prototype,"level",void 0),i([a.type("number")],e.prototype,"exp",void 0),i([a.type("number")],e.prototype,"durability",void 0),i([a.type(c.ResourceState)],e.prototype,"bullet",void 0),i([a.type({array:l.EquipmentState})],e.prototype,"equipments",void 0),i([a.type(u.StatsState)],e.prototype,"bonusStats",void 0),i([a.type(u.StatsState)],e.prototype,"stats",void 0),i([a.type("number")],e.prototype,"lastDurabilityCheckTime",void 0),i([a.type("number")],e.prototype,"repairTimes",void 0),i([a.type("boolean")],e.prototype,"unrepairable",void 0),i([a.type("number")],e.prototype,"createdAt",void 0),i([a.type("number")],e.prototype,"boughtAt",void 0),e}(a.Schema);r.ShipState=f,cc._RF.pop()},{"./EquipmentState":"EquipmentState","./Resource.state":"Resource.state","./Stats.state":"Stats.state","@colyseus/schema":3,moment:34}],ShipCell:[function(t,e,r){"use strict";cc._RF.push(e,"f6b96duuX1IcoFHryd77TJP","ShipCell");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.avatar=null,e.numbTurn=null,e.selected=null,e.data=null,e.callback=null,e}return o(e,t),e.prototype.setData=function(t,e){this.index=e,this.data=t,this.numbTurn.string=t.bullet.quantity.toString(),this.avatar.spriteFrame=a.default.instance.getSpriteById(t.dataId)},e.prototype.onSelect=function(){null!=this.callback&&this.callback(this.index)},i([p(cc.Sprite)],e.prototype,"avatar",void 0),i([p(cc.Label)],e.prototype,"numbTurn",void 0),i([p(cc.Node)],e.prototype,"selected",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../../Manager/GameManager":"GameManager"}],ShipData:[function(t,e,r){"use strict";cc._RF.push(e,"6935enrmNBFZZJOvvdRFq5O","ShipData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ShipData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.ShipData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],"ShipEquipment.state":[function(t,e,r){"use strict";cc._RF.push(e,"d794f1YsKhE8JpvfbeYnLiN","ShipEquipment.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipEquipmentState=void 0;var s=t("@colyseus/schema"),a=t("./EquipmentState"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cannon=new a.EquipmentState,e.bullet=new a.EquipmentState,e.sail=new a.EquipmentState,e.flag=new a.EquipmentState,e.head=new a.EquipmentState,e}return o(e,t),i([s.type(a.EquipmentState)],e.prototype,"cannon",void 0),i([s.type(a.EquipmentState)],e.prototype,"bullet",void 0),i([s.type(a.EquipmentState)],e.prototype,"sail",void 0),i([s.type(a.EquipmentState)],e.prototype,"flag",void 0),i([s.type(a.EquipmentState)],e.prototype,"head",void 0),e}(s.Schema);r.ShipEquipmentState=c,cc._RF.pop()},{"./EquipmentState":"EquipmentState","@colyseus/schema":3}],"ShipHistory.state":[function(t,e,r){"use strict";cc._RF.push(e,"a65fa+UU45I/JAURMHKasWg","ShipHistory.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipHistoryState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),i([s.type("number")],e.prototype,"uid",void 0),i([s.type("string")],e.prototype,"characterWalletUid",void 0),i([s.type("number")],e.prototype,"shipUid",void 0),i([s.type("number")],e.prototype,"shipDataId",void 0),i([s.type("number")],e.prototype,"monsterDataId",void 0),i([s.type("number")],e.prototype,"randomSeed",void 0),i([s.type("number")],e.prototype,"createdAt",void 0),i([s.type("number")],e.prototype,"finishedAt",void 0),i([s.type("number")],e.prototype,"rewardLevelId",void 0),i([s.type("number")],e.prototype,"goldReward",void 0),i([s.type("number")],e.prototype,"expReward",void 0),i([s.type("boolean")],e.prototype,"isSkip",void 0),e}(s.Schema);r.ShipHistoryState=a,cc._RF.pop()},{"@colyseus/schema":3}],ShipLimitError:[function(t,e,r){"use strict";cc._RF.push(e,"dbd85TRix5NeJNs2L+j3oeK","ShipLimitError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipLimitError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_LIMIT,"SHIP_LIMIT")||this}return o(e,t),e}(s.default);r.ShipLimitError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipNeedRepairError:[function(t,e,r){"use strict";cc._RF.push(e,"1d5ecTPhhpCk6SPHrY6Zoj1","ShipNeedRepairError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipNeedRepairError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_NEED_REPAIR,"SHIP_NEED_REPAIR")||this}return o(e,t),e}(s.default);r.ShipNeedRepairError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipNoNeedRepairError:[function(t,e,r){"use strict";cc._RF.push(e,"68ed40FNexPLop69UpbaLZm","ShipNoNeedRepairError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipNoNeedRepairError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_NO_NEED_REPAIR,"SHIP_NO_NEED_REPAIR")||this}return o(e,t),e}(s.default);r.ShipNoNeedRepairError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"5d4cbdbxCVJBKy+gSKEjWiU","ShipNotFoundError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_NOT_FOUND,"SHIP_NOT_FOUND")||this}return o(e,t),e}(s.default);r.ShipNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipPveBattleExpiredError:[function(t,e,r){"use strict";cc._RF.push(e,"d8283PIkbtIxYx8gI/UoiBs","ShipPveBattleExpiredError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipPveBattleExpiredError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_PVE_BATTLE_EXPIRED,"SHIP_PVE_BATTLE_EXPIRED")||this}return o(e,t),e}(s.default);r.ShipPveBattleExpiredError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipPveBattleFinishedError:[function(t,e,r){"use strict";cc._RF.push(e,"020b9z/bF5CpaQbb11Ol2RR","ShipPveBattleFinishedError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipPveBattleFinishedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_PVE_BATTLE_FINISHED,"SHIP_PVE_BATTLE_FINISHED")||this}return o(e,t),e}(s.default);r.ShipPveBattleFinishedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipPveBattleNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"4bcef6/ajFC+o4DekLNtkG5","ShipPveBattleNotFoundError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipPveBattleNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_PVE_BATTLE_NOT_FOUND,"SHIP_PVE_BATTLE_NOT_FOUND")||this}return o(e,t),e}(s.default);r.ShipPveBattleNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipPveFinishParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"4cf5f+1X1pNMbR+IinZPJKS","ShipPveFinishParamsError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipPveFinishParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_PVE_FINISH_PARAM_ERROR,"SHIP_PVE_FINISH_PARAM_ERROR")||this}return o(e,t),e}(s.default);r.ShipPveFinishParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipPveStartParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"da286CLXCpGArTsWYjiKRFp","ShipPveStartParamsError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipPveStartParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_PVE_START_PARAM_ERROR,"SHIP_PVE_START_PARAM_ERROR")||this}return o(e,t),e}(s.default);r.ShipPveStartParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipRepairInvalidParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"79c07mLmpdH2Zcg/X2SCTpQ","ShipRepairInvalidParamsError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShipRepairInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHIP_REPAIR_INVALID_PARAM,"SHIP_REPAIR_INVALID_PARAM")||this}return o(e,t),e}(s.default);r.ShipRepairInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShipTypesData:[function(t,e,r){"use strict";cc._RF.push(e,"c0231mHEspAG437FYCC/N+5","ShipTypesData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ShipTypeData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.ShipTypeData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],"Shop.state":[function(t,e,r){"use strict";cc._RF.push(e,"755e7iEMfhBqrs5W/o7I8XA","Shop.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopState=void 0;var s=t("@colyseus/schema"),a=t("./ShopItem.state"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uid=0,e.dataId=0,e}return o(e,t),i([s.type("number")],e.prototype,"uid",void 0),i([s.type("string")],e.prototype,"characterWalletUid",void 0),i([s.type("number")],e.prototype,"dataId",void 0),i([s.type("boolean")],e.prototype,"isOpening",void 0),i([s.type("number")],e.prototype,"lastUpdateTime",void 0),i([s.type({array:a.ShopItemState})],e.prototype,"items",void 0),i([s.type("number")],e.prototype,"version",void 0),e}(s.Schema);r.ShopState=c,cc._RF.pop()},{"./ShopItem.state":"ShopItem.state","@colyseus/schema":3}],ShopBuyInvalidParamsError:[function(t,e,r){"use strict";cc._RF.push(e,"cbab0IyFdJJdrmK0U4qmQXT","ShopBuyInvalidParamsError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopBuyInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHOP_BUY_INVALID_PARAM,"SHOP_BUY_INVALID_PARAM")||this}return o(e,t),e}(s.default);r.ShopBuyInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShopData:[function(t,e,r){"use strict";cc._RF.push(e,"d29d6YzqGtOKaHImdCihxrE","ShopData");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ShopData=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("./BaseData").BaseData);r.ShopData=i,cc._RF.pop()},{"./BaseData":"BaseData"}],"ShopItem.state":[function(t,e,r){"use strict";cc._RF.push(e,"8fd61X76WhL84mLqqoMix7r","ShopItem.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopItemState=void 0;var s=t("@colyseus/schema"),a=t("./Resource.state"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uid=0,e}return o(e,t),i([s.type("number")],e.prototype,"uid",void 0),i([s.type("boolean")],e.prototype,"isHot",void 0),i([s.type("boolean")],e.prototype,"onSale",void 0),i([s.type("number")],e.prototype,"boughtNumber",void 0),i([s.type("number")],e.prototype,"sellLimitNumber",void 0),i([s.type(a.ResourceState)],e.prototype,"price",void 0),i([s.type(a.ResourceState)],e.prototype,"salePrice",void 0),i([s.type(a.ResourceState)],e.prototype,"item",void 0),e}(s.Schema);r.ShopItemState=c,cc._RF.pop()},{"./Resource.state":"Resource.state","@colyseus/schema":3}],ShopItemData:[function(t,e,r){"use strict";cc._RF.push(e,"692f10x/8BBjbt5xmED3FH9","ShopItemData"),Object.defineProperty(r,"__esModule",{value:!0}),r.ShopItemData=void 0;r.ShopItemData=function(){},cc._RF.pop()},{}],ShopItemNotAvailableError:[function(t,e,r){"use strict";cc._RF.push(e,"b56ffBXV5FGA65Nh2gaKBmn","ShopItemNotAvailableError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopItemNotAvailableError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHOP_ITEM_NOT_AVAILABLE,"SHOP_ITEM_NOT_AVAILABLE")||this}return o(e,t),e}(s.default);r.ShopItemNotAvailableError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShopItemNotEnoughQuantityError:[function(t,e,r){"use strict";cc._RF.push(e,"14798INKR5CJYEaValyNUqs","ShopItemNotEnoughQuantityError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopItemNotEnoughQuantityError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHOP_ITEM_NOT_ENOUGH_QUANTITY,"SHOP_ITEM_NOT_ENOUGH_QUANTITY")||this}return o(e,t),e}(s.default);r.ShopItemNotEnoughQuantityError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShopItem:[function(t,e,r){"use strict";cc._RF.push(e,"42848x+r4VNdZtWLLGHIKWc","ShopItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=s(t("../../Manager/GameManager")),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.price=null,e.qtyItem=null,e.iconResource=null,e.iconItem=null,e.data=null,e.callback=null,e}return o(e,t),e.prototype.setData=function(t){this.data=t,this.price.string=t.price.quantity.toString(),this.qtyItem.string="x"+t.item.quantity,this.iconResource.spriteFrame=a.default.instance.getSpriteById(t.price.dataId),this.iconItem.spriteFrame=a.default.instance.getSpriteById(t.item.dataId)},e.prototype.onBuy=function(){null!=this.callback&&this.callback(this.data)},i([p(cc.Label)],e.prototype,"price",void 0),i([p(cc.Label)],e.prototype,"qtyItem",void 0),i([p(cc.Sprite)],e.prototype,"iconResource",void 0),i([p(cc.Sprite)],e.prototype,"iconItem",void 0),i([u],e)}(cc.Component);r.default=l,cc._RF.pop()},{"../../Manager/GameManager":"GameManager"}],ShopModel:[function(t,e,r){"use strict";cc._RF.push(e,"33578qXS15Jo6ses8njX/m/","ShopModel");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.ShopDataServer=r.ShopItemDataServer=void 0;var i=t("../../../pirate-king-nft-core/pk/dataLoader/ShopData"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("../../../pirate-king-nft-core/pk/dataLoader/ShopItemData").ShopItemData);r.ShopItemDataServer=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(i.ShopData);r.ShopDataServer=a,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/ShopData":"ShopData","../../../pirate-king-nft-core/pk/dataLoader/ShopItemData":"ShopItemData"}],ShopNotAvailableError:[function(t,e,r){"use strict";cc._RF.push(e,"f43d7LH7oRDCa1d35Vy8S2G","ShopNotAvailableError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopNotAvailableError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHOP_NOT_AVAILABLE,"SHOP_NOT_AVAILABLE")||this}return o(e,t),e}(s.default);r.ShopNotAvailableError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShopNotFoundError:[function(t,e,r){"use strict";cc._RF.push(e,"30801T+GAFGX7VSHYRjnmpR","ShopNotFoundError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopNotFoundError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHOP_NOT_FOUND,"SHOP_NOT_FOUND")||this}return o(e,t),e}(s.default);r.ShopNotFoundError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],ShopResetType:[function(t,e,r){"use strict";cc._RF.push(e,"a1c30r1HmREj6vrMu5XAez3","ShopResetType"),Object.defineProperty(r,"__esModule",{value:!0}),r.ShopResetType=void 0,function(t){t[t.NO_RESET=0]="NO_RESET",t[t.DURATION=1]="DURATION",t[t.HOURLY=2]="HOURLY",t[t.DAILY=3]="DAILY",t[t.WEEKLY=4]="WEEKLY",t[t.MONTHLY=5]="MONTHLY"}(r.ShopResetType||(r.ShopResetType={})),cc._RF.pop()},{}],ShopType:[function(t,e,r){"use strict";cc._RF.push(e,"4fde6WWQAlPZ4pfToRVOLz7","ShopType"),Object.defineProperty(r,"__esModule",{value:!0}),r.ShopType=void 0,function(t){t[t.GLOBAL=0]="GLOBAL",t[t.CHARACTER=1]="CHARACTER"}(r.ShopType||(r.ShopType={})),cc._RF.pop()},{}],ShopUI:[function(t,e,r){"use strict";cc._RF.push(e,"aaea3sMyLZCCo5osug7jooI","ShopUI");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("./../../Common/Toast"),c=t("./../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),u=s(t("../../Manager/GameManager")),p=s(t("./TabItem")),l=s(t("./ConfirmBuy")),f=s(t("./ShopItem")),h=t("../../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopBuy"),d=cc._decorator,_=d.ccclass,y=d.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.confirmPopup=null,e.tabs=null,e.groupItems=null,e.prefabTab=null,e.numbPage=null,e.curPage=1,e.maxPage=1,e.maxGrid=9,e.shops=[],e.curShop=null,e.curItem=null,e.items=[],e}return o(e,t),e.prototype.onEnable=function(){var t=this;this.items=this.groupItems.getComponentsInChildren(f.default),u.default.instance.client.listShop(function(e){t.shops=e.data.shops;var r=t.shops.findIndex(function(t){return 43==t.dataId});-1!=r&&t.shops.splice(r,1),t.loadUI()})},e.prototype.loadUI=function(){var t=this;this.tabs.destroyAllChildren();for(var e=0;e<this.shops.length;e++){var r=this.shops[e],n=cc.instantiate(this.prefabTab.data);n.parent=this.tabs;var o=n.getComponent(p.default);o.setData(r),o.callback=function(e){t.loadContent(e)},0==e&&o.onToggle(null)}},e.prototype.loadContent=function(t){this.curShop=t,this.loadPage()},e.prototype.nextPage=function(){this.curPage<this.maxPage&&(this.curPage++,this.loadPage())},e.prototype.previousPage=function(){this.curPage>1&&(this.curPage--,this.loadPage())},e.prototype.loadPage=function(){var t=this,e=(this.curPage-1)*this.maxGrid;this.numbPage.string=this.curPage+"/"+this.maxPage;for(var r=0;r<this.items.length;r++)if(r+e<this.curShop.items.length){var n=this.curShop.items[r+e];this.items[r].node.active=!0,this.items[r].setData(n),this.items[r].callback=function(e){t.onConfirmBuy(e)}}else this.items[r].node.active=!1},e.prototype.onConfirmBuy=function(t){var e=this;this.confirmPopup.setData(t),this.confirmPopup.callback=function(t){e.onAccept(t)}},e.prototype.onAccept=function(t){this.curItem=t;var e=this,r=u.default.instance.user,n=new h.ReqMsgShopBuyData;n.characterWalletUid=r.walletUid,n.shopDataId=this.curShop.dataId,n.shopItemUid=t.uid,n.quantity=1,u.default.instance.client.shopBuy(n,function(){var t=c.dataLoader.getGameDataItem(e.curItem.item.dataId);a.Toast.instance.showText("Congratulations, you have received "+t.name)})},i([y(l.default)],e.prototype,"confirmPopup",void 0),i([y(cc.Node)],e.prototype,"tabs",void 0),i([y(cc.Node)],e.prototype,"groupItems",void 0),i([y(cc.Prefab)],e.prototype,"prefabTab",void 0),i([y(cc.Label)],e.prototype,"numbPage",void 0),i([_],e)}(cc.Component);r.default=v,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopBuy":"ReqMsg.ShopBuy","../../Manager/GameManager":"GameManager","./../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","./../../Common/Toast":"Toast","./ConfirmBuy":"ConfirmBuy","./ShopItem":"ShopItem","./TabItem":"TabItem"}],ShopWasClosedError:[function(t,e,r){"use strict";cc._RF.push(e,"92d0bpqac5LGJJ6sITURUXc","ShopWasClosedError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ShopWasClosedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SHOP_WAS_CLOSED,"SHOP_WAS_CLOSED")||this}return o(e,t),e}(s.default);r.ShopWasClosedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],SignatureVerifyFailedError:[function(t,e,r){"use strict";cc._RF.push(e,"560c0/inRNNAY7C5ZMvY78e","SignatureVerifyFailedError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.SignatureVerifyFailedError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.SIGNATURE_VERIFY_FAILED,"SignatureVerifyFailedError")||this}return o(e,t),e}(s.default);r.SignatureVerifyFailedError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Stats.state":[function(t,e,r){"use strict";cc._RF.push(e,"a55f8Qzi7pHxaLPyqvxVOju","Stats.state");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0}),r.StatsState=void 0;var s=t("@colyseus/schema"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.damage=0,e.defence=0,e.hp=0,e}return o(e,t),i([s.type("number")],e.prototype,"damage",void 0),i([s.type("number")],e.prototype,"defence",void 0),i([s.type("number")],e.prototype,"hp",void 0),e}(s.Schema);r.StatsState=a,cc._RF.pop()},{"@colyseus/schema":3}],Stats:[function(t,e,r){"use strict";cc._RF.push(e,"86cc557j7BKIJRuxN3+3iOF","Stats");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.Stats=void 0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(t("../entity/state/Stats.state").StatsState);r.Stats=i,cc._RF.pop()},{"../entity/state/Stats.state":"Stats.state"}],TabItem:[function(t,e,r){"use strict";cc._RF.push(e,"0cd82KBswRLIpw6eCPgp/fs","TabItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tabName=null,e.data=null,e.callback=null,e}return o(e,t),e.prototype.setData=function(t){this.data=t;var e=s.dataLoader.getShopData(this.data.dataId);this.tabName.string=e.name},e.prototype.onToggle=function(){null!=this.callback&&this.callback(this.data)},i([u(cc.Label)],e.prototype,"tabName",void 0),i([c],e)}(cc.Component);r.default=p,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader"}],Target:[function(t,e,r){"use strict";cc._RF.push(e,"d7a9deeH7lCYqqG/vdopBDU","Target");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skeleton=null,e.isAttack=!1,e}return o(e,t),i([c(sp.Skeleton)],e.prototype,"skeleton",void 0),i([a],e)}(cc.Component);r.default=u,cc._RF.pop()},{}],Toast:[function(t,e,r){"use strict";cc._RF.push(e,"4bb4976FNlMb7NRcTJUBZpw","Toast"),Object.defineProperty(r,"__esModule",{value:!0}),r.Toast=void 0;var n=function(){function t(){this.toastNode=null,this.textNode=null,this.textLabel=null,this.canvas=null,this.BG_COLOR=new cc.Color(0,0,0,400),this.toastNode=new cc.Node,this.toastNode.active=!1,this.toastNode.zIndex=1e4,this.canvas=cc.director.getScene().getComponentInChildren(cc.Canvas),this.canvas.node.addChild(this.toastNode),this.toastNode.height=70,this.toastNode.width=600;var t=this.toastNode.getComponent(cc.Graphics);t||(t=this.toastNode.addComponent(cc.Graphics)),t.rect(-this.toastNode.width/2,-this.toastNode.height/2,this.toastNode.width,this.toastNode.height),t.fillColor=this.BG_COLOR,t.fill();var e=this.toastNode.getComponent(cc.Layout);e||(e=this.toastNode.addComponent(cc.Layout)),e.resizeMode=cc.Layout.ResizeMode.CONTAINER,e.paddingBottom=10,e.paddingLeft=10,e.paddingRight=10,e.paddingTop=10,this.textNode=new cc.Node,this.toastNode.addChild(this.textNode),this.textLabel=this.textNode.addComponent(cc.Label),this.textLabel.fontSize=25,this.textLabel.lineHeight=30,this.textLabel.horizontalAlign=cc.Label.HorizontalAlign.CENTER}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.showText=function(t,e){var r=this;void 0===e&&(e=2.5),this.textLabel.string=t,this.toastNode.active=!0,this.toastNode.opacity=255;var n=cc.winSize.height;this.toastNode.position=cc.v3(0,-n/2+80,0),this.toastNode.runAction(cc.sequence(cc.delayTime(e),cc.fadeOut(.2),cc.callFunc(function(){r.toastNode.active=!1},this)))},t._instance=null,t}();r.Toast=n,cc._RF.pop()},{}],"Token.Deposit.TxnInvalid.Error":[function(t,e,r){"use strict";cc._RF.push(e,"37cacu4MH5GrarHxIOW2+gp","Token.Deposit.TxnInvalid.Error");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenDepositTxnInvalidError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.TOKEN_TXN_INVALID)||this}return o(e,t),e}(s.default);r.TokenDepositTxnInvalidError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Token.TxnExist.Error":[function(t,e,r){"use strict";cc._RF.push(e,"d46a2bR8mNL8qjsQofg5ytB","Token.TxnExist.Error");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenTxnExistError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.TOKEN_TXN_EXIST)||this}return o(e,t),e}(s.default);r.TokenTxnExistError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Token.Withdrawal.CoolDownError":[function(t,e,r){"use strict";cc._RF.push(e,"7d4c2cluaJCeoyOX+7wE02k","Token.Withdrawal.CoolDownError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenWithdrawalCoolDownError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.TOKEN_WITHDRAWAL_COOL_DOWN)||this}return o(e,t),e}(s.default);r.TokenWithdrawalCoolDownError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Token.Withdrawal.InvalidParamsError":[function(t,e,r){"use strict";cc._RF.push(e,"39fe27yo85MdpRqGL/b+9sb","Token.Withdrawal.InvalidParamsError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenWithdrawalInvalidParamsError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.TOKEN_WITHDRAWAL_INVALID_PARAM)||this}return o(e,t),e}(s.default);r.TokenWithdrawalInvalidParamsError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Token.Withdrawal.LimitError":[function(t,e,r){"use strict";cc._RF.push(e,"c22eeucwrdL0oIQKYO2WqtH","Token.Withdrawal.LimitError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenWithdrawalLimitError=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.TOKEN_WITHDRAWAL_LIMIT)||this}return o(e,t),e}(s.default);r.TokenWithdrawalLimitError=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],"Token.Withdrawal.TxnNotFound":[function(t,e,r){"use strict";cc._RF.push(e,"acfe3hjhDxBaLyUNc2NzdVj","Token.Withdrawal.TxnNotFound");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenWithdrawalTxnNotFound=void 0;var s=i(t("../../errors/BaseError")),a=t("../../errors/ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.TOKEN_WITHDRAWAL_TXN_NOT_FOUND)||this}return o(e,t),e}(s.default);r.TokenWithdrawalTxnNotFound=c,cc._RF.pop()},{"../../errors/BaseError":"BaseError","../../errors/ErrorCode":"ErrorCode"}],UnknownError:[function(t,e,r){"use strict";cc._RF.push(e,"51c9dT2WSFP54aTs/QxBy2M","UnknownError");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.UnknownError=void 0;var s=i(t("./BaseError")),a=t("./ErrorCode"),c=function(t){function e(){return t.call(this,a.ErrorCode.UNKNOWN_ERROR,"Unknown error")||this}return o(e,t),e}(s.default);r.UnknownError=c,cc._RF.pop()},{"./BaseError":"BaseError","./ErrorCode":"ErrorCode"}],Utils:[function(t,e,r){"use strict";cc._RF.push(e,"b2da39XUshC+6nGGoHE3uWU","Utils"),Object.defineProperty(r,"__esModule",{value:!0}),r.Utils=void 0;var n=t("axios"),o=t("../Manager/GameManager"),i=t("./Constants"),s=function(){function t(){}return t.log=function(t){i.default.DEV&&console.log(t)},t.readData=function(t){var e=cc.sys.localStorage.getItem(t);return e?JSON.parse(e):{mute:!1,muteSound:!1,auto:!0}},t.saveData=function(t,e){cc.sys.localStorage.setItem(t,JSON.stringify(e))},t.randomNum=function(t,e){var r=o.default.instance.rnd();return Math.floor(r*(e-t))+t},t.randomFloat=function(t,e){return o.default.instance.rnd()*(e-t)+t},t.stringToV3=function(t){t.startsWith("(")&&t.endsWith(")")&&(t=t.substring(1,t.length-2));var e=t.split(",");return cc.v3(Number(e[0]),Number(e[1]),Number(e[2]))},t.isV3Zero=function(t){return 0===t.x&&0===t.y&&0===t.z},t.http=function(t){void 0===t&&(t=!1);var e=n.default.create();return e.defaults.timeout=15e3,t&&(e.defaults.headers.post["Content-Type"]="multipart/form-data"),e},t.requestGet=function(t,e){void 0===e&&(e=null),this.http(!0).get(t).then(function(t){e&&e(t)}).catch(function(t){console.log("Utils -> request -> error",t),e&&e(t)})},t.request=function(t,e,r){void 0===r&&(r=null),null!=e&&null!=e||(e=new FormData),this.http(!0).post(t,e).then(function(t){r&&r(t)}).catch(function(t){console.log("Utils -> request -> error",t),r&&r(t.response)})},t.requestToken=function(t,e,r,n){void 0===n&&(n=null);var o={headers:{Authorization:"Bearer "+r}};null!=e&&null!=e||(e=new FormData),this.http(!0).post(t,e,o).then(function(t){n&&n(t)}).catch(function(t){console.log("Utils -> request -> error",t),n&&n(t.response)})},t.requestJsonToken=function(t,e,r,n){void 0===n&&(n=null);var o={headers:{Authorization:"Bearer "+r}};this.http(!0).post(t,e,o).then(function(t){n&&n(t)}).catch(function(t){console.log("Utils -> request -> error",t),n&&n(t.response)})},t.checkConnection=function(t){this.http().get((i.default.DEV?i.default.DOMAIN_DEV:i.default.DOMAIN)+"/checkNet.php").then(function(e){t&&t(e&&200===e.status)}).catch(function(){t&&t(!1)})},t.parseQueryString=function(t){t||(t=window.location.search.substring(1));var e={};return t.split("&").forEach(function(t){var r=t.split("="),n=decodeURIComponent(r[0]),o=decodeURIComponent(r.length>1?r[1]:"");e[n]=o}),this.log("parseQueryString: "+JSON.stringify(e)),e},t.getBackUrl=function(){o.default.instance.data},t.reset=function(){},t.unixTimeStampToDateTime=function(t){var e=new Date(t),r="0"+e.getDate(),n="0"+(e.getMonth()+1),o=e.getFullYear(),i=e.getHours(),s="0"+e.getMinutes(),a="0"+e.getSeconds(),c=e.getMilliseconds();return o+"-"+n.substr(-2)+"-"+r.substr(-2)+" "+i+":"+s.substr(-2)+":"+a.substr(-2)+":"+c},t}();r.Utils=s,cc._RF.pop()},{"../Manager/GameManager":"GameManager","./Constants":"Constants",axios:4}],WheelItem:[function(t,e,r){"use strict";cc._RF.push(e,"a3a09WA9vNKD58GG056WglA","WheelItem");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(r,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.icon=null,e}return o(e,t),e.prototype.setData=function(t){this._item=t,this.label.string=t.quantity.toString();var e="wheelItem/"+t.dataId,r=this;cc.loader.loadRes(e,cc.SpriteFrame,function(t,e){r.icon.spriteFrame=e})},i([c(cc.Label)],e.prototype,"label",void 0),i([c(cc.Sprite)],e.prototype,"icon",void 0),i([a],e)}(cc.Component);r.default=u,cc._RF.pop()},{}],WheelUI:[function(t,e,r){"use strict";cc._RF.push(e,"fe12eXf5UdG9q/H8gnKzqXT","WheelUI");var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a=t("../../../pirate-king-nft-core/pk/dataLoader/DataLoader"),c=t("../../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopBuy"),u=s(t("../../Common/Constants")),p=t("../../Common/CustomEventListener"),l=s(t("../../Common/ItemViewAnim")),f=t("../../Common/Toast"),h=s(t("../../Manager/GameManager")),d=s(t("./WheelItem")),_=cc._decorator,y=_.ccclass,v=_.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.wheelPrefab=null,e.nodeTurnable=null,e.btnRound=null,e.progessSpin=null,e.spinLabel=[],e.listWheelItem=[],e.randValue=0,e}return o(e,t),e.prototype.onLoad=function(){if(null!=h.default.instance.spinShop&&null!=h.default.instance.spinShop||h.default.instance.client.listShop(function(t){h.default.instance.spinShop=t.data.shops.find(function(t){return 43==t.dataId})}),0==this.listWheelItem.length)for(var t=0;t<10;t++){var e=cc.instantiate(this.wheelPrefab.data);e.setParent(this.nodeTurnable),e.setPosition(0,0),e.setRotation(18+36*t);var r=e.getComponent(d.default);this.listWheelItem.push(r)}this.loadUI()},e.prototype.onEnable=function(){p.CustomEventListener.on(u.default.EventName.UPDATE_RESOURCE,this.updateResource,this),p.CustomEventListener.on(u.default.EventName.UPDATE_PVPSPIN,this.ResultSpin,this)},e.prototype.onDisable=function(){p.CustomEventListener.off(u.default.EventName.UPDATE_RESOURCE,this.updateResource,this),p.CustomEventListener.off(u.default.EventName.UPDATE_PVPSPIN,this.ResultSpin,this)},e.prototype.updateResource=function(){var t=h.default.instance.user;this.spinLabel.map(function(e){return e.string=t.resources[u.default.PVPSPIN_ID].quantity.toString()+"/"+t.resources[u.default.PVPSPIN_ID].maxQuantity.toString()}),this.progessSpin.progress=t.resources[u.default.PVPSPIN_ID].quantity/t.resources[u.default.PVPSPIN_ID].maxQuantity},e.prototype.loadUI=function(){h.default.instance.user,this.updateResource();for(var t=a.dataLoader.getPvpConfig(),e=0;e<t.pvpSpinRewards.length;e++)this.listWheelItem[e].setData(t.pvpSpinRewards[e])},e.prototype.startRun=function(){var t=this,e=this,r=this.nodeTurnable.eulerAngles.z%360;this.nodeTurnable.eulerAngles=cc.v3(0,0,r);var n=360-r,o=3+Math.floor(5*Math.random()),i=-360-360*o+36*this.randValue+18-360,s=n/360+.3*o;h.default.instance.isDelay=!0,cc.tween(this.nodeTurnable).to(s,{angle:i},{easing:"cubicOut"}).call(function(){t.btnRound.interactable=!0,h.default.instance.isDelay=!1,p.CustomEventListener.dispatchEvent(u.default.EventName.UPDATE_RESOURCE);var r=cc.instantiate(e.prefab.data);r.parent=e.node,r.getComponentInChildren(l.default).setData(h.default.instance.resultSpinItem.dataId,h.default.instance.resultSpinItem.quantity);var n=a.dataLoader.getGameDataItem(h.default.instance.resultSpinItem.dataId);null!=n&&f.Toast.instance.showText("Congratulations on getting "+h.default.instance.resultSpinItem.quantity+" "+n.name)}).start()},e.prototype.RoundClick=function(){this.btnRound.interactable=!1,h.default.instance.user.resources[u.default.PVPSPIN_ID].quantity>0?h.default.instance.client.spinReward():f.Toast.instance.showText("Your spin is over")},e.prototype.ResultSpin=function(){if(null!=h.default.instance.resultSpinItem&&null!=h.default.instance.resultSpinItem)for(var t=0;t<this.listWheelItem.length;t++)if(h.default.instance.resultSpinItem.dataId==this.listWheelItem[t]._item.dataId&&h.default.instance.resultSpinItem.quantity==this.listWheelItem[t]._item.quantity){this.randValue=t,this.startRun();break}},e.prototype.BuySpin=function(){var t=h.default.instance,e=t.user,r=t.spinShop;if(null!=r&&null!=r){var n=new c.ReqMsgShopBuyData;n.characterWalletUid=e.walletUid,n.shopDataId=43,n.shopItemUid=r.items[0].uid,n.quantity=1,h.default.instance.client.shopBuy(n,function(){f.Toast.instance.showText("Buy 1 spin successfully!")})}else f.Toast.instance.showText("No data")},i([v(cc.Prefab)],e.prototype,"prefab",void 0),i([v(cc.Prefab)],e.prototype,"wheelPrefab",void 0),i([v(cc.Node)],e.prototype,"nodeTurnable",void 0),i([v(cc.Button)],e.prototype,"btnRound",void 0),i([v(cc.ProgressBar)],e.prototype,"progessSpin",void 0),i([v(cc.Label)],e.prototype,"spinLabel",void 0),i([y],e)}(cc.Component);r.default=g,cc._RF.pop()},{"../../../pirate-king-nft-core/pk/dataLoader/DataLoader":"DataLoader","../../../pirate-king-nft-core/pk/entity/req/ReqMsg.ShopBuy":"ReqMsg.ShopBuy","../../Common/Constants":"Constants","../../Common/CustomEventListener":"CustomEventListener","../../Common/ItemViewAnim":"ItemViewAnim","../../Common/Toast":"Toast","../../Manager/GameManager":"GameManager","./WheelItem":"WheelItem"}]},{},["Base.command","BaseHttp.command","BaseEntity","ReqMsg.Base","ResMsg.Base","BaseError","ErrorCode","InvalidActionError","InvalidNumberValueError","NeedDeclareError","UnknownError","AvatarData","BaseData","ConfigData","DataLoader","EquipmentData","EquipmentTypeData","GachaShipListItem","GameData","GameDataItemTypes","IslandData","IslandLevelConfigData","IslandPathData","ItemData","MonsterData","PortData","PveRewardLevel","RandomItem","ResourceTypeData","ShipData","ShipTypesData","ShopData","ShopItemData","ShopResetType","ShopType","Stats","LoginOptionData","PKConstants","ReqMsg.ChangeAvatar","ReqMsg.EquipmentAdd","ReqMsg.EquipmentEquip","ReqMsg.EquipmentUnEquip","ReqMsg.GachaShip","ReqMsg.GetLoginCode","ReqMsg.Login","ReqMsg.Market.Cancel","ReqMsg.Market.MyListing","ReqMsg.Market.MyOffer","ReqMsg.Market.Sell","ReqMsg.MarketList","ReqMsg.PortUse","ReqMsg.PveFinish","ReqMsg.PveStart","ReqMsg.PvpSpinReward","ReqMsg.PvpUpdateIsland","ReqMsg.PvpUpdateIslandPath","ReqMsg.Rename","ReqMsg.RewardClaim","ReqMsg.RewardList","ReqMsg.ShipReload","ReqMsg.ShipRepair","ReqMsg.ShopBuy","ReqMsg.ShopDetail","ReqMsg.ShopList","ReqMsg.SignatureVerify","ReqMsg.TokenBuyBox","ReqMsg.TokenDeposit","ReqMsg.TokenHistory","ReqMsg.TokenMyInfo","ReqMsg.TokenWithdrawal","ResMsg.EquipmentAdd","ResMsg.GachaShip","ResMsg.GeneralMsg","ResMsg.GetLoginCode","ResMsg.Market.Cancel","ResMsg.Market.MyListing","ResMsg.Market.MyOffer","ResMsg.Market.Sell","ResMsg.PveFinish","ResMsg.PveStart","ResMsg.PvpSpinReward","ResMsg.RewardClaim","ResMsg.RewardList","ResMsg.ShipReload","ResMsg.ShopBuy","ResMsg.ShopList","ResMsg.SignatureVerify","ResMsg.TokenDeposit","ResMsg.TokenHistory","ResMsg.TokenMyInfo","ResMsg.TokenWithdrawal","ResMsg.WebShopDetail","Character.state","CharacterLog.state","CharacterRoom.state","EquipmentState","Island.state","Item.state","Port.state","Resource.state","Reward.state","Ship.state","ShipEquipment.state","ShipHistory.state","Shop.state","ShopItem.state","Stats.state","CharacterAvatarNotFoundError","CharacterNotFoundError","CharacterRenameParamsError","CharacterUsernameAlreadyExistError","EquipmentInUseError","EquipmentNotEquipError","EquipmentNotFoundError","EquipmentNotInUseError","GameDataInvalidDataTypeError","InvalidSignatureError","InvalidTokenError","InvalidTransactionUidError","InvalidWalletUidError","LoginCodeExpiredError","Market.Cancel.MarketItemNotFound.Error","Market.InvalidParams.Error","Market.Sell.NotEnoughMarketTicket.Error","Market.Sell.NotOwnShip.Error","Market.Sell.PortRequired.Error","Market.Sell.ShipBroken.Error","NotEnoughBulletError","NotEnoughGoldError","PortAlreadyOwnError","PortNotOwnError","PortUseInvalidParamsError","PvpInvalidSpinTimesError","PvpUpdateIslandHighestLevelReachedError","PvpUpdateIslandNeedUpdatePathError","PvpUpdateIslandPathHighestLevelReachedError","PvpUpdateIslandPathInvalidParamsError","RedisConnectError","ResourceNotEnoughError","RewardClaimedError","RewardInvalidUidError","RewardNotFoundError","SessionExpiredError","Ship.Unrepairable.Error","ShipLimitError","ShipNeedRepairError","ShipNoNeedRepairError","ShipNotFoundError","ShipPveBattleExpiredError","ShipPveBattleFinishedError","ShipPveBattleNotFoundError","ShipPveFinishParamsError","ShipPveStartParamsError","ShipRepairInvalidParamsError","ShopBuyInvalidParamsError","ShopItemNotAvailableError","ShopItemNotEnoughQuantityError","ShopNotAvailableError","ShopNotFoundError","ShopWasClosedError","SignatureVerifyFailedError","Token.Deposit.TxnInvalid.Error","Token.TxnExist.Error","Token.Withdrawal.CoolDownError","Token.Withdrawal.InvalidParamsError","Token.Withdrawal.LimitError","Token.Withdrawal.TxnNotFound","ArrayUtils","HexAddressValidate","ObjectUtils","AnimPopup","AutoDestroy","Config","Constants","CustomEventListener","ItemViewAnim","NotifyPopup","Overlay","Toast","Utils","AtlasManager","GameManager","NetworkManager ","Bullet","GameScene","ShipCell","Target","AnimMoveBoat","BoatCell","BoatUI","ChangeInfo","EquipInfo","EquipItem","EquipmentUI","HomeScene","MakeBoatUI","IslandItem","IslandUI","WheelItem","WheelUI","LoadingScene","ConfirmBuy","ShopItem","ShopModel","ShopUI","TabItem"]);